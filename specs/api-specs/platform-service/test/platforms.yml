
---
- config:
  - testset: "Platforms"
- test:
  - name: "Creating platform"
  - url: "/rpc/create_platform"
  - headers: {'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoicGxhdGZvcm1fdXNlciIsInVzZXJfaWQiOjk5OTl9.vqzoX2JmI5ZCKZNSCxeX-fns4p4x_r47gjD1qLYIC7Y', 'Content-Type': 'application/json'}
  - method: "POST"
  - body: '{"name": "platform test"}'
  - expected_status: [200]
  - validators:
    - compare: {jsonpath_mini: "0.name", comparator: "eq", expected: "platform test"}

- test:
  - name: "Creating platform without auth"
  - url: "/rpc/create_platform"
  - method: "POST"
  - body: '{"name": "platform test"}'
  - headers: {'Content-Type': 'application/json'}
  - expected_status: [401]

