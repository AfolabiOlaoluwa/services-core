var c=function(e,t,o,r,n,a,i){"use strict";e="default"in e?e["default"]:e,t="default"in t?t["default"]:t,o="default"in o?o["default"]:o,r="default"in r?r["default"]:r,n="default"in n?n["default"]:n,a="default"in a?a["default"]:a,i="default"in i?i["default"]:i;var s={};s["typeof"]="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s.defineProperty=function(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e};var l={},c=function(e){return window.location.hash===e},d=function(e){var t=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),o=new RegExp("[\\?&]"+t+"=([^&#]*)"),r=o.exec(location.search);return null===r?"":decodeURIComponent(r[1].replace(/\+/g," "))},u=function(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1];return e?e:t},p=function(){moment.locale("pt",{months:"Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_")})},f=function(e){return null!=e},w=function(e,t){return t=t||"DD/MM/YYYY",e?moment(e).locale("pt").format(t):"no date"},g=function(e){return sessionStorage.getItem(e)?void 0:sessionStorage.setItem(e,e)},b=function(e,t){return sessionStorage.setItem(e,JSON.stringify(t))},h=function(e){return sessionStorage.getItem(e)?JSON.parse(sessionStorage.getItem(e)):void 0},v=function(e,t){return sessionStorage.getItem(e)?(t.call(),sessionStorage.removeItem(e)):void 0},y=function(e,t){var o=document,r=o.createElement("script");return window.disqus_config=function(){this.page.url=e,this.page.identifier=t},r.src="//catarseflex.disqus.com/embed.js",r.setAttribute("data-timestamp",+new Date),(o.head||o.body).appendChild(r),m("")},j=function(e){var t=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;return t.test(e)},x=function(e){var t=0,o=void 0;if("00000000000"==e)return!1;for(var r=1;9>=r;r++)t+=parseInt(e.substring(r-1,r))*(11-r);if(o=10*t%11,(10==o||11==o)&&(o=0),o!=parseInt(e.substring(9,10)))return!1;t=0;for(var n=1;10>=n;n++)t+=parseInt(e.substring(n-1,n))*(12-n);return o=10*t%11,(10==o||11==o)&&(o=0),o!=parseInt(e.substring(10,11))?!1:!0},k=m.prop([]),z=function(){return k([])},C=function(){m.prop([]);return{submit:function(e,t){return function(){return z(),_.map(e,function(e){"email"===e.rule&&(j(e.prop())||k().push({field:e.prop,message:"E-mail inválido."})),"text"===e.rule&&""===e.prop().trim()&&k().push({field:e.prop,message:"O campo não pode ser vazio."})}),!k().length>0?t():!1}},hasError:function(e){return _.reduce(k(),function(t,o){return o.field()===e()||t},!1)}}},P=function(e,t){var o=moment(e,t||"DD/MM/YYYY");return o.isValid()?o:moment(e)},M={days:"dias",minutes:"minutos",hours:"horas",seconds:"segundos"},S=function ta(e){var ta=M,t=function(){var t=ta[e.unit||"seconds"];return e.total<=1?t.slice(0,-1):t};return{unit:t(),total:e.total}},T=function(e,t){return function(o,r,n){if(!_.isNumber(o))return null;var a="\\d(?=(\\d{"+(n||3)+"})+"+(r>0?"\\D":"$")+")",i=o.toFixed(Math.max(0,~~r));return(t?i.replace(".",t):i).replace(new RegExp(a,"g"),"$&"+(e||","))}},E=T(".",","),A=function(e,t){var o=m.prop(e);return o.toggle=function(){return o(o()===t?e:t)},o},q=postgrest.filtersVM({id:"eq"}),R=function(){if(l.currentProject)return l.currentProject;var e=document.getElementById("application"),t=e&&e.getAttribute("data-parameters");return t?l.currentProject=JSON.parse(t):!1},D=function(){if(l.rdToken)return l.rdToken;var e=_.first(document.querySelectorAll("[name=rd-token]"));return e?l.rdToken=e.content:void 0},F=function(){if(l.mailchumUrl)return l.mailchumUrl;var e=_.first(document.querySelectorAll("[name=mailchimp-url]"));return e?l.mailchumUrl=e.content:void 0},O=function(){if(l.user)return l.user;var e=document.getElementsByTagName("body"),t=_.first(e).getAttribute("data-user");return t?l.user=JSON.parse(t):!1},N=function(){if(l.blogPosts)return l.blogPosts;var e=_.first(document.getElementsByTagName("body")).getAttribute("data-blog");return e?l.blogPosts=JSON.parse(e):!1},I=function(){if(l.apiHost)return l.apiHost;var e=document.getElementById("api-host");return l.apiHost=e&&e.getAttribute("content")},V=function(e){var t=window.location.pathname.split("/").slice(-1)[0];return e===t},L=function(e){return e||"/assets/catarse_bootstrap/user.jpg"},B=function(){return m(".u-text-center.u-margintop-30 u-marginbottom-30",[m('img[alt="Loader"][src="https://s3.amazonaws.com/catarse.files/loader.gif"]')])},U=function(){return m("span.badge.badge-success.margin-side-5",t.t("projects.new_feature_badge"))},Y=function(){var e=function(){try{window.FB.XFBML.parse()}catch(e){console.log(e)}};return window.setTimeout(e,500)},W=function(e,t,o){return e>1?e+o:e+t},H=function(e){var t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""},K=function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];return e=e.replace(/\r\n?/,"\n"),e.length>0&&(e=e.replace(/\n\n+/g,"</p><p>"),e=e.replace(/\n/g,"<br />"),e="<p>"+e+"</p>"),e},J=function(e){return e.maximum_contributions>0?e.paid_count+e.waiting_payment_count>=e.maximum_contributions:!1},X=function(e){return e.maximum_contributions-(e.paid_count+e.waiting_payment_count)},Q=function(e){var t=document.createElement("a");return t.href=e,t},G=function(){return function(e,t){!t&&window.$&&window.UIHelper.setupResponsiveIframes($(e))}},Z=function(){return function(e,t){if(!t){var o=window.location.hash.substr(1);o===e.id&&(window.location.hash="",setTimeout(function(){window.location.hash=e.id}))}}},ee=function(){return window.location.href="/pt/login",!1},te=function(e){return window.location.href=e,!1},oe=function(e){var t=0,o=0;do t+=e.offsetTop||0,o+=e.offsetLeft||0,e=e.offsetParent;while(e);return{top:t,left:o}},re=function(){var e=document.getElementById("modal-close");_.isElement(e)&&(e.onclick=function(e){e.preventDefault(),document.getElementsByClassName("modal-backdrop")[0].style.display="none"});var t=document.getElementsByClassName("modal-close")[0];_.isElement(t)&&(t.onclick=function(e){e.preventDefault(),document.getElementsByClassName("modal-backdrop")[0].style.display="none"})},ne=function(){var e=document.getElementsByClassName("icon-close")[0];_.isElement(e)&&(e.onclick=function(t){t.preventDefault(),e.parentElement.remove()})},ae=function(e,t){return t=t||{},_.extend({},t,{scope:e})},ie=function(e){var t=_.isFunction(e)?function(){e(),m.redraw()}:m.redraw;window.addEventListener("hashchange",t,!1)},se=function(){var e=_.first(document.querySelectorAll("[name=csrf-token]"));return e?e.content:void 0},le=function(e){var t=window.scrollY,o=oe(e).top,r=300,n=(o-t)/r,a=function(e){return.5>e?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},i=setInterval(function(){var e=a(t/o)*t;window.scrollTo(0,e),t>=o&&clearInterval(i),t+=n},1)},ce=function(){var e=function(e,t){e.onclick=function(){var e=document.getElementById(t);return _.isElement(e)&&le(e),!1}};return function(t,o){o||e(t,t.hash.slice(1))}},de=function(e){var t={online:{cssClass:"text-success",text:"NO AR"},successful:{cssClass:"text-success",text:"FINANCIADO"},failed:{cssClass:"text-error",text:"NÃO FINANCIADO"},waiting_funds:{cssClass:"text-waiting",text:"AGUARDANDO"},rejected:{cssClass:"text-error",text:"RECUSADO"},draft:{cssClass:"",text:"RASCUNHO"},in_analysis:{cssClass:"",text:"EM ANÁLISE"},approved:{cssClass:"text-success",text:"APROVADO"}};return t[e]},ue=function(e){return function(t,o){if(!o){var r=document.createElement("script");return r.type="text/javascript",r.id="RDIntegration",document.getElementById(r.id)||(document.body.appendChild(r),r.onload=function(){return RdIntegration.integrate(D(),e)},r.src="https://d335luupugsy2.cloudfront.net/js/integration/stable/rd-js-integration.min.js"),!1}}},me=function(e){var t=arguments.length<=1||void 0===arguments[1]?Function.prototype:arguments[1];return e?function(){try{e.project||(e.project=R()),e.user||(e.user=O()),CatarseAnalytics.event(e)}catch(o){console.error("[h.analyticsEvent] error:",o)}t()}:t},pe={},fe=function(e,t){if(!e)return t;var o=_.compact([e.cat,e.act]).join("_");if(!o)throw new Error("Should inform cat or act");return function(){if(!pe[o]){pe[o]=!0;var r=me(e,t);r()}}},we=function(e){return parseFloat(e().replace(".","").replace(",","."))},ge=function(e){var t=String(e).replace(/[^0-9]|[.,]/g,""),o=t.slice(0,t.length-2),r=t.slice(t.length-2);return o=o.replace(/\B(?=(\d{3})+(?!\d))/g,"."),o+","+r},be=function(e){return e.replace(/[0-9]/g,"")},he=function(e){return e.replace(/[^0-9]/g,"")},ve=function(e,t){return function(o){return function(r){return r.length===e&&o!==t?r+t:r}}},_e=function(e){return function(t){return _.compact(_.map(t,function(t,o){return t in e?null:[o,t]}))}},ye=function oa(e){return function(t){return function(o,r){if(o>=t.length)return!1;var n=t.charAt(o);return n in e?e[n].test(r):r===n||oa(e)(t)(o+1,r)}}},je=function(e){var t=_.map(e,function(e){return ve(e[0],e[1])});return function(e,o){var r=_.map(t,function(e){return e(o)}),n=_.reduce(r,function(e,t){return _.isFunction(e)?_.compose(t,e):t});return n(e)}},xe=function(e,t){var o={9:/\d/,A:/[a-zA-Z]/},r=_e(o),n=ye(o),a=je(r(e)),i=n(e);return _.reduce(t,function(e,t){return i(e.length,t)&&(e=a(e,t)+t),e},"")},ke=function(e){return sessionStorage.removeItem(e)},ze=m.prop(),Ce=function(e){ze(e)},Pe=function(){return ze},Me=m.prop(),Se=function(e){Me(e)},Te=function(){return Me},Ee=function(e,t){return"/"+e+(t?"?ref="+t:"")},Ae=function(e){e&&!function(){var t=!1;window.addEventListener("scroll",function(o){if(!t&&window.$&&$(document).scrollTop()>.75*$(window).height()){t=!0;var r=me(e);r()}})}()},qe={event:me,oneTimeEvent:fe,windowScroll:Ae},Re=function(e){var t=void 0;return t="function"==typeof e?e().permalink:e.permalink,"https://www.catarse.me/"+t},De=function(){var e=window.location.pathname,t=e.indexOf("/insights")>-1,o=e.indexOf("/edit")>-1,r=e.indexOf("/contribution")>-1;return!o&&!t&&!r},Fe=function(e){return function(t,o){var r=document.getElementsByTagName("title")[0],n=r.innerText;return n!==e?r.innerText=e:void 0}};p(),ne(),re();var Oe={authenticityToken:se,buildLink:Ee,cumulativeOffset:oe,discuss:y,existy:f,validateEmail:j,validateCpf:x,momentify:w,momentFromString:P,formatNumber:E,idVM:q,getUser:O,getApiHost:I,getMailchimpUrl:F,getCurrentProject:R,toggleProp:A,loader:B,newFeatureBadge:U,fbParse:Y,pluralize:W,simpleFormat:K,translatedTime:S,rewardSouldOut:J,rewardRemaning:X,parseUrl:Q,hashMatch:c,redrawHashChange:ie,useAvatarOrDefault:L,locationActionMatch:V,navigateToDevise:ee,navigateTo:te,storeAction:g,callStoredAction:v,UIHelper:G,toAnchor:Z,paramByName:d,i18nScope:ae,RDTracker:ue,selfOrEmpty:u,scrollTo:ce,projectStateTextClass:de,validationErrors:k,validate:C,analytics:qe,strip:H,storeObject:b,getStoredObject:h,removeStoredObject:ke,setProject:Ce,getProject:Pe,setReward:Se,getReward:Te,applyMonetaryMask:ge,noNumbersMask:be,numbersOnlyMask:he,monetaryToFloat:we,mask:xe,projectFullPermalink:Re,isProjectPage:De,setPageTitle:Fe,getBlogPosts:N},Ne={country:o.model("countries"),state:o.model("states"),contributionDetail:o.model("contribution_details"),contributionActivity:o.model("contribution_activities"),projectDetail:o.model("project_details"),userDetail:o.model("user_details"),balance:o.model("balances"),balanceTransaction:o.model("balance_transactions"),balanceTransfer:o.model("balance_transfers"),user:o.model("users"),bankAccount:o.model("bank_accounts"),rewardDetail:o.model("reward_details"),projectReminder:o.model("project_reminders"),projectReport:o.model("project_reports"),contributions:o.model("contributions"),directMessage:o.model("direct_messages"),teamTotal:o.model("team_totals"),projectAccount:o.model("project_accounts"),projectAccountError:o.model("project_account_errors"),projectContribution:o.model("project_contributions"),projectContributiorsStat:o.model("project_stat_contributors"),projectPostDetail:o.model("project_posts_details"),projectContributionsPerDay:o.model("project_contributions_per_day"),projectContributionsPerLocation:o.model("project_contributions_per_location"),projectContributionsPerRef:o.model("project_contributions_per_ref"),projectTransfer:o.model("project_transfers"),project:o.model("projects"),projectSearch:o.model("rpc/project_search"),category:o.model("categories"),categoryTotals:o.model("category_totals"),categoryFollower:o.model("category_followers"),teamMember:o.model("team_members"),notification:o.model("notifications"),statistic:o.model("statistics"),successfulProject:o.model("successful_projects"),finishedProject:o.model("finished_projects"),userFriend:o.model("user_friends"),userFollow:o.model("user_follows"),followAllFriends:o.model("rpc/follow_all_friends"),contributor:o.model("contributors"),userFollower:o.model("user_followers"),creatorSuggestion:o.model("creator_suggestions"),userContribution:o.model("user_contributions"),inviteProjectEmail:o.model("rpc/invite_project_email"),deleteProject:o.model("rpc/delete_project"),cancelProject:o.model("rpc/cancel_project")};Ne.teamMember.pageSize(40),Ne.rewardDetail.pageSize(!1),Ne.project.pageSize(30),Ne.category.pageSize(50),Ne.contributionActivity.pageSize(40),Ne.successfulProject.pageSize(9),Ne.finishedProject.pageSize(9),Ne.country.pageSize(!1),Ne.state.pageSize(!1),Ne.projectContribution.pageSize(9),Ne.contributor.pageSize(9);var Ie=postgrest.paginationVM(Ne.user,"id.desc",{Prefer:"count=exact"}),Ve=postgrest.filtersVM({full_text_index:"@@",deactivated_at:"is.null"}),Le=function(e){return(e||"").toString().trim()};Ve.deactivated_at(null).order({id:"desc"}),Ve.deactivated_at.toFilter=function(){var e=JSON.parse(Ve.deactivated_at());return e},Ve.full_text_index.toFilter=function(){var e=Le(Ve.full_text_index());return e&&r(e)||void 0};var Be={view:function(t,o){var r=o.inputWrapperClass||".w-input.text-field.positive.medium",n=o.btnClass||".btn.btn-large.u-marginbottom-10";return e(".w-row",[e(".w-col.w-col-10",[e("input"+r+'[placeholder="'+o.placeholder+'"][type="text"]',{onchange:e.withAttr("value",o.vm),value:o.vm()})]),e(".w-col.w-col-2",[e("input#filter-btn"+n+'[type="submit"][value="Buscar"]')])])}},Ue={controller:function(){return{toggler:Oe.toggleProp(!1,!0)}},view:function(t,o){var r=o.filterBuilder,a=(o.data,o.label||""),i=n.findWhere(r,{component:Be});return e("#admin-contributions-filter.w-section.page-header",[e(".w-container",[e(".fontsize-larger.u-text-center.u-marginbottom-30",a),e(".w-form",[e("form",{onsubmit:o.submit},[i?e.component(i.component,i.data):"",e(".u-marginbottom-20.w-row",e('button.w-col.w-col-12.fontsize-smallest.link-hidden-light[style="background: none; border: none; outline: none; text-align: left;"][type="button"]',{onclick:t.toggler.toggle},"Filtros avançados  >")),t.toggler()?e("#advanced-search.w-row.admin-filters",[n.map(r,function(t){return t.component!==Be?e.component(t.component,t.data):""})]):""])])])])}},Ye={controller:function(e){return{displayDetailBox:Oe.toggleProp(!1,!0)}},view:function(t,o){var r=o.item;return e(".w-clearfix.card.u-radius.u-marginbottom-20.results-admin-items",[e.component(o.listItem,{item:r,key:o.key}),e("button.w-inline-block.arrow-admin.fa.fa-chevron-down.fontcolor-secondary",{onclick:t.displayDetailBox.toggle}),t.displayDetailBox()?e.component(o.listDetail,{item:r,key:o.key}):""])}},We={controller:function(e){var t=e.vm.list;!t.collection().length&&t.firstPage&&t.firstPage().then(null,function(t){e.vm.error(t.message)})},view:function(t,o){var r=o.vm.list,n=o.vm.error,a=o.label||"";return e(".w-section.section",[e(".w-container",n()?e(".card.card-error.u-radius.fontweight-bold",n()):[e(".w-row.u-marginbottom-20",[e(".w-col.w-col-9",[e(".fontsize-base",r.isLoading()?"Carregando "+a.toLowerCase()+"...":[e("span.fontweight-semibold",r.total())," "+a.toLowerCase()+" encontrados"])])]),e("#admin-contributions-list.w-container",[r.collection().map(function(t){return e.component(Ye,{listItem:o.listItem,listDetail:o.listDetail,item:t,key:t.id})}),e(".w-section.section",[e(".w-container",[e(".w-row",[e(".w-col.w-col-2.w-col-push-5",[r.isLoading()?Oe.loader():e("button#load-more.btn.btn-medium.btn-terciary",{onclick:r.nextPage},"Carregar mais")])])])])])])])}},$e={view:function(t,o){var r=o.item;return e(".w-row.admin-user",[e(".w-col.w-col-3.w-col-small-3.u-marginbottom-10",[e('img.user-avatar[src="'+Oe.useAvatarOrDefault(r.profile_img_thumbnail)+'"]')]),e(".w-col.w-col-9.w-col-small-9",[e(".fontweight-semibold.fontsize-smaller.lineheight-tighter.u-marginbottom-10",[e('a.alt-link[target="_blank"][href="/users/'+r.id+'/edit"]',r.name||r.email)]),e(".fontsize-smallest","Usuário: "+r.id),e(".fontsize-smallest.fontcolor-secondary","Email: "+r.email),o.additional_data])])}},He={view:function(t,o){return e(".w-row",[e(".w-col.w-col-4",[e.component($e,o)])])}},Ke={controller:function(t){var o=t.data,r=e.prop(!1),a=e.prop(!1),i=(e.prop(!1),o.property),s={},l=t.item;o.requestOptions.config=function(e){Oe.authenticityToken()&&e.setRequestHeader("X-CSRF-Token",Oe.authenticityToken())};var c=e.prop(!1),d=function(){return e.request(n.extend({},{data:s},o.requestOptions))},u=e.prop(""),m=e.prop(""),p=function(e){c(!1),m(e.errors[0]),r(!0),a(!0)},f=function(e){c(!1),n.extend(l,e[0]),r(!0),a(!1)},w=function(){return c(!0),s[i]=u(),d().then(f,p),!1},g=function(e,t,o){o.onunload=function(){r(!1),a(!1)}};return{complete:r,error:a,error_message:m,l:c,newPassword:u,submit:w,toggler:Oe.toggleProp(!1,!0),unload:g}},view:function(t,o){var r=o.data,n=t.l()?"por favor, aguarde...":r.callToAction;return e(".w-col.w-col-2",[e("button.btn.btn-small.btn-terciary",{onclick:t.toggler.toggle},r.outerLabel),t.toggler()?e(".dropdown-list.card.u-radius.dropdown-list-medium.zindex-10",{config:t.unload},[e("form.w-form",{onsubmit:t.submit},t.complete()?t.error()?[e('.w-form-error[style="display:block;"]',[e("p",t.error_message())])]:[e('.w-form-done[style="display:block;"]',[e("p","Senha alterada com sucesso.")])]:[e("label",r.innerLabel),e('input.w-input.text-field[type="text"][name="'+r.property+'"][placeholder="'+r.placeholder+'"]',{onchange:e.withAttr("value",t.newPassword),value:t.newPassword()}),e('input.w-button.btn.btn-small[type="submit"][value="'+n+'"]')])]):""])}},Je={controller:function(t){var o=t.data,r=e.prop(!1),n=e.prop(!1),a=(e.prop(!1),{}),i=t.item,s=o.property,l=o.forceValue||null,c=e.prop(l);Oe.idVM.id(i[o.updateKey]);var d=postgrest.loaderWithToken(o.model.patchOptions(Oe.idVM.parameters(),a)),u=function(e){_.extend(i,e[0]),r(!0),n(!1)},m=function(){return a[s]=c(),d.load().then(u,function(){r(!0),n(!0)}),!1},p=function(e,t,o){o.onunload=function(){r(!1),n(!1),c(l)}};return{complete:r,error:n,l:d,newValue:c,submit:m,toggler:Oe.toggleProp(!1,!0),unload:p}},view:function(t,o){var r=o.data,n=t.l()?"por favor, aguarde...":r.callToAction;return e(".w-col.w-col-2",[e("button.btn.btn-small.btn-terciary",{onclick:t.toggler.toggle},r.outerLabel),t.toggler()?e(".dropdown-list.card.u-radius.dropdown-list-medium.zindex-10",{config:t.unload},[e("form.w-form",{onsubmit:t.submit},t.complete()?t.error()?[e('.w-form-error[style="display:block;"]',[e("p","Houve um problema na requisição. "+r.errorMessage)])]:[e('.w-form-done[style="display:block;"]',[e("p",r.successMessage)])]:[e("label",r.innerLabel),void 0===r.forceValue?e('input.w-input.text-field[type="text"][placeholder="'+r.placeholder+'"]',{onchange:e.withAttr("value",t.newValue),value:t.newValue()}):"",e('input.w-button.btn.btn-small[type="submit"][value="'+n+'"]')])]):""])}},Xe={controller:function(t){var o=e.prop([]),r=function(e){var t=Ne.notification;t.getPageWithToken(postgrest.filtersVM({user_id:"eq",sent_at:"is.null"}).user_id(e.id).sent_at(!0).order({sent_at:"desc"}).parameters()).then(o)};return r(t.user),{notifications:o}},view:function(t){return e(".w-col.w-col-4",[e(".fontweight-semibold.fontsize-smaller.lineheight-tighter.u-marginbottom-20","Histórico de notificações"),t.notifications().map(function(t){return e(".w-row.fontsize-smallest.lineheight-looser.date-event",[e(".w-col.w-col-24",[e(".fontcolor-secondary",Oe.momentify(t.sent_at,"DD/MM/YYYY, HH:mm")," - ",t.template_name,t.origin?" - "+t.origin:"")])])})])}},Qe={controller:function(){return{actions:{reset:{property:"password",callToAction:"Redefinir",innerLabel:"Nova senha de Usuário:",outerLabel:"Redefinir senha",placeholder:"ex: 123mud@r",model:Ne.user},reactivate:{property:"deactivated_at",updateKey:"id",callToAction:"Reativar",innerLabel:"Tem certeza que deseja reativar esse usuário?",successMessage:"Usuário reativado com sucesso!",errorMessage:"O usuário não pôde ser reativado!",outerLabel:"Reativar usuário",forceValue:null,model:Ne.user}}}},view:function(t,o){var r=t.actions,a=o.item,i=(o.details,function(e,t){return n.extend({},e,{requestOptions:{url:"/users/"+t+"/new_password",method:"POST"}})});return e("#admin-contribution-detail-box",[e(".divider.u-margintop-20.u-marginbottom-20"),e(".w-row.u-marginbottom-30",[e.component(Ke,{data:i(r.reset,a.id),item:a}),a.deactivated_at?e.component(Je,{data:r.reactivate,item:a}):""]),e(".w-row.card.card-terciary.u-radius",[e.component(Xe,{user:a})])])}},Ge={view:function(t,o){var r=n.isFunction(o.options)?o.options():o.options;return e("select"+o.classes+'[id="'+o.id+'"]',{onchange:e.withAttr("value",o.valueProp),value:o.valueProp()},n.map(r,function(t){return e('option[value="'+t.value+'"]',t.option)}))}},Ze={view:function(t,o){var r=o.wrapper_class||".w-col.w-col-3.w-col-small-6";return e(r,[e('label.fontsize-smaller[for="'+o.index+'"]',o.custom_label?e.component(o.custom_label[0],o.custom_label[1]):o.label),e.component(Ge,{id:o.index,classes:".w-select.text-field.positive",valueProp:o.vm,options:o.options})])}},et={controller:function(){var t=Ie,o=Ve,r=e.prop(""),n=[{component:Be,data:{vm:o.full_text_index,placeholder:"Busque por nome, e-mail, Ids do usuário..."}},{component:Ze,data:{label:"Com o estado",index:"status",name:"deactivated_at",vm:o.deactivated_at,options:[{value:"",option:"Qualquer um"},{value:null,option:"ativo"},{value:!0,option:"desativado"}]}}],a=function(){return t.firstPage(o.parameters()).then(null,function(e){r(e.message)}),!1};return{filterVM:o,filterBuilder:n,listVM:{list:t,error:r},submit:a}},view:function(t){var o="Usuários";return[e.component(Ue,{form:t.filterVM.formDescriber,filterBuilder:t.filterBuilder,label:o,submit:t.submit}),e.component(We,{vm:t.listVM,label:o,listItem:He,listDetail:Qe})]}},tt=postgrest.paginationVM(Ne.contributionDetail,"id.desc",{Prefer:"count=exact"}),ot=o.filtersVM({full_text_index:"@@",state:"eq",gateway:"eq",value:"between",created_at:"between"}),rt=function(e){return(e||"").toString().trim()};ot.state(""),ot.gateway(""),ot.order({id:"desc"}),ot.created_at.lte.toFilter=function(){var e=rt(ot.created_at.lte());return e&&Oe.momentFromString(e).endOf("day").format("")},ot.created_at.gte.toFilter=function(){var e=rt(ot.created_at.gte());return e&&Oe.momentFromString(e).format()},ot.full_text_index.toFilter=function(){var e=rt(ot.full_text_index());return e&&r(e)||void 0};var nt={view:function(t,o){var r=o.item;return e(".w-row.admin-project",[e(".w-col.w-col-3.w-col-small-3.u-marginbottom-10",[e("img.thumb-project.u-radius[src="+r.project_img+"][width=50]")]),e(".w-col.w-col-9.w-col-small-9",[e(".fontweight-semibold.fontsize-smaller.lineheight-tighter.u-marginbottom-10",[e('a.alt-link[target="_blank"][href="/'+r.permalink+'"]',r.project_name)]),e(".fontsize-smallest.fontweight-semibold",r.project_state),e(".fontsize-smallest.fontcolor-secondary",Oe.momentify(r.project_online_date)+" a "+Oe.momentify(r.project_expires_at))])])}},at={view:function(t,o){var r=o.item;return e(".w-row.admin-contribution",[e(".fontweight-semibold.lineheight-tighter.u-marginbottom-10.fontsize-small","R$"+r.value),e(".fontsize-smallest.fontcolor-secondary",Oe.momentify(r.created_at,"DD/MM/YYYY HH:mm[h]")),e(".fontsize-smallest",["ID do Gateway: ",e('a.alt-link[target="_blank"][href="https://dashboard.pagar.me/#/transactions/'+r.gateway_id+'"]',r.gateway_id)])])}},it={view:function(t,o){var r=o.item,n={profile_img_thumbnail:r.user_profile_img,id:r.user_id,name:r.user_name,email:r.email},a=e(".fontsize-smallest.fontcolor-secondary","Gateway: "+r.payer_email);return e.component($e,{item:n,additional_data:a})}},st=_.partial(Oe.i18nScope,"projects.payment"),lt={controller:function(t){var o=t.item,r=null,n=void 0,a=void 0,i=void 0;return r=function(){if(o.gateway_data)switch(o.gateway.toLowerCase()){case"moip":return{first_digits:o.gateway_data.cartao_bin,last_digits:o.gateway_data.cartao_final,brand:o.gateway_data.cartao_bandeira};case"pagarme":return{first_digits:o.gateway_data.card_first_digits,last_digits:o.gateway_data.card_last_digits,brand:o.gateway_data.card_brand}}},n=function(){switch(o.payment_method.toLowerCase()){case"boletobancario":return e("span#boleto-detail","");case"cartaodecredito":var t=r();return t?e("#creditcard-detail.fontsize-smallest.fontcolor-secondary.lineheight-tight",[t.first_digits+"******"+t.last_digits,e("br"),t.brand+" "+o.installments+"x"]):""}},a=function(){switch(o.payment_method.toLowerCase()){case"boletobancario":return".fa-barcode";case"cartaodecredito":return".fa-credit-card";default:return".fa-question"}},i=function(){switch(o.state){case"paid":return".text-success";case"refunded":return".text-refunded";case"pending":case"pending_refund":return".text-waiting";default:return".text-error"}},{displayPaymentMethod:n,paymentMethodClass:a,stateClass:i}},view:function(o,r){var n=r.item;return e(".w-row.payment-status",[e(".fontsize-smallest.lineheight-looser.fontweight-semibold",[e("span.fa.fa-circle"+o.stateClass())," "+t.t(n.state,st())]),e(".fontsize-smallest.fontweight-semibold",[e("span.fa"+o.paymentMethodClass())," ",e('a.link-hidden[href="#"]',n.payment_method)]),e(".fontsize-smallest.fontcolor-secondary.lineheight-tight",[o.displayPaymentMethod()])])}},ct={controller:function(){return{itemBuilder:[{component:it,wrapperClass:".w-col.w-col-4"},{component:nt,wrapperClass:".w-col.w-col-4"},{component:at,wrapperClass:".w-col.w-col-2"},{component:lt,wrapperClass:".w-col.w-col-2"}]}},view:function(t,o){return e(".w-row",_.map(t.itemBuilder,function(t){return e(t.wrapperClass,[e.component(t.component,{item:o.item,key:o.key})])}))}},dt={controller:function(t){var o=t.data,r=e.prop(!1),a={},i=e.prop(!1),s=(e.prop(!1),t.item()),l=e.prop(s.description||""),c=(o.getKey,e.prop("")),d={},u={},m=e.prop([]),p=(o.radios,o.getKey),f=t.getKeyValue,w=o.updateKey,g=t.updateKeyValue,b=o.validate,h=o.selectedItem||e.prop();u[w]="eq";var v=postgrest.filtersVM(u);v[w](g),d[p]="eq";var _=postgrest.filtersVM(d);_[p](f);var y=postgrest.loaderWithToken(o.getModel.getPageOptions(_.parameters())),j=postgrest.loaderWithToken(o.updateModel.patchOptions(v.parameters(),a)),x=function(e){if(e.length>0){var t=n.findWhere(m(),{id:e[0][o.selectKey]});h(t)}else i({message:"Nenhum item atualizado"});r(!0)},k=function(e){var t=o.addEmpty;m(e),n.isUndefined(t)||m().unshift(t)},z=function(){y.load().then(k,i)},C=function(){if(c()){var e=b(m(),c());n.isUndefined(e)?(a[o.selectKey]=-1===c()?null:c(),j.load().then(x,i)):(r(!0),i({message:e}))}return!1},P=function(e,t,o){o.onunload=function(){r(!1),i(!1),c("")}},M=function(t){l(t),e.redraw()};return z(),{complete:r,description:l,setDescription:M,error:i,setLoader:j,getLoader:y,newID:c,submit:C,toggler:Oe.toggleProp(!1,!0),unload:P,radios:m}},view:function(t,o){var r=o.data,a=o.item(),i=t.setLoader()||t.getLoader()?"por favor, aguarde...":r.callToAction;return e(".w-col.w-col-2",[e("button.btn.btn-small.btn-terciary",{onclick:t.toggler.toggle},r.outerLabel),t.toggler()?e(".dropdown-list.card.u-radius.dropdown-list-medium.zindex-10",{config:t.unload},[e("form.w-form",{onsubmit:t.submit},t.complete()?t.error()?[e('.w-form-error[style="display:block;"]',[e("p",t.error().message)])]:[e('.w-form-done[style="display:block;"]',[e("p","Recompensa alterada com sucesso!")])]:[t.radios()?n.map(t.radios(),function(o,n){return e(".w-radio",[e("input#r-"+n+'.w-radio-input[type=radio][name="admin-radio"][value="'+o.id+'"]',{checked:o.id===(a[r.selectKey]||a.id),onclick:function(){t.newID(o.id),t.setDescription(o.description)}}),e('label.w-form-label[for="r-'+n+'"]',"R$"+o.minimum_value)])}):Oe.loader(),e("strong","Descrição"),e("p",t.description()),e('input.w-button.btn.btn-small[type="submit"][value="'+i+'"]')])]):""])}},ut={controller:function(t){var o=t.data,r=e.prop(!1),a=e.prop(!1),i=(e.prop(!1),t.item);o.requestOptions.config=function(e){Oe.authenticityToken()&&e.setRequestHeader("X-CSRF-Token",Oe.authenticityToken())};var s=n.compose(o.model.getRowWithToken,Oe.idVM.id(i[o.updateKey]).parameters),l=e.prop(!1),c=function(){return s().then(u)},d=function(e){l(!1),r(!0),a(!0)},u=function(e){n.extend(i,e[0]),r(!0),a(!1)},m=function(){return l(!0),e.request(o.requestOptions).then(c,d),!1},p=function(e,t,o){o.onunload=function(){r(!1),a(!1)}};return{l:l,complete:r,error:a,submit:m,toggler:Oe.toggleProp(!1,!0),unload:p}},view:function(t,o){var r=o.data,n=t.l()?"por favor, aguarde...":r.callToAction;return e(".w-col.w-col-2",[e("button.btn.btn-small.btn-terciary",{onclick:t.toggler.toggle},r.outerLabel),t.toggler()?e(".dropdown-list.card.u-radius.dropdown-list-medium.zindex-10",{config:t.unload},[e("form.w-form",{onsubmit:t.submit},t.complete()?t.error()?[e('.w-form-error[style="display:block;"]',[e("p","Houve um problema na requisição.")])]:[e('.w-form-done[style="display:block;"]',[e("p","Requisição feita com sucesso.")])]:[e("label",r.innerLabel),e('input.w-button.btn.btn-small[type="submit"][value="'+n+'"]')])]):""])}},mt={view:function(t,o){var r=o.contribution;return e(".w-col.w-col-4",[e(".fontweight-semibold.fontsize-smaller.lineheight-tighter.u-marginbottom-20","Detalhes do apoio"),e(".fontsize-smallest.lineheight-looser",["Valor: R$"+Oe.formatNumber(r.value,2,3),e("br"),"Taxa: R$"+Oe.formatNumber(r.gateway_fee,2,3),e("br"),"Aguardando Confirmação: "+(r.waiting_payment?"Sim":"Não"),e("br"),"Anônimo: "+(r.anonymous?"Sim":"Não"),e("br"),"Id pagamento: "+r.gateway_id,e("br"),"Apoio: "+r.contribution_id,e("br"),"Chave: \n",e("br"),r.key,e("br"),"Meio: "+r.gateway,e("br"),"Operadora: "+(r.gateway_data&&r.gateway_data.acquirer_name),e("br"),r.is_second_slip?[e('a.link-hidden[href="#"]',"Boleto bancário")," ",e("span.badge","2a via")]:""])])}},pt={controller:function(e){var t=e.contribution,o=n.reduce([{date:t.paid_at,name:"Apoio confirmado"},{date:t.pending_refund_at,name:"Reembolso solicitado"},{date:t.refunded_at,name:"Estorno realizado"},{date:t.created_at,name:"Apoio criado"},{date:t.refused_at,name:"Apoio cancelado"},{date:t.deleted_at,name:"Apoio excluído"},{date:t.chargeback_at,name:"Chargeback"}],function(e,t){return null!==t.date&&void 0!==t.date?(t.originalDate=t.date,t.date=Oe.momentify(t.date,"DD/MM/YYYY, HH:mm"),e.concat(t)):e},[]);return{orderedEvents:n.sortBy(o,"originalDate")}},view:function(t){return e(".w-col.w-col-4",[e(".fontweight-semibold.fontsize-smaller.lineheight-tighter.u-marginbottom-20","Histórico da transação"),t.orderedEvents.map(function(t){return e(".w-row.fontsize-smallest.lineheight-looser.date-event",[e(".w-col.w-col-6",[e(".fontcolor-secondary",t.date)]),e(".w-col.w-col-6",[e("div",t.name)])])})])}},ft={view:function(t,o){var r=o.reward(),n=parseInt(r.paid_count)+parseInt(r.waiting_payment_count);return e(".w-col.w-col-4",[e(".fontweight-semibold.fontsize-smaller.lineheight-tighter.u-marginbottom-20","Recompensa"),e(".fontsize-smallest.lineheight-looser",r.id?["ID: "+r.id,e("br"),"Valor mínimo: R$"+Oe.formatNumber(r.minimum_value,2,3),e("br"),e.trust("Disponíveis: "+n+" / "+(r.maximum_contributions||"&infin;")),e("br"),"Aguardando confirmação: "+r.waiting_payment_count,e("br"),"Descrição: "+r.description]:"Apoio sem recompensa")]);
}},wt={controller:function(t){var o=void 0,r=function(){var r=Ne.rewardDetail,a=t.item.reward_id,i=r.getRowOptions(Oe.idVM.id(a).parameters()),s=e.prop({});return o=postgrest.loaderWithToken(i),a&&o.load().then(n.compose(s,n.first)),s};return{reward:r(),actions:{transfer:{property:"user_id",updateKey:"id",callToAction:"Transferir",innerLabel:"Id do novo apoiador:",outerLabel:"Transferir Apoio",placeholder:"ex: 129908",successMessage:"Apoio transferido com sucesso!",errorMessage:"O apoio não foi transferido!",model:Ne.contributionDetail},reward:{getKey:"project_id",updateKey:"contribution_id",selectKey:"reward_id",radios:"rewards",callToAction:"Alterar Recompensa",outerLabel:"Recompensa",getModel:Ne.rewardDetail,updateModel:Ne.contributionDetail,selectedItem:r(),addEmpty:{id:-1,minimum_value:10,description:"Sem recompensa"},validate:function(e,o){var r=n.findWhere(e,{id:o});return t.item.value>=r.minimum_value?void 0:"Valor mínimo da recompensa é maior do que o valor da contribuição."}},refund:{updateKey:"id",callToAction:"Reembolso direto",innerLabel:"Tem certeza que deseja reembolsar esse apoio?",outerLabel:"Reembolsar Apoio",model:Ne.contributionDetail},remove:{property:"state",updateKey:"id",callToAction:"Apagar",innerLabel:"Tem certeza que deseja apagar esse apoio?",outerLabel:"Apagar Apoio",forceValue:"deleted",successMessage:"Apoio removido com sucesso!",errorMessage:"O apoio não foi removido!",model:Ne.contributionDetail}},l:o}},view:function(t,o){var r=t.actions,a=o.item,i=t.reward,s=function(e,t){return n.extend({},e,{requestOptions:{url:"/admin/contributions/"+t+"/gateway_refund",method:"PUT"}})};return e("#admin-contribution-detail-box",[e(".divider.u-margintop-20.u-marginbottom-20"),e(".w-row.u-marginbottom-30",[e.component(Je,{data:r.transfer,item:a}),t.l()?Oe.loader:e.component(dt,{data:r.reward,item:i,getKeyValue:a.project_id,updateKeyValue:a.contribution_id}),e.component(ut,{data:s(r.refund,a.id),item:a}),e.component(Je,{data:r.remove,item:a})]),e(".w-row.card.card-terciary.u-radius",[e.component(mt,{contribution:a}),e.component(pt,{contribution:a}),t.l()?Oe.loader:e.component(ft,{reward:i,key:a.key})])])}},gt={view:function(t,o){return e(".w-col.w-col-3.w-col-small-6",[e('label.fontsize-smaller[for="'+o.index+'"]',o.label),e(".w-row",[e(".w-col.w-col-5.w-col-small-5.w-col-tiny-5",[e('input.w-input.text-field.positive[id="'+o.index+'"][type="text"]',{onchange:e.withAttr("value",o.first),value:o.first()})]),e(".w-col.w-col-2.w-col-small-2.w-col-tiny-2",[e(".fontsize-smaller.u-text-center.lineheight-looser","e")]),e(".w-col.w-col-5.w-col-small-5.w-col-tiny-5",[e('input.w-input.text-field.positive[type="text"]',{onchange:e.withAttr("value",o.last),value:o.last()})])])])}},bt={view:function(t,o){return e(".w-col.w-col-3.w-col-small-6",[e('label.fontsize-smaller[for="'+o.index+'"]',o.label),e(".w-row",[e(".w-col.w-col-5.w-col-small-5.w-col-tiny-5",[e('input.w-input.text-field.positive[id="'+o.index+'"][type="text"]',{onchange:e.withAttr("value",o.first),value:o.first()})]),e(".w-col.w-col-2.w-col-small-2.w-col-tiny-2",[e(".fontsize-smaller.u-text-center.lineheight-looser","e")]),e(".w-col.w-col-5.w-col-small-5.w-col-tiny-5",[e('input.w-input.text-field.positive[type="text"]',{onchange:e.withAttr("value",o.last),value:o.last()})])])])}},ht={controller:function(){var t=tt,o=ot,r=e.prop(""),n=[{component:Be,data:{vm:o.full_text_index,placeholder:"Busque por projeto, email, Ids do usuário e do apoio..."}},{component:Ze,data:{label:"Com o estado",name:"state",vm:o.state,options:[{value:"",option:"Qualquer um"},{value:"paid",option:"paid"},{value:"refused",option:"refused"},{value:"pending",option:"pending"},{value:"pending_refund",option:"pending_refund"},{value:"refunded",option:"refunded"},{value:"chargeback",option:"chargeback"},{value:"deleted",option:"deleted"}]}},{component:Ze,data:{label:"gateway",name:"gateway",vm:o.gateway,options:[{value:"",option:"Qualquer um"},{value:"Pagarme",option:"Pagarme"},{value:"MoIP",option:"MoIP"},{value:"PayPal",option:"PayPal"},{value:"Credits",option:"Créditos"}]}},{component:gt,data:{label:"Valores entre",first:o.value.gte,last:o.value.lte}},{component:bt,data:{label:"Período do apoio",first:o.created_at.gte,last:o.created_at.lte}}],a=function(){return r(!1),t.firstPage(o.parameters()).then(null,function(e){r(e.message)}),!1};return{filterVM:o,filterBuilder:n,listVM:{list:t,error:r},data:{label:"Apoios"},submit:a}},view:function(t){return[e.component(Ue,{form:t.filterVM.formDescriber,filterBuilder:t.filterBuilder,submit:t.submit}),e.component(We,{vm:t.listVM,listItem:ct,listDetail:wt})]}},vt={controller:function(t){var o=(t.builder,e.prop("")),r=e.prop(!1),n=function(){return Oe.validateEmail(o())?!0:(r(!0),!1)};return{email:o,submit:n,error:r}},view:function(t,o){var r=t.error?"":".positive.error";return e('form.w-form[id="email-form"][method="post"][action="'+o.builder.customAction+'"]',{onsubmit:t.submit},[e(".w-col.w-col-5",[e("input"+r+'.w-input.text-field.medium[name="EMAIL"][placeholder="Digite seu email"][type="text"]',{config:Oe.RDTracker("landing-flex"),onchange:e.withAttr("value",t.email),value:t.email()}),t.error()?e("span.fontsize-smaller.text-error","E-mail inválido"):""]),e(".w-col.w-col-3",[e('input.w-button.btn.btn-large[type="submit"][value="Cadastrar"]')])])}},_t=m.prop(""),yt=m.prop([]),jt={id:-1,description:"Obrigado. Eu só quero ajudar o projeto.",minimum_value:10},xt=m.prop(jt.minimum_value+",00"),kt=m.prop(jt),zt=o.filtersVM({project_id:"eq"}),Ct=function(e){return zt.project_id(e),o.loaderWithToken(Ne.rewardDetail.getPageOptions(zt.parameters()))},Pt=function(e){return Ct(e).load().then(yt)},Mt=function(){var e=document.getElementById("application"),t=e&&e.getAttribute("data-contribution");if(t){var o=JSON.parse(t);kt(o.reward);return m.redraw(!0),kt}return!1},St=function(e){return function(){Et.selectedReward()!==e&&(Et.selectedReward(e),xt(Oe.applyMonetaryMask(e.minimum_value+",00")))}},Tt=_.compose(xt,Oe.applyMonetaryMask),Et={error:_t,rewards:yt,applyMask:Tt,noReward:jt,fetchRewards:Pt,selectReward:St,getSelectedReward:Mt,selectedReward:kt,contributionValue:xt,rewardsLoader:Ct,getValue:xt,setValue:xt},At=Oe.idVM,qt=(e.prop([]),e.prop()),Rt=o.filtersVM({project_user_id:"eq"}),Dt=function(e){var t=arguments.length<=1||void 0===arguments[1]?3:arguments[1];Rt.project_user_id(e).order({project_id:"desc"}),Ne.project.pageSize(t);var r=o.loaderWithToken(Ne.project.getPageOptions(Rt.parameters()));return r.load()},Ft=function(e){var t=arguments.length<=1||void 0===arguments[1]?3:arguments[1],r=o.filtersVM({user_id:"eq",state:"in"});r.user_id(e).order({created_at:"desc"}).state(["refunded","pending_refund","paid"]),Ne.userContribution.pageSize(t);var n=o.loaderWithToken(Ne.userContribution.getPageOptions(r.parameters()));return n.load()},Ot=function(e){var t=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],r=arguments.length<=2||void 0===arguments[2]?qt:arguments[2];At.id(e);var a=o.loaderWithToken(Ne.userDetail.getRowOptions(At.parameters()));return t?a.load().then(n.compose(r,n.first)):a.load()},Nt=function(e){return e.profile_img_thumbnail||"https://catarse.me/assets/catarse_bootstrap/user.jpg"},It=function(e){return e.profile_cover_image||Nt(e)},Vt={getUserCreatedProjects:Dt,getUserContributedProjects:Ft,currentUser:qt,displayImage:Nt,displayCover:It,fetchUser:Ot},Lt=(Oe.idVM,e.prop()),Bt=e.prop(),Ut=o.filtersVM({project_id:"eq"}),Yt=function(e){return function(t){return Lt(n.first(t)),e||Vt.fetchUser(Lt().user_id,!0,Bt),Lt}},Wt=function(e,t){Ut.project_id(e);var r=o.loaderWithToken(Ne.projectDetail.getRowOptions(Ut.parameters()));return Ht(e,t),r.load().then(Yt(t))},$t=function(){Bt({}),Et.rewards([])},Ht=function(e,t){t&&Vt.fetchUser(t,!0,Bt),Et.fetchRewards(e)},Kt=function(){var t=document.getElementById("application"),o=t&&t.getAttribute("data-parameters");if(o){var r=Lt(JSON.parse(o)),n=r.project_id,a=r.project_user_id;return e.redraw(!0),Wt(n,a),Lt()}return!1},Jt=function(t,o){return function(){return Lt(t),$t(),e.route(Oe.buildLink(t.permalink,o),{project_id:t.project_id,project_user_id:t.project_user_id}),!1}},Xt=function(){if(Lt()){var e=Lt().project_name||Lt().name;return e?Oe.setPageTitle(e):Function.prototype}},Qt={userDetails:Bt,getCurrentProject:Kt,currentProject:Lt,rewardDetails:Et.rewards,routeToProject:Jt,setProjectPageTitle:Xt,init:Wt},Gt={controller:function(t){var r=t.project,a=e.prop([]),i=o.paginationVM(Ne.contributor,"user_id.desc",{Prefer:"count=exact"}),s=o.filtersVM({project_id:"eq",is_follow:"eq"}).project_id(r.project_id).is_follow(!0);return i.collection().length||i.firstPage(s.parameters()).then(function(){a(n.sample(i.collection(),2))}),{project:r,listVM:i,friendsSample:a}},view:function(t,o){var r=(t.project,t.listVM.collection().length);return e(".friend-backed-card",[e(".friend-facepile",[n.map(t.friendsSample(),function(t){var o=n.isEmpty(t.data.profile_img_thumbnail)?"/assets/catarse_bootstrap/user.jpg":t.data.profile_img_thumbnail;return e("img.user-avatar[src='"+o+"']")})]),e("p.fontsize-smallest.friend-namepile.lineheight-tighter",[e("span.fontweight-semibold",n.map(t.friendsSample(),function(e){return e.data.name.split(" ")[0]}).join(r>2?", ":" e ")),r>2?[" e ",e("span.fontweight-semibold","mais "+(r-t.friendsSample().length))]:"",r>1?" apoiaram":" apoiou"])])}},Zt=n.partial(Oe.i18nScope,"projects.card"),eo={controller:function(e){var t=e.project,o=t.progress.toFixed(2),r=Oe.translatedTime(t.remaining_time),n=Oe.translatedTime(t.elapsed_time),a=e.type||"small",i=function(){var e={small:{wrapper:".w-col.w-col-4",innerWrapper:".card-project.card.u-radius",thumb:".card-project-thumb",descriptionWrapper:"",description:".card-project-description.alt",title:".fontweight-semibold.u-text-center-small-only.lineheight-tight.u-marginbottom-10.fontsize-base",author:".w-hidden-small.w-hidden-tiny.fontsize-smallest.fontcolor-secondary.u-marginbottom-20",headline:".w-hidden-small.w-hidden-tiny.fontcolor-secondary.fontsize-smaller",city:".w-hidden-small.w-hidden-tiny.card-project-author.altt"},medium:{wrapper:".w-col.w-col-6",innerWrapper:".card-project.card.u-radius",thumb:".card-project-thumb.medium",descriptionWrapper:"",description:".card-project-description.alt",title:".fontsize-large.fontweight-semibold.u-marginbottom-10",author:".w-hidden-small.w-hidden-tiny.fontsize-smallest.fontcolor-secondary.u-marginbottom-20",headline:".w-hidden-small.w-hidden-tiny.fontcolor-secondary.fontsize-smaller",city:".w-hidden-small.w-hidden-tiny.card-project-author.altt"},big:{wrapper:".card.u-radius.card-project",innerWrapper:".w-row",thumb:".w-col.w-col-8.w-col-medium-6.card-project-thumb.big",descriptionWrapper:".w-col.w-col-4.w-col-medium-6",description:".card-project-description.big",title:".fontsize-large.fontweight-semibold.u-marginbottom-10",author:".fontsize-smallest.fontcolor-secondary.u-marginbottom-20",headline:".fontcolor-secondary.fontsize-smaller",city:".w-hidden"}};return e[a]},s=function(){var e=function(){return"failed"===t.state||"waiting_funds"===t.state?"card-secondary":""};return".card-project-meter."+t.mode+"."+t.state+"."+o+"."+e()};return{css:i,type:a,progress:o,remainingTextObj:r,elapsedTextObj:n,cardMeter:s}},view:function(o,r){var a=r.project;return e(o.css().wrapper,[e(o.css().innerWrapper,[e("a"+o.css().thumb+'[href="/'+a.permalink+'"]',{onclick:Qt.routeToProject(a,r.ref),style:{"background-image":"url("+a.project_img+")",display:"block"}}),e(o.css().descriptionWrapper,[e(o.css().description,[e(o.css().title,[e('a.link-hidden[href="/'+a.permalink+'"]',{onclick:Qt.routeToProject(a,r.ref)},a.project_name)]),e(o.css().author,t.t("by",Zt())+" "+a.owner_name),e(o.css().headline,[e('a.link-hidden[href="/'+a.permalink+'"]',{onclick:Qt.routeToProject(a,r.ref)},a.headline)])]),e(o.css().city,[e(".fontsize-smallest.fontcolor-secondary",[e("span.fa.fa-map-marker.fa-1"," ")," "+(a.city_name?a.city_name:"")+", "+(a.state_acronym?a.state_acronym:"")])]),e(o.cardMeter(),[n.contains(["successful","failed","waiting_funds"],a.state)?e("div","successful"===a.state&&o.progress<100?t.t("display_status.flex_successful",Zt()):t.t("display_status."+a.state,Zt())):e(".meter",[e(".meter-fill",{style:{width:(o.progress>100?100:o.progress)+"%"}})])]),e(".card-project-stats",[e(".w-row",[e(".w-col.w-col-4.w-col-small-4.w-col-tiny-4",[e(".fontsize-base.fontweight-semibold",Math.ceil(a.progress)+"%")]),e(".w-col.w-col-4.w-col-small-4.w-col-tiny-4.u-text-center-small-only",[e(".fontsize-smaller.fontweight-semibold","R$ "+Oe.formatNumber(a.pledged)),e(".fontsize-smallest.lineheight-tightest","Levantados")]),e(".w-col.w-col-4.w-col-small-4.w-col-tiny-4.u-text-right",a.expires_at?[e(".fontsize-smaller.fontweight-semibold",o.remainingTextObj.total+" "+o.remainingTextObj.unit),e(".fontsize-smallest.lineheight-tightest",o.remainingTextObj.total>1?"Restantes":"Restante")]:[e(".fontsize-smallest.lineheight-tight",["Iniciado há",e("br"),o.elapsedTextObj.total+" "+o.elapsedTextObj.unit])])])])]),r.showFriends&&"big"===o.type?e(".w-col.w-col-4.w-col-medium-6",[e.component(Gt,{project:a})]):""]),r.showFriends&&"big"!==o.type?e.component(Gt,{project:a}):""])}},to={view:function(t,o){var r=o.collection,a=o.title||r.title,i=o.ref,s=o.showFriends,l=o.wrapper||".w-section.section.u-marginbottom-40";return r.loader()||r.collection().length>0?e(l,[e(".w-container",[n.isUndefined(r.title)&&n.isUndefined(r.hash)?"":e(".w-row.u-marginbottom-30",[e(s?".w-col.w-col-8.w-col-small-6.w-col-tiny-6":".w-col.w-col-10.w-col-small-6.w-col-tiny-6",[e(".fontsize-large.lineheight-looser",a)]),e(s?".w-col.w-col-4.w-col-small-6.w-col-tiny-6":".w-col.w-col-2.w-col-small-6.w-col-tiny-6",[e(".w-row",[s?e(".w-col.w-col-6",[e('a.btn.btn-no-border.btn-small.btn-terciary[href="/connect-facebook?ref='+i+'"]',"Encontrar amigos")]):"",e(s?".w-col.w-col-6":".w-col.w-col-12",e('a.btn.btn-small.btn-terciary[href="/explore?ref='+i+"&filter="+r.hash+'"]',{config:e.route},"Ver todos"))])])]),r.loader()?Oe.loader():e(".w-row",n.map(r.collection(),function(t){return e.component(eo,{project:t,ref:i,showFriends:s})}))])]):e("div")}},oo={controller:function(e){return{showAnswer:Oe.toggleProp(!1,!0)}},view:function(t,o){return e(".card.qa-card.u-marginbottom-20.u-radius.btn-terciary",[e(".fontsize-base",{onclick:function(){t.showAnswer.toggle(),o.onclick&&o.onclick()}},o.question),t.showAnswer()?e("p.u-margintop-20.fontsize-small",e.trust(o.answer)):""])}},ro={controller:function(){var t=e.prop([]),r=e.prop([]),n=(e.prop(),_.partial(_.sample,_,3)),a={customAction:"http://fazum.catarse.me/obrigado-landing-catarse-flex"},i=function(e,t){t||Oe.discuss("https://catarse.me/flex","flex_page")},s=o.filtersVM({mode:"eq",state:"eq",recommended:"eq"}),l=o.loaderWithToken(Ne.statistic.getRowOptions());s.mode("flex").state("online").recommended(!0);var c=o.loader(Ne.project.getPageOptions(s.parameters()));return l.load().then(t),c.load().then(_.compose(r,n)),{addDisqus:i,builder:a,statsLoader:l,stats:t,projectsLoader:c,projects:{loader:c,collection:r}}},view:function(t,o){var r=_.first(t.stats());return[e(".w-section.hero-full.hero-zelo",[e(".w-container.u-text-center",[e("img.logo-flex-home[src='/assets/logo-flex.png'][width='359']"),e(".w-row",[e(".w-col.fontsize-large.u-marginbottom-60.w-col-push-2.w-col-8","Vamos construir uma nova modalidade de crowdfunding! Cadastre seu email e saiba como inscrever o seu projeto no flex!")]),e(".w-row",[e(".w-col.w-col-2"),e.component(vt,{builder:t.builder}),e(".w-col.w-col-2")])])]),[e(".section",[e(".w-container",[e(".fontsize-largest.u-margintop-40.u-text-center","Pra quem será?"),e(".fontsize-base.u-text-center.u-marginbottom-60","Iniciaremos a fase de testes com categorias de projetos específicas"),e("div",[e(".w-row.u-marginbottom-60",[e(".w-col.w-col-6",[e(".u-text-center.u-marginbottom-20",[e("img[src='https://daks2k3a4ib2z.cloudfront.net/54b440b85608e3f4389db387/560e393a01b66e250aca67cb_icon-zelo-com.png'][width='210']"),e(".fontsize-largest.lineheight-loose","Causas")]),e("p.fontsize-base","Flexibilidade para causas de impacto! Estaremos abertos a campanhas de organizações ou pessoas físicas para arrecadação de recursos para causas pessoais, projetos assistenciais, saúde, ajudas humanitárias, proteção aos animais, empreendedorismo socioambiental, ativismo ou qualquer coisa que una as pessoas para fazer o bem.")]),e(".w-col.w-col-6",[e(".u-text-center.u-marginbottom-20",[e("img[src='https://daks2k3a4ib2z.cloudfront.net/54b440b85608e3f4389db387/560e3929a0daea230a5f12cd_icon-zelo-pessoal.png'][width='210']"),e(".fontsize-largest.lineheight-loose","Vaquinhas")]),e("p.fontsize-base","Campanhas simples que precisam de flexibilidade para arrecadar dinheiro com pessoas próximas. Estaremos abertos a uma variedade de campanhas pessoais que podem ir desde cobrir custos de estudos a ajudar quem precisa de tratamento médico. De juntar a grana para fazer aquela festa a comprar presentes para alguém com a ajuda da galera. ")])])])])]),e(".w-section.section.bg-greenlime.fontcolor-negative",[e(".w-container",[e(".fontsize-largest.u-margintop-40.u-marginbottom-60.u-text-center","Como funcionará?"),e(".w-row.u-marginbottom-40",[e(".w-col.w-col-6",[e(".u-text-center",[e("img[src='https://daks2k3a4ib2z.cloudfront.net/54b440b85608e3f4389db387/560e39c578b284493e2a428a_zelo-money.png'][width='180']")]),e(".fontsize-large.u-marginbottom-10.u-text-center.fontweight-semibold","Fique com quanto arrecadar"),e("p.u-text-center.fontsize-base","O flex é para impulsionar campanhas onde todo dinheiro é bem vindo! Você fica com tudo que conseguir arrecadar.")]),e(".w-col.w-col-6",[e(".u-text-center",[e("img[src='https://daks2k3a4ib2z.cloudfront.net/54b440b85608e3f4389db387/560e39d37c013d4a3ee687d2_icon-reward.png'][width='180']")]),e(".fontsize-large.u-marginbottom-10.u-text-center.fontweight-semibold","Não precisa de recompensas"),e("p.u-text-center.fontsize-base","No flex oferecer recompensas é opcional. Você escolhe se oferecê-las faz sentido para o seu projeto e campanha.")])]),e(".w-row.u-marginbottom-40",[e(".w-col.w-col-6",[e(".u-text-center",[e("img[src='https://daks2k3a4ib2z.cloudfront.net/54b440b85608e3f4389db387/560e39fb01b66e250aca67e3_icon-curad.png'][width='180']")]),e(".fontsize-large.u-marginbottom-10.u-text-center.fontweight-semibold","Você mesmo publica seu projeto"),e("p.u-text-center.fontsize-base","Todos os projetos inscritos no flex entram no ar. Agilidade e facilidade para você captar recursos através da internet.")]),e(".w-col.w-col-6",[e(".u-text-center",[e("img[src='https://daks2k3a4ib2z.cloudfront.net/54b440b85608e3f4389db387/560e39e77c013d4a3ee687d4_icon-time.png'][width='180']")]),e(".fontsize-large.u-marginbottom-10.u-text-center.fontweight-semibold","Encerre a campanha quando quiser"),e("p.u-text-center.fontsize-base","Não há limite de tempo de captação. Você escolhe  quando encerrar sua campanha e receber os valores arrecadados.")])])])]),e(".w-section.section",[e(".w-container",[e(".w-editable.fontsize-larger.u-margintop-40.u-margin-bottom-40.u-text-center","Conheça alguns dos primeiros projetos flex"),t.projectsLoader()?Oe.loader():e.component(to,{collection:t.projects,ref:"ctrse_flex",wrapper:".w-row.u-margintop-40"})])]),e(".w-section.divider"),e(".w-section.section",[e(".w-container",[e(".fontsize-larger.u-text-center.u-marginbottom-60.u-margintop-40","Dúvidas"),e(".w-row.u-marginbottom-60",[e(".w-col.w-col-6",[e.component(oo,{question:"Quais são as taxas da modalidade flexível? ",answer:"Como no Catarse, enviar um projeto não custa nada! A taxa cobrada no serviço Catarse flex é de 13% sobre o valor arrecadado."}),e.component(oo,{question:"De onde vem o dinheiro do meu projeto?",answer:"Família, amigos, fãs e membros de comunidades que você faz parte são seus maiores colaboradores. São eles que irão divulgar sua campanha para as pessoas que eles conhecem, e assim o círculo de apoiadores vai aumentando e a sua campanha ganha força."}),e.component(oo,{question:'Qual a diferença entre o flexível e o "tudo ou nada"?',answer:'Atualmente o Catarse utiliza apenas o modelo "tudo ou nada", onde você só fica com o dinheiro se bater a meta de arrecadação dentro do prazo da campanha. O modelo flexível é diferente pois permite que o realizador fique com o que arrecadar, independente de atingir ou não a meta do projeto no prazo da campanha. Não haverá limite de tempo para as campanhas. Nosso sistema flexível será algo novo em relação aos modelos que existem atualmente no mercado.'})]),e(".w-col.w-col-6",[e.component(oo,{question:"Posso inscrever projetos para a modalidade flexível já?",answer:"Sim. Cadastre seu email e saiba como inscrever o seu projeto no flex!"}),e.component(oo,{question:"Por quê vocês querem fazer o Catarse flex?",answer:"Acreditamos que o ambiente do crowdfunding brasileiro ainda tem espaço para muitas ações, testes e experimentações para entender de fato o que as pessoas precisam. Sonhamos com tornar o financiamento coletivo um hábito no Brasil. O Catarse flex é mais um passo nessa direção."}),e.component(oo,{question:"Quando vocês irão lançar o Catarse flex?",answer:"Ainda não sabemos quando abriremos o flex para o público em geral, mas você pode cadastrar seu email nessa página e receber um material especial de como inscrever seu projeto."})])])])]),e(".w-section.section-large.u-text-center.bg-purple",[e(".w-container.fontcolor-negative",[e(".fontsize-largest","Inscreva seu projeto!"),e(".fontsize-base.u-marginbottom-60","Cadastre seu email e saiba como inscrever o seu projeto no flex!"),e(".w-row",[e(".w-col.w-col-2"),e.component(vt,{builder:t.builder}),e(".w-col.w-col-2")])])]),e('.w-section.section-one-column.bg-catarse-zelo.section-large[style="min-height: 50vh;"]',[e(".w-container.u-text-center",[e(".w-editable.u-marginbottom-40.fontsize-larger.lineheight-tight.fontcolor-negative","O flex é um experimento e iniciativa do Catarse, maior plataforma de crowdfunding do Brasil."),e(".w-row.u-text-center",t.statsLoader()?Oe.loader():[e(".w-col.w-col-4",[e(".fontsize-jumbo.text-success.lineheight-loose",Oe.formatNumber(r.total_contributors,0,3)),e("p.start-stats.fontsize-base.fontcolor-negative","Pessoas ja apoiaram pelo menos 01 projeto no Catarse")]),e(".w-col.w-col-4",[e(".fontsize-jumbo.text-success.lineheight-loose",Oe.formatNumber(r.total_projects_success,0,3)),e("p.start-stats.fontsize-base.fontcolor-negative","Projetos ja foram financiados no Catarse")]),e(".w-col.w-col-4",[e(".fontsize-jumbo.text-success.lineheight-loose",r.total_contributed.toString().slice(0,2)+" milhões"),e("p.start-stats.fontsize-base.fontcolor-negative","Foram investidos em ideias publicadas no Catarse")])])])]),e(".w-section.section.bg-blue-one.fontcolor-negative",[e(".w-container",[e(".fontsize-large.u-text-center.u-marginbottom-20","Recomende o Catarse flex para amigos! "),e(".w-row",[e(".w-col.w-col-2"),e(".w-col.w-col-8",[e(".w-row",[e(".w-col.w-col-6.w-col-small-6.w-col-tiny-6.w-sub-col-middle",[e("div",[e("img.icon-share-mobile[src='https://daks2k3a4ib2z.cloudfront.net/54b440b85608e3f4389db387/53a3f66e05eb6144171d8edb_facebook-xxl.png']"),e('a.w-button.btn.btn-large.btn-fb[href="http://www.facebook.com/sharer/sharer.php?u=https://www.catarse.me/flex?ref=facebook&title='+encodeURIComponent("Conheça o novo Catarse Flex!")+'"][target="_blank"]',"Compartilhar")])]),e(".w-col.w-col-6.w-col-small-6.w-col-tiny-6",[e("div",[e("img.icon-share-mobile[src='https://daks2k3a4ib2z.cloudfront.net/54b440b85608e3f4389db387/53a3f65105eb6144171d8eda_twitter-256.png']"),e('a.w-button.btn.btn-large.btn-tweet[href="http://twitter.com/?status='+encodeURIComponent("Vamos construir uma nova modalidade de crowdfunding para o Catarse! Junte-se a nós, inscreva seu email!")+'https://www.catarse.me/flex?ref=twitter"][target="_blank"]',"Tuitar")])])])]),e(".w-col.w-col-2")])])]),e(".w-section.section-large.bg-greenlime",[e(".w-container",[e("#participe-do-debate.u-text-center",{config:Oe.toAnchor()},[e("h1.fontsize-largest.fontcolor-negative","Construa o flex conosco"),e(".fontsize-base.u-marginbottom-60.fontcolor-negative","Inicie uma conversa, pergunte, comente, critique e faça sugestões!")]),e('#disqus_thread.card.u-radius[style="min-height: 50vh;"]',{config:t.addDisqus})])])]]}},no={controller:function(t){var o=(e.prop(0),e.prop(t.width||280)),r=e.prop(0),n=e.prop(0),a=e.prop(0),i=e.prop({top:0,left:0}),s=Oe.toggleProp(0,1),l=function(){s.toggle(),e.redraw()},c=function(e,t){t||i(Oe.cumulativeOffset(e))},d=function(e,t){if(!t){var o=e.offsetHeight+e.offsetParent.offsetHeight,a=window.getComputedStyle(e);window.innerWidth<e.offsetWidth+2*parseFloat(a.paddingLeft)+30?(e.style.width=window.innerWidth-30,n(-i().left+15)):i().left+e.offsetWidth/2<=window.innerWidth&&i().left-e.offsetWidth/2>=0?n(-e.offsetWidth/2):i().left+e.offsetWidth/2>window.innerWidth?n(-e.offsetWidth+e.offsetParent.offsetWidth):i().left-e.offsetWidth/2<0&&n(-e.offsetParent.offsetWidth),r(-o)}};return{width:o,top:r,left:n,opacity:a,tooltip:s,toggle:l,setPosition:d,setParentPosition:c}},view:function(t,o){var r=t.width();return e(o.el,{onclick:t.toggle,config:t.setParentPosition,style:{cursor:"pointer"}},t.tooltip()?[e('.tooltip.dark[style="width: '+r+"px; top: "+t.top()+"px; left: "+t.left()+'px;"]',{config:t.setPosition},[e(".fontsize-smallest",o.text)])]:"")}},ao=n.partial(Oe.i18nScope,"projects.dashboard_nav"),io=n.partial(Oe.i18nScope,"projects.dashboard_nav_links"),so={controller:function(e){var t=document.getElementsByTagName("body")[0],o=Oe.toggleProp(!0,!1),r=Oe.toggleProp(!0,!1),a=Oe.toggleProp("body-project open","body-project closed"),i=function(e){return n.isEmpty(e.large_image)?n.isEmpty(e.thumb_image)?"/assets/thumb-project.png":e.thumb_image:e.large_image};return e.project().is_published&&o.toggle(!1),e.hidePublish&&r.toggle(!1),{body:t,editLinksToggle:o,showPublish:r,bodyToggleForNav:a,projectThumb:i}},view:function(o,r){var a=r.project(),i="/projects/"+a.project_id,s=i+"/edit",l="dashboard-nav-link-left "+(a.is_published?"indent":""),c=e("span.fontsize-smallest.fontcolor-secondary"," (opcional)");return o.body.className=o.bodyToggleForNav(),e("#project-nav",[e(".project-nav-wrapper",[e("nav.w-section.dashboard-nav.side",[e('a#dashboard_preview_link.w-inline-block.dashboard-project-name[href="'+(a.is_published?"/"+a.permalink:s+"#preview")+'"]',[e('img.thumb-project-dashboard[src="'+(a?o.projectThumb(a):"/assets/thumb-project.png")+'"][width="114"]'),e(".fontcolor-negative.lineheight-tight.fontsize-small",a.name),e('img.u-margintop-10[src="/assets/catarse_bootstrap/badge-'+a.mode+'-h.png"][width=80]')]),e("#info-links",[e('a#dashboard_home_link[class="dashboard-nav-link-left '+(Oe.locationActionMatch("insights")?"selected":"")+'"][href="'+i+'/insights"]',{config:e.route},[e("span.fa.fa-bar-chart.fa-lg.fa-fw"),t.t("start_tab",ao())]),a.is_published?[e('a#dashboard_reports_link.dashboard-nav-link-left[href="'+i+'/contributions_report"]',[e("span.fa.fa.fa-table.fa-lg.fa-fw"),t.t("reports_tab",ao())]),e('a#dashboard_reports_link.dashboard-nav-link-left.u-marginbottom-30[href="'+s+'#posts"]',[e("span.fa.fa-bullhorn.fa-fw.fa-lg"),t.t("posts_tab",ao()),e("span.badge",a.posts_count)])]:""]),e(".edit-project-div",[a.is_published?e("button#toggle-edit-menu.dashboard-nav-link-left",{onclick:o.editLinksToggle.toggle},[e("span.fa.fa-pencil.fa-fw.fa-lg"),t.t("edit_project",ao())]):"",o.editLinksToggle()?e("#edit-menu-items",[e("#dashboard-links",[!a.is_published||a.is_admin_role?[e('a#basics_link[class="'+l+'"][href="'+s+'#basics"]',t.t(a.mode+".basics_tab",io())),e('a#goal_link[class="'+l+'"][href="'+s+'#goal"]',t.t(a.mode+".goal_tab",io()))]:"",e('a#description_link[class="'+l+'"][href="'+s+'#description"]',t.t(a.mode+".description_tab",io())),e('a#video_link[class="'+l+'"][href="'+s+'#video"]',["Vídeo",e("span.fontsize-smallest.fontcolor-secondary"," (opcional)")]),e('a#budget_link[class="'+l+'"][href="'+s+'#budget"]',t.t(a.mode+".budget_tab",io())),e('a#card_link[class="'+l+'"][href="'+s+'#card"]',t.t(a.mode+".card_tab",io())),e('a#dashboard_reward_link[class="'+l+'"][href="'+s+'#reward"]',["Recompensas",c]),e('a#dashboard_user_about_link[class="'+l+'"][href="'+s+'#user_about"]',t.t(a.mode+".about_you_tab",io())),a.is_published||"draft"===a.state||a.is_admin_role?[e('a#dashboard_user_settings_link[class="'+l+'"][href="'+s+'#user_settings"]',t.t(a.mode+".account_tab",io()))]:"",a.is_published?"":[e('a#dashboard_preview_link[class="'+l+'"][href="'+s+'#preview"]',[e("span.fa.fa-fw.fa-eye.fa-lg"),t.t(a.mode+".preview_tab",io())])]])]):"",!a.is_published&&o.showPublish()?[e(".btn-send-draft-fixed","aon"===a.mode?["draft"===a.state?e('a.btn.btn-medium[href="/projects/'+a.project_id+'/validate_publish"]',[t.t("publish",ao()),e.trust("&nbsp;&nbsp;"),e("span.fa.fa-chevron-right")]):""]:["draft"===a.state?e('a.btn.btn-medium[href="/flexible_projects/'+a.project_id+'/validate_publish"]',[t.t("publish",ao()),e.trust("&nbsp;&nbsp;"),e("span.fa.fa-chevron-right")]):""])]:["flex"===a.mode&&a.is_published?[e(".btn-send-draft-fixed",n.isNull(a.expires_at)?e('a.w-button.btn.btn-medium.btn-secondary-dark[href="/projects/'+a.project_id+'/edit#announce_expiration"]',t.t("announce_expiration",ao())):"")]:""]])])]),e('a.btn-dashboard href="javascript:void(0);"',{onclick:o.bodyToggleForNav.toggle},[e("span.fa.fa-bars.fa-lg")])])}},lo={view:function(t,o){return e(".modal-backdrop",[e(".modal-dialog-outer",[e(".modal-dialog-inner.modal-dialog-small",[e('a.w-inline-block.modal-close.fa.fa-close.fa-lg[href="javascript:void(0);"]',{onclick:o.displayModal.toggle}),e.component(o.content[0],o.content[1])])])])}},co={controller:function(e){var t=e.resource,o=function(){return!_.isNull(t.expires_at)&&a().add(8,"days")>=a(t.zone_expires_at)};return{project:t,remainingTextObj:Oe.translatedTime(t.remaining_time),elapsedTextObj:Oe.translatedTime(t.elapsed_time),isFinalLap:o}},view:function(t){var o=t.project,r=o.progress.toFixed(2),n=Oe.projectStateTextClass(o.state),a=t.remainingTextObj,i=t.elapsedTextObj;return e(".project-details-card.card.u-radius.card-terciary.u-marginbottom-20",[e("div",[e(".fontsize-small.fontweight-semibold",[e("span.fontcolor-secondary","Status:")," ",e("span",{"class":n.cssClass},t.isFinalLap()&&o.open_for_contributions?"RETA FINAL":n.text)," "]),o.is_published?[e(".meter.u-margintop-20.u-marginbottom-10",[e(".meter-fill",{style:{width:(r>100?100:r)+"%"}})]),e(".w-row",[e(".w-col.w-col-3.w-col-small-3.w-col-tiny-6",[e(".fontcolor-secondary.lineheight-tighter.fontsize-small","financiado"),e(".fontweight-semibold.fontsize-large.lineheight-tight",r+"%")]),e(".w-col.w-col-3.w-col-small-3.w-col-tiny-6",[e(".fontcolor-secondary.lineheight-tighter.fontsize-small","levantados"),e(".fontweight-semibold.fontsize-large.lineheight-tight",["R$ "+Oe.formatNumber(o.pledged,2)])]),e(".w-col.w-col-3.w-col-small-3.w-col-tiny-6",[e(".fontcolor-secondary.lineheight-tighter.fontsize-small","apoios"),e(".fontweight-semibold.fontsize-large.lineheight-tight",o.total_contributions)]),e(".w-col.w-col-3.w-col-small-3.w-col-tiny-6",[_.isNull(o.expires_at)?[e(".fontcolor-secondary.lineheight-tighter.fontsize-small","iniciado há"),e(".fontweight-semibold.fontsize-large.lineheight-tight",i.total+" "+i.unit)]:[e(".fontcolor-secondary.lineheight-tighter.fontsize-small","restam"),e(".fontweight-semibold.fontsize-large.lineheight-tight",a.total+" "+a.unit)]])])]:""])])}},uo={view:function(t,o){return e(".modal-dialog-content.u-text-center",[e(".fa.fa-check-circle.fa-5x.text-success.u-marginbottom-40"),e("p.fontsize-larger.lineheight-tight","Sua campanha está no ar!!! Parabéns por esse primeiro grande passo. Boa sorte nessa jornada ;)")])}},mo={view:function(t,o){var r=o.project(),a=r.progress.toFixed(2),i=Oe.projectStateTextClass(r.state),s=Oe.translatedTime(r.remaining_time),l=Oe.translatedTime(r.elapsed_time);return e(".w-row.u-marginbottom-40",[e(".w-col.w-col-3.u-text-center-small-only",[e(".fontsize-small.fontweight-semibold.u-marginbottom-20",[e("span.fontcolor-secondary","Status: "),e("span",{
"class":i.cssClass},i.text)])]),e(".w-col.w-col-9",[e(".w-row.u-text-center",[e(".w-col.w-col-3.w-col-small-6.w-col-tiny-6",[e(".fontweight-semibold.fontsize-large.lineheight-tight",a+"%"),e(".fontcolor-secondary.lineheight-tighter.fontsize-small.u-marginbottom-10","financiado")]),e(".w-col.w-col-3.w-col-small-6.w-col-tiny-6",[e(".fontweight-semibold.fontsize-large.lineheight-tight","R$ "+Oe.formatNumber(r.pledged,2)),e(".fontcolor-secondary.lineheight-tighter.fontsize-small.u-marginbottom-10","levantados")]),e(".w-col.w-col-3.w-col-small-6.w-col-tiny-6",[e(".fontweight-semibold.fontsize-large.lineheight-tight",r.total_contributions),e(".fontcolor-secondary.lineheight-tighter.fontsize-small","apoios")]),e(".w-col.w-col-3.w-col-small-6.w-col-tiny-6",[n.isNull(r.expires_at)?[e(".fontweight-semibold.fontsize-large.lineheight-tight",l.total+" "+l.unit),e(".fontcolor-secondary.lineheight-tighter.fontsize-small","iniciado há")]:[e(".fontweight-semibold.fontsize-large.lineheight-tight",""+s.total),e(".fontcolor-secondary.lineheight-tighter.fontsize-small",s.unit+" "+(s.total>0?"restantes":"restante"))]])])])])}},po={controller:function(t){var r=e.prop(!1),n=e.prop(!1),a=e.prop(!0),i=e.prop(""),s=function(){if("deletar-rascunho"===i()){var e=Ne.deleteProject.postOptions({_project_id:t.project.project_id});r=o.loaderWithToken(e),r.load().then(n(!0))}else a(!1);return!1};return{deleteProject:s,confirmed:a,deleteSuccess:n,check:i}},view:function(t,o){o.project;return e("div",t.deleteSuccess()?"":e(".modal-dialog-header",e(".fontsize-large.u-text-center",["Confirmar ",e("span.fa.fa-trash","")])),e("form.modal-dialog-content",{onsubmit:t.deleteProject},t.deleteSuccess()?[e(".fontsize-base.u-margintop-30","Projeto deletado com sucesso. Clique no link abaixo para voltar a página inicial."),e("a.btn.btn-inactive.btn-large.u-margintop-30[href='/pt/users/"+Oe.getUser().user_id+"/edit#projects']","Voltar")]:[e(".fontsize-base.u-marginbottom-60",["O projeto será deletado permanentemente e todos os dados que você preencheu na edição do rascunho não poderão ser recuperados."]),e(".fontsize-base.u-marginbottom-10",["Confirme escrevendo ","no campo abaixo ",e("span.fontweight-semibold.text-error","deletar-rascunho")]),e(".w-form",[e("div",e("input.positive.text-field.u-marginbottom-40.w-input[maxlength='256'][type='text']",{"class":t.confirmed()?!1:"error",placeholder:"deletar-rascunho",onchange:e.withAttr("value",t.check)}))]),e("div",e(".w-row",[e(".w-col.w-col-3"),e(".u-text-center.w-col.w-col-6",[e("input.btn.btn-inactive.btn-large.u-marginbottom-20[type='submit'][value='Deletar para sempre']"),e("a.fontsize-small.link-hidden-light[href='#']",{onclick:o.displayDeleteModal.toggle},"Cancelar")]),e(".w-col.w-col-3")]))]))}},fo={controller:function(e){var t=Oe.toggleProp(!1,!0);return{displayDeleteModal:t}},view:function(t,o){return e("div",[t.displayDeleteModal()?e.component(lo,{displayModal:t.displayDeleteModal,content:[po,{displayDeleteModal:t.displayDeleteModal,project:o.project}]}):"",e(".before-footer",e(".w-container",e("a.btn.btn-inline.btn-no-border.btn-small.btn-terciary.u-marginbottom-20.u-right.w-button[href='javascript:void(0);']",{onclick:t.displayDeleteModal.toggle,style:{transition:"all 0.5s ease 0s"}},[e.trust("&nbsp;"),"Deletar projeto ",e("span.fa.fa-trash","")])))])}},wo={controller:function(t){var o=(e.prop(!1),e.prop(!1)),r=e.prop(""),n=function(){return"cancelar-projeto"===r()?(t.displayModal.toggle(),document.getElementById("send-message").style.display="block"):o(!0),!1};return{showNextModal:n,checkError:o,check:r}},view:function(t,o){return e("form.cancel-project-modal.modal-dialog-content",{onsubmit:t.showNextModal},[e(".fontsize-small.u-marginbottom-20",['Após o cancelamento, sua campanha constará na plataforma como "não financiada" e os seus apoiadores serão imediatamente reembolsados. ',e("span.fontweight-semibold","Essa ação não poderá ser desfeita!"),e("br"),e("span.fontweight-semibold")]),e(".fontsize-small.u-marginbottom-10",["Se você tem certeza que deseja cancelar seu projeto, confirme escrevendo ",e("span.fontweight-semibold.text-error","cancelar-projeto "),"no campo abaixo. Em seguida te pediremos para escrever uma mensagem aos seus apoiadores e seu projeto será então cancelado.",e("span.fontweight-semibold.text-error")]),e(".w-form",[e("input.positive.text-field.u-marginbottom-40.w-input[maxlength='256'][type='text']",{"class":t.checkError()?"error":!1,placeholder:"cancelar-projeto",onchange:e.withAttr("value",t.check)})]),e("div",e(".w-row",[e(".w-col.w-col-3"),e(".u-text-center.w-col.w-col-6",[e("input.btn.btn-inactive.btn-large.u-marginbottom-20[type='submit'][value='Próximo passo >']"),e("a.fontsize-small.link-hidden-light[href='#']",{onclick:o.displayModal.toggle},"Cancelar")]),e(".w-col.w-col-3")]))])}},go={controller:function(e){var t=Oe.toggleProp(!1,!0);return{displayCancelModal:t}},view:function(t,o){return e("div",[t.displayCancelModal()?e.component(lo,{displayModal:t.displayCancelModal,content:[wo,{displayModal:t.displayCancelModal}]}):"",e(".before-footer",e(".w-container",e("a.btn.btn-cancel.btn-inline.btn-no-border.btn-small.btn-terciary.u-marginbottom-20.u-right.w-button",{onclick:t.displayCancelModal.toggle,style:{transition:"all 0.5s ease 0s"}},[e("span.fa.fa-times-circle",""),e.trust("&nbsp;"),"Cancelar projeto"])))])}},bo={controller:function(e){var t=n.first(e.collection()),o=n.isUndefined(t)?[]:t.source,r=function(){return[{fillColor:"rgba(126,194,69,0.2)",strokeColor:"rgba(126,194,69,1)",pointColor:"rgba(126,194,69,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(220,220,220,1)",data:n.map(o,function(t){return t[e.dataKey]})}]},a=function(t,a){if(!a){var s=t.getContext("2d");new i(s).Line({labels:n.map(o,function(t){return e.xAxis(t)}),datasets:r()})}};return{renderChart:a,source:o}},view:function(t,o){return e(".card.u-radius.medium.u-marginbottom-30",[e(".fontweight-semibold.u-marginbottom-10.fontsize-large.u-text-center",o.label),e(".w-row",[e(".w-col.w-col-12.overflow-auto",[n.isEmpty(t.source)?e(".w-col.w-col-8.w-col-push-2",e("p.fontsize-base",o.emptyState)):e('canvas[id="chart"][width="860"][height="300"]',{config:t.renderChart})])])])}},ho={controller:function(t){var o=e.prop(t.table),r=e.prop(-1),a=function(e,t){var o=r(),a=n.isArray(e[o])&&e[o].length>1?e[o][0]:e[o],i=n.isArray(t[o])&&t[o].length>1?t[o][0]:t[o];return i>a?-1:a>i?1:0},i=function(e){var t=n.first(o()),i=void 0;r()===e?i=n.rest(o()).reverse():(r(e),i=n.rest(o()).sort(a)),o(n.union([t],i))};return i(Math.abs(t.defaultSortIndex)||0),t.defaultSortIndex<0&&i(Math.abs(t.defaultSortIndex)||0),{table:o,sortTable:i}},view:function(t,o){var r=n.first(t.table()),a=n.rest(t.table());return e(".table-outer.u-marginbottom-60",[e(".w-row.table-row.fontweight-semibold.fontsize-smaller.header",n.map(r,function(o,r){var n=function(){return t.sortTable(r)};return e(".w-col.w-col-4.w-col-small-4.w-col-tiny-4.table-col",[e('a.link-hidden[href="javascript:void(0);"]',{onclick:n},[o+" ",e("span.fa.fa-sort")])])})),e(".table-inner.fontsize-small",n.map(a,function(t){return e(".w-row.table-row",n.map(t,function(t){return t=n.isArray(t)&&t.length>1?t[1]:t,e(".w-col.w-col-4.w-col-small-4.w-col-tiny-4.table-col",[e("div",t)])}))}))])}},vo={view:function(t,o){var r=o.resource;return e("#project-reminder-count.card.u-radius.u-text-center.medium.u-marginbottom-80",[e(".fontsize-large.fontweight-semibold","Total de pessoas que clicaram no botão Lembrar-me"),e(".fontsize-smaller.u-marginbottom-30","Um lembrete por email é enviado 48 horas antes do término da sua campanha"),e(".fontsize-jumbo",r.reminder_count)])}},_o={controller:function(e){var t=e.dataToRedraw||{},o=function(e,o,r){o||n.map(e.children,function(e){var o=t[e.getAttribute("id")];o&&(e[o.action]=o.actionSource)})};return{listenToReplace:o}},view:function(t,o){var r=o.content;return e(".w-container",[e(".w-row.u-marginbottom-40",[e(".w-col.w-col-6.w-col-push-3",[e(".u-text-center",[e("img.u-marginbottom-20",{src:r.icon,width:94}),e(".fontsize-large.fontweight-semibold.u-marginbottom-20",r.title),e(".fontsize-base.u-marginbottom-30",{config:t.listenToReplace},e.trust(r.text)),r.cta?e("a.btn.btn-large.btn-inline",{href:r.href,onclick:o.nextStage},r.cta):""])])])])}},yo=n.partial(Oe.i18nScope,"projects.successful_onboard.confirm_account.refuse"),jo={controller:function(t){var o=e.prop(""),r=e.prop(!1),n=function(){return""===o().trim()?r(!0):t.addErrorReason(o).call()};return{addErrorReason:n,errorReasonM:o,error:r}},view:function(o,r){return e(".w-row.bank-transfer-answer",[e(".w-col.w-col-6.w-col-push-3",[e(".w-form.bank-transfer-problem.card.u-radius",[e("form#successful-onboard-error",[e("a.w-inline-block.u-right.btn.btn-terciary.btn-no-border.btn-inline.fa.fa-close",{href:"#confirm_account",onclick:r.changeToAction("start")}),e("label.field-label.fontweight-semibold.u-marginbottom-20",t.t("title",yo())),e("textarea.w-input.text-field",{placeholder:t.t("placeholder",yo()),"class":o.error()?"error":"",onfocus:function(){return o.error(!1)},onchange:e.withAttr("value",o.errorReasonM)}),o.error()?e(".w-row",[e(".w-col.w-col-6.w-col-push-3.u-text-center",[e("span.fontsize-smallest.text-error","Campo Obrigatório")])]):"",e(".w-row",[e(".w-col.w-col-4.w-col-push-4",[e("a.w-button.btn.btn-medium",{href:"#confirm_account_refuse",onclick:o.addErrorReason},t.t("cta",yo()))])])])])])])}},xo=n.partial(Oe.i18nScope,"projects.successful_onboard.confirm_account"),ko={view:function(o,r){return e(".w-row.bank-transfer-answer",[e(".w-col.w-col-6.w-col-push-3",[e(".w-form.bank-transfer-confirm.card.u-radius",[e("form#successful-onboard-form",[e("a.w-inline-block.u-right.btn.btn-terciary.btn-no-border.btn-inline.fa.fa-close",{href:"#confirm_account",onclick:r.changeToAction("start")}),e("label.field-label.fontweight-semibold.u-marginbottom-20",t.t("accept.title",xo())),e(".fontsize-smaller.u-marginbottom-30",t.t("accept.info",xo())),e(".w-row",[e(".w-col.w-col-4.w-col-push-4",[r.acceptAccountLoader()?Oe.loader():e("a.w-button.btn.btn-medium",{href:"#accept_account",onclick:r.acceptAccount},t.t("accept.cta",xo()))])])])])])])}},zo=n.partial(Oe.i18nScope,"projects.successful_onboard.confirm_account"),Co={controller:function(t){var o={error:jo,accept:ko},r=e.prop("start"),n=function(){return o[r()]},a=function(e){return function(){return r(e),!1}};return{changeToAction:a,actionStage:n,currentStage:r}},view:function(o,r){var a=r.projectAccount,i=o.actionStage,s=o.currentStage,l=a.owner_document.length>14?"juridical":"natural",c=a.owner_document.length>14;return e(".w-container.u-marginbottom-40",[e(".u-text-center",[e(".fontsize-large.fontweight-semibold.u-marginbottom-30",t.t("title",zo()))]),e(".w-row.u-marginbottom-40",[e(".w-col.w-col-6",[e(".fontsize-base.u-marginbottom-30.card.card-terciary",[e("div",[e("span.fontcolor-secondary",t.t("person.label",zo())),t.t("person."+l+".label",zo())]),e("div",[e("span.fontcolor-secondary",t.t("person."+l+".name",zo())),a.owner_name]),a.state_inscription&&c?e("div",[e("span.fontcolor-secondary",t.t("person.state_inscription",zo())),a.state_inscription]):"",e("div",[e("span.fontcolor-secondary",t.t("person."+l+".document",zo())),a.owner_document]),e("div",[e("span.fontcolor-secondary",t.t("person.bank.name",zo())),a.bank_name]),e("div",[e("span.fontcolor-secondary",t.t("person.bank.agency",zo())),""+a.agency+(n.isEmpty(a.agency_digit)?"":"-"+a.agency_digit)]),e("div",[e("span.fontcolor-secondary",t.t("person.bank.account",zo())),a.account+"-"+a.account_digit])])]),e(".w-col.w-col-6",[e(".fontsize-base.u-marginbottom-30.card.card-terciary",[e("div",[e("span.fontcolor-secondary",t.t("person.address",zo())),a.address_street+", "+a.address_number+" "+(n.isNull(a.address_complement)?"":", "+a.address_complement)]),e("div",[e("span.fontcolor-secondary",t.t("person.neighbourhood",zo())),a.address_neighbourhood]),e("div",[e("span.fontcolor-secondary",t.t("person.city",zo())),a.address_city]),e("div",[e("span.fontcolor-secondary",t.t("person.state",zo())),a.address_state]),e("div",[e("span.fontcolor-secondary",t.t("person.zip_code",zo())),a.address_zip_code])])])]),"start"===s()?e("#confirmation-dialog.w-row.bank-transfer-answer",[e(".w-col.w-col-3.w-col-small-6.w-col-tiny-6.w-hidden-small.w-hidden-tiny"),e(".w-col.w-col-3.w-col-small-6.w-col-tiny-6",[e("a#confirm-account.btn.btn-large",{href:"#confirm_account",onclick:o.changeToAction("accept")},"Sim")]),e(".w-col.w-col-3.w-col-small-6.w-col-tiny-6",[e("a#refuse-account.btn.btn-large.btn-terciary",{href:"#error_account",onclick:o.changeToAction("error")},"Não")]),e(".w-col.w-col-3.w-col-small-6.w-col-tiny-6.w-hidden-small.w-hidden-tiny")]):e.component(i(),{projectAccount:a,changeToAction:o.changeToAction,addErrorReason:r.addErrorReason,acceptAccount:r.acceptAccount,acceptAccountLoader:r.acceptAccountLoader})])}},Po={view:function(t,o){var r=o.projectTransfer;return e("div",[e(".modal-dialog-header",[e(".fontsize-large.u-text-center","Extrato do projeto")]),e(".modal-dialog-content",[e("p.fontsize-small.u-marginbottom-40",["Confira o extrato do seu projeto, já incluindo as taxas e retenções. Se você tiver dúvidas sobre como esse cálculo é feito, ",e('a.alt-link[href="http://suporte.catarse.me/hc/pt-br/articles/202037493-FINANCIADO-Como-ser%C3%A1-feito-o-repasse-do-dinheiro-"][target="__blank"]',"acesse aqui"),"."]),e("div",[e(".w-row.fontsize-small.u-marginbottom-10",[e(".w-col.w-col-4",[e(".text-success","+ R$ "+Oe.formatNumber(r.pledged,2))]),e(".w-col.w-col-8",[e("div","Arrecadação total ("+r.total_contributions+" apoios)")])]),r.irrf_tax>0?e(".w-row.fontsize-small.u-marginbottom-10",[e(".w-col.w-col-4",[e(".text-success","+ R$ "+Oe.formatNumber(r.irrf_tax,2))]),e(".w-col.w-col-8",[e("div","Retenção IRF (Imposto de Renda na Fonte)")])]):"",e(".w-row.fontsize-small.u-marginbottom-10",[e(".w-col.w-col-4",[e(".text-error","- R$ "+Oe.formatNumber(r.catarse_fee,2))]),e(".w-col.w-col-8",[e("div","Taxa do Catarse e meio de pagamento ("+Oe.formatNumber(100*r.service_fee,2)+"%) ")])]),e(".divider.u-marginbottom-10"),e(".w-row.fontsize-base.fontweight-semibold",[e(".w-col.w-col-4",[e("div","R$ "+Oe.formatNumber(r.total_amount,2))]),e(".w-col.w-col-8",[e("div","Total a ser transferido")])])])])])}},Mo=n.partial(Oe.i18nScope,"projects.successful_onboard"),So=function(e,t){return{transfer_limit_date:Oe.momentify(e.transfer_limit_date),total_amount:Oe.formatNumber(t.total_amount,2),bank_name:e.bank_name,agency:""+e.agency+(e.agency_digit?"-"+e.agency_digit:""),account:""+e.account+(e.account_digit?"-"+e.account_digit:""),user_email:e.user_email}},To={content:function(e,o){var r=t.translations[t.currentLocale()].projects.successful_onboard[e],a="finished"===e?{}:So(n.first(o.account()),n.first(o.transfer())),i={};return n.map(r,function(o,r){i=n.extend({},i,s.defineProperty({},r,t.t(e+"."+r,Mo(a))))}),i}},Eo=(_.partial(Oe.i18nScope,"projects.successful_onboard"),{controller:function(t){var r=o.filtersVM({project_id:"eq"}),n=e.prop([]),a=e.prop([]),i=Oe.toggleProp(!1,!0),s={start:_o,confirm_account:Co,error_account:_o,pending_transfer:_o,finished:_o},l=e.prop("start"),c=function(){return s[l()]},d=function(){return To.content(l(),{account:n,transfer:a,showTaxModal:i})},u=o.loaderWithToken,m=function(e){_.first(n());return o.loaderWithToken(Ne.projectAccountError.postOptions({project_id:t.project().project_id,reason:e}))},p=o.loaderWithToken(Ne.projectAccount.postOptions({project_id:t.project().project_id}));r.project_id(t.project().project_id);var f=u(Ne.projectAccount.getRowOptions(r.parameters()));f.load().then(function(e){n(e),h()});var w=u(Ne.projectTransfer.getRowOptions(r.parameters()));w.load().then(a);var g=function(e){return l(e),c},b=function(){var e=_.keys(s),t=e[_.indexOf(e,l())+1];return l(t),c},h=function(){if(!f()){var e=_.first(n());if(_.isNull(e))return g("finished")();if(_.isNull(e.error_reason)&&_.isNull(e.transfer_state))return g("start")();if(!_.isNull(e.error_reason))return g("error_account")();if(!_.isNull(e.transfer_state))return"transferred"==e.transfer_state?g("finished")():g("pending_transfer")()}return!1},v=function(e){return function(){var t=m(e());return t.load().then(function(){g("error_account")()}),!1}},y=function(){return p.load().then(function(){g("pending_transfer")()}),!1};return{projectAccounts:n,projectTransfers:a,lProjectAccount:f,lProjectTransfer:w,setStage:g,nextStage:b,currentComponent:c,addErrorReason:v,acceptAccount:y,acceptAccountLoader:p,content:d,declineAccountLoader:m,loadCurrentStage:h,showTaxModal:i}},view:function(t,o){var r=_.first(t.projectAccounts()),n=_.first(t.projectTransfers()),a=t.lProjectAccount,i=t.lProjectTransfer;return e(".w-section.section",[t.showTaxModal()?e.component(lo,{displayModal:t.showTaxModal,content:[Po,{projectTransfer:n}]}):"",a()||i()?Oe.loader():e.component(t.currentComponent(),{projectTransfer:n,projectAccount:r,setStage:t.setStage,addErrorReason:t.addErrorReason,acceptAccount:t.acceptAccount,acceptAccountLoader:t.acceptAccountLoader,nextStage:t.nextStage,content:t.content(),dataToRedraw:{tax_link:{action:"onclick",actionSource:function(){t.showTaxModal.toggle(),e.redraw()}}}})])}}),Ao={controller:function(e){var t=function(){FB&&FB.ui({method:e.messenger?"send":"share",link:e.url,href:e.url})};return{share:t}},view:function(t,o){var r=function(){return o.mobile?"w-hidden-main w-hidden-medium u-marginbottom-20 btn btn-medium btn-fb":o.big?"btn btn-fb btn-large u-marginbottom-20 w-button":o.medium?"btn "+(o.messenger?"btn-messenger":"btn-fb")+" btn-medium u-marginbottom-20 w-button":"btn btn-inline btn-medium btn-terciary u-marginright-20"};return e("button",{"class":r(),onclick:t.share},[e("span.fa",{"class":o.messenger?"fa-comment":"fa-facebook"}),o.messenger?" Messenger":" Facebook"])}},qo={controller:function(){return{displayNotification:Oe.toggleProp(!0,!1)}},view:function(t,o){return t.displayNotification()?e(".flash.w-clearfix.card.card-notification.u-radius.zindex-20",[e('img.icon-close[src="/assets/catarse_bootstrap/x.png"][width="12"][alt="fechar"]',{onclick:t.displayNotification.toggle}),e(".fontsize-small",o.message)]):e("span")}},Ro={controller:function(t){var o=e.prop(!1),r=function(e){var t=void 0,o=void 0;document.body.createTextRange?(t=document.body.createTextRange(),t.moveToElementText(e),t.select()):window.getSelection&&(o=window.getSelection(),t=document.createRange(),t.selectNodeContents(e),o.removeAllRanges(),o.addRange(t))},n=function(t,n){var a=void 0;n||!function(){var n=document.getElementById("copy-textarea");t.onclick=function(){r(n),a=document.execCommand("copy"),a?(o(!0),e.redraw()):n.blur()}}()};return{setClickHandler:n,showSuccess:o}},view:function(t,o){return e("#clipboard.w-row",[e(".w-col.w-col-10.w-col-small-10.w-col-tiny-10",e("textarea#copy-textarea.positive.text-field.w-input",{style:"margin-bottom:0;"},o.value)),e(".w-col.w-col-2.w-col-small-2.w-col-tiny-2",e(".btn.btn-medium.btn-no-border.btn-terciary.fa.fa-clipboard.w-button",{config:t.setClickHandler})),t.showSuccess()?e.component(qo,{message:"Link copiado"}):""])}},Do={controller:function(t){var r=e.prop([]),a=e.prop(!1),i=e.prop(""),s=e.prop(t.dataEmails()),l=e.prop(!1),c=function(e){return function(){var t=function(t){return t.email===e.email};n.find(r(),t)?r(n.reject(r(),t)):r().push(e)}},d=function(){a(!0),n.isEmpty(r)||o.loaderWithToken(Ne.inviteProjectEmail.postOptions({data:{project_id:t.project.project_id,emails:n.map(r(),function(e){return e.email})}})).load().then(function(e){t.modalToggle.toggle(),a(!1),t.showSuccess(!0)})},u=function(){if(!l()){l(!0);var e=void 0,o=function(e){var t="\b"+n.escape(i()),o=new RegExp(t,"gim");return!n.isNull(e.email.match(o))||!n.isNull(e.name.match(o))};return n.isEmpty(i())&&n.isUndefined(i())||(e=n.filter(t.dataEmails(),o)),l(!1),e||t.dataEmails}};return{onCheckGenerator:c,submitInvites:d,checkedList:r,filterTerm:i,loading:a,search:u,filteredData:s,filtering:l}},view:function(t,o){o.project;return e("div",[e(".modal-dialog-header",[e(".fontsize-large.u-text-center","Convide seus amigos")]),e(".modal-dialog-content",o.loadingContacts()||t.loading()?Oe.loader():[e(".filter-area",[e(".w-row.u-margintop-20",[e(".w-sub-col.w-col.w-col-12",[e('form[action="javascript:void(0);"]',[e('input.w-input.text-field[type="text"][placeholder="Busque pelo nome ou email."]',{onkeyup:e.withAttr("value",t.filterTerm),onchange:function(e){e.preventDefault()}})])])])]),e(".emails-area.u-margintop-40",{style:{height:"250px","overflow-x":"auto"}},t.filtering()?Oe.loader():n.map(t.search(),function(o,r){return e(".w-row.u-marginbottom-20",[e(".w-sub-col.w-col.w-col-1",[e("input[type='checkbox'][name='check_"+r+"']",{onchange:t.onCheckGenerator(o)})]),e(".w-sub-col.w-col.w-col-4",[e("label.fontsize-small[for='check_"+r+"']",o.name)]),e(".w-sub-col.w-col.w-col-7",[e("label.fontsize-small.fontweight-semibold[for='check_"+r+"']",o.email)])])}))]),e(".modal-dialog-nav-bottom.u-text-center",[o.loadingContacts()||t.loading()||t.filtering()?t.loading()?"enviando convites...":"carregando contatos...":e(".u-text-center.u-margintop-20",[e('a.btn.btn-inline.btn-medium.w-button[href="javascript:void(0)"]',{onclick:t.submitInvites},"Enviar "+t.checkedList().length+" convites")])])])}},Fo={controller:function(t){var o=document.getElementById("google_oauth_client"),r=Oe.toggleProp(!1,!0),a="https://www.google.com/m8/feeds/contacts/default/full?alt=json&max-results=1000",i=e.prop([]),s=e.prop(!1),l=function d(t,o){r()||(r.toggle(),s(!0),e.redraw()),e.request({url:o||a,dataType:"jsonp",data:t}).then(function(o){var r=n.find(o.feed.link,function(e){return"next"===e.rel}),a=n.reduce(o.feed.entry,function(e,t){return"gd$email"in t&&t.gd$email.length>0&&!function(){var o=t.gd$email,r=t.title.$t;n.each(o,function(t){e.push({email:t.address,name:r})})}(),e},[]);i(i().concat(a)),n.isUndefined(r)?(s(!1),e.redraw()):d(t,r.href)})},c=function(){var e={client_id:o.getAttribute("data-token"),scope:"https://www.googleapis.com/auth/contacts.readonly"};gapi.auth.authorize(e,function(){l(gapi.auth.getToken())})};return{auth:c,modalToggle:r,loadingContacts:s,dataEmails:i}},view:function(t,o){o.project;return e("#google_contact_wrapper",[t.modalToggle()?e.component(lo,{displayModal:t.modalToggle,content:[Do,{project:o.project,dataEmails:t.dataEmails,loadingContacts:t.loadingContacts,modalToggle:t.modalToggle,showSuccess:o.showSuccess}]}):"",e("a.btn.btn-inline.btn-no-border.btn-terciary.w-inline-block[href='javascript:void(0);']",{onclick:t.auth},[e("img[src='http://uploads.webflow.com/57ba58b4846cc19e60acdd5b/57bc339f77f314e23b94d44d_gmail-icon.png'][width='25']"),e("._w-inline-block.fontsize-smallest","Contatos do gmail")])])}},Oo={controller:function(t){var r=e.prop(""),a=e.prop(!1),i=t.project,s=e.prop(!1),l=function(){if(n.isEmpty(r())||a()===!0);else{a(!0);var e=n.reduce(r().split("\n"),function(e,t){return Oe.validateEmail(t)&&e.push(t),e},[]);n.isEmpty(e)?a(!1):(s(!1),o.loaderWithToken(Ne.inviteProjectEmail.postOptions({data:{project_id:i.project_id,emails:e}})).load().then(function(e){r(""),a(!1),s(!0)}))}};return{emailText:r,submitInvite:l,loading:a,showSuccess:s}},view:function(t,o){var r=o.project;return e(".email-invite-box",[t.showSuccess()?e.component(qo,{message:"Convites enviados."}):"",t.loading()?Oe.loader():[e(".w-form",[e("form",[e(".u-marginbottom-10",[e.component(Fo,{project:r,showSuccess:t.showSuccess})]),e('textarea.positive.text-field.w-input[maxlength="5000"][placeholder="Adicione um ou mais emails, separados por linha."]',{onchange:e.withAttr("value",t.emailText),value:t.emailText()})])]),e(".u-text-center",[e('a.btn.btn-inline.btn-medium.w-button[href="javascript:void(0)"]',{onclick:t.submitInvite},"Enviar convites")])]])}},No={view:function(t,o){var r=o.project;return e(".card.card-secondary.u-marginbottom-20.u-radius.w-clearfix",[e(".fontsize-base.fontweight-semibold.u-marginbottom-30.u-text-center","Convide seus amigos para apoiar sua campanha"),e(".w-row",[e(".invite-friends-back-col-1",[e.component(Ao,{url:Oe.projectFullPermalink(r)+"?ref=facebook&utm_source=facebook.com&utm_medium=social&utm_campaign=project_share_insights",medium:!0}),e.component(Ao,{messenger:!0,url:Oe.projectFullPermalink(r)+"?ref=facebook&utm_source=facebook.com&utm_medium=messenger&utm_campaign=project_share_insights",medium:!0}),e(".w-form",[e("form[data-name='Email Form 2'][id='email-form-2'][name='email-form-2']",[e(".fontcolor-secondary.fontsize-smallest","Link direto"),e.component(Ro,{value:Oe.projectFullPermalink(r)+"?ref=project_link"})])])]),e(".invite-friends-back-col-2",e.component(Oo,{project:r}))])])}},Io=n.partial(Oe.i18nScope,"projects.insights"),Vo={controller:function(r){var a=o.filtersVM({project_id:"eq"}),i=Oe.toggleProp(!1,!0),s=e.prop([]),l=e.prop([]),c=(e.prop([]),o.loaderWithToken),d=function(){try{var t=e.route.param("project_id");a.project_id(t)}catch(o){a.project_id(r.root.getAttribute("data-id"))}};"true"===Oe.paramByName("online_success")&&i.toggle(),d();var u=c(Ne.projectDetail.getRowOptions(a.parameters()));u.load().then(s);var m=c(Ne.projectContributionsPerDay.getRowOptions(a.parameters()));m.load().then(l);var p=[["Estado","Apoios","R$ apoiados (% do total)"]],f=function(t){return n.isEmpty(t)?[]:n.map(n.first(t).source,function(t){var o=[];return o.push(t.state_acronym||"Outro/other"),o.push(t.total_contributions),o.push([t.total_contributed,[e('input[type="hidden"][value="'+t.total_contributed+'"'),"R$ ",Oe.formatNumber(t.total_contributed,2,3),e("span.w-hidden-small.w-hidden-tiny"," ("+t.total_on_percentage.toFixed(2)+"%)")]]),p.push(o)})},w=c(Ne.projectContributionsPerLocation.getRowOptions(a.parameters()));w.load().then(f);var g=[[t.t("ref_table.header.origin",Io()),t.t("ref_table.header.contributions",Io()),t.t("ref_table.header.amount",Io())]],b=function(o){return n.isEmpty(o)?[]:n.map(n.first(o).source,function(o){var r=/(ctrse_[\D]*)/,n=r.exec(o.referral_link),a=[];return n&&(o.referral_link="_"===n[0].substr(-1)?n[0].substr(0,n[0].length-1):n[0]),a.push(o.referral_link?t.t("referral."+o.referral_link,Io({defaultValue:o.referral_link})):t.t("referral.others",Io())),a.push(o.total),a.push([o.total_amount,[e('input[type="hidden"][value="'+o.total_contributed+'"'),"R$ ",Oe.formatNumber(o.total_amount,2,3),e("span.w-hidden-small.w-hidden-tiny"," ("+o.total_on_percentage.toFixed(2)+"%)")]]),g.push(a)})},h=c(Ne.projectContributionsPerRef.getRowOptions(a.parameters()));return h.load().then(b),{l:u,lContributionsPerRef:h,lContributionsPerLocation:w,lContributionsPerDay:m,displayModal:i,filtersVM:a,projectDetails:s,contributionsPerDay:l,contributionsPerLocationTable:p,contributionsPerRefTable:g}},view:function(o){var r=n.first(o.projectDetails())||{user:{name:"Realizador"}},a=function(o){return e.component(no,{el:o,text:["Informa de onde vieram os apoios de seu projeto. Saiba como usar essa tabela e planejar melhor suas ações de comunicação ",e('a[href="'+t.t("ref_table.help_url",Io())+"\"][target='_blank']","aqui.")],width:380})};return o.l()||(r.user.name=r.user.name||"Realizador"),e(".project-insights",o.l()?Oe.loader():[r.is_owner_or_admin?e.component(so,{project:e.prop(r)}):"",o.displayModal()?e.component(lo,{displayModal:o.displayModal,content:[uo]}):"",e(".w-container","successful"===r.state?e.component(Eo,{project:e.prop(r)}):[e(".w-row.u-marginbottom-40",[e(".w-col.w-col-8.w-col-push-2",[e(".fontweight-semibold.fontsize-larger.lineheight-looser.u-marginbottom-10.u-text-center.dashboard-header",t.t("campaign_title",Io())),"online"===r.state?e.component(No,{project:r}):"","draft"===r.state?e.component(co,{resource:r}):"",e("p."+r.state+"-project-text.fontsize-small.lineheight-loose",["flex"===r.mode&&n.isNull(r.expires_at)&&"draft"!==r.state?e("span",[t.t("finish_explanation",Io()),e('a.alt-link[href="http://suporte.catarse.me/hc/pt-br/articles/208141033-Como-definir-o-prazo-no-Catarse-flex-"][target="_blank"]',t.t("know_more",Io()))]):e.trust(t.t("campaign."+r.mode+"."+r.state,Io({username:r.user.name,expires_at:Oe.momentify(r.zone_expires_at),sent_to_analysis_at:Oe.momentify(r.sent_to_analysis_at)})))])])])]),"draft"===r.state?e.component(fo,{project:r}):"",r.is_published?[e(".divider"),e(".w-section.section-one-column.section.bg-gray.before-footer",[e(".w-container",[e.component(mo,{project:e.prop(r)}),e(".w-row",[e(".w-col.w-col-12.u-text-center",{style:{"min-height":"300px"}},[o.lContributionsPerDay()?Oe.loader():e.component(bo,{collection:o.contributionsPerDay,label:t.t("amount_per_day_label",Io()),dataKey:"total_amount",xAxis:function(e){return Oe.momentify(e.paid_at)},emptyState:t.t("amount_per_day_empty",Io())})])]),e(".w-row",[e(".w-col.w-col-12.u-text-center",{style:{"min-height":"300px"}},[o.lContributionsPerDay()?Oe.loader():e.component(bo,{collection:o.contributionsPerDay,label:t.t("contributions_per_day_label",Io()),dataKey:"total",xAxis:function(e){return Oe.momentify(e.paid_at)},emptyState:t.t("contributions_per_day_empty",Io())})])]),e(".w-row",[e(".w-col.w-col-12.u-text-center",[e(".project-contributions-per-ref",[e(".fontweight-semibold.u-marginbottom-10.fontsize-large.u-text-center",[t.t("ref_origin_title",Io()),Oe.newFeatureBadge(),a("span.fontsize-smallest.tooltip-wrapper.fa.fa-question-circle.fontcolor-secondary")]),o.lContributionsPerRef()?Oe.loader():n.isEmpty(n.rest(o.contributionsPerRefTable))?e(".card.u-radius.medium.u-marginbottom-60",e(".w-row.u-text-center.u-margintop-40.u-marginbottom-40",e(".w-col.w-col-8.w-col-push-2",e("p.fontsize-base",t.t("contributions_per_ref_empty",Io()))))):e.component(ho,{table:o.contributionsPerRefTable,defaultSortIndex:-2})])])]),e(".w-row",[e(".w-col.w-col-12.u-text-center",[e(".project-contributions-per-ref",[e(".fontweight-semibold.u-marginbottom-10.fontsize-large.u-text-center",t.t("location_origin_title",Io())),o.lContributionsPerLocation()?Oe.loader():n.isEmpty(n.rest(o.contributionsPerLocationTable))?e(".card.u-radius.medium.u-marginbottom-60",e(".w-row.u-text-center.u-margintop-40.u-marginbottom-40",e(".w-col.w-col-8.w-col-push-2",e("p.fontsize-base",t.t("contributions_per_location_empty",Io()))))):e.component(ho,{table:o.contributionsPerLocationTable,defaultSortIndex:-2})])])]),e(".w-row",[e(".w-col.w-col-12.u-text-center",[e.component(vo,{resource:r})])])])]),"online"===r.state?e.component(go,{project:r}):""]:""])}},Lo=_.partial(Oe.i18nScope,"pages.jobs"),Bo={view:function(o,r){return[e(".w-section.hero-jobs.hero-medium",[e(".w-containe.u-text-center",[e('img.icon-hero[src="/assets/logo-white.png"]'),e(".u-text-center.u-marginbottom-20.fontsize-largest",t.t("title",Lo()))])]),e(".w-section.section",[e(".w-container.u-margintop-40",[e(".w-row",[e(".w-col.w-col-8.w-col-push-2.u-text-center",[e(".fontsize-large.u-marginbottom-30",t.t("info",Lo())),e('a[href="/projects/new"].w-button.btn.btn-large.btn-inline',t.t("cta",Lo()))])])])])]}},Uo={controller:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],o=e.prop([]),r=e.prop({});return Ne.statistic.getRow().then(o),t.socket&&n.isFunction(t.socket.on)&&t.socket.on("new_paid_contributions",function(t){r(JSON.parse(t.payload)),Ne.statistic.getRow().then(o),e.redraw()}),{pageStatistics:o,notificationData:r}},view:function(t){var o=t.notificationData();return e(".w-section.bg-stats.section.min-height-100",[e(".w-container.u-text-center",n.map(t.pageStatistics(),function(t){return[e('img.u-marginbottom-60[src="https://daks2k3a4ib2z.cloudfront.net/54b440b85608e3f4389db387/55ada5dd11b36a52616d97df_symbol-catarse.png"]'),e(".fontcolor-negative.u-marginbottom-40",[e(".fontsize-megajumbo.fontweight-semibold","R$ "+Oe.formatNumber(t.total_contributed,2,3)),e(".fontsize-large","Doados para projetos publicados por aqui")]),e(".fontcolor-negative.u-marginbottom-60",[e(".fontsize-megajumbo.fontweight-semibold",t.total_contributors),e(".fontsize-large","Pessoas já apoiaram pelo menos 1 projeto no Catarse")])]})),n.isEmpty(o)?"":e(".w-container",[e("div",[e(".card.u-radius.u-marginbottom-60.medium",[e(".w-row",[e(".w-col.w-col-4",[e(".w-row",[e(".w-col.w-col-4.w-col-small-4",[e('img.thumb.u-round[src="'+Oe.useAvatarOrDefault(o.user_image)+'"]')]),e(".w-col.w-col-8.w-col-small-8",[e(".fontsize-large.lineheight-tight",o.user_name)])])]),e(".w-col.w-col-4.u-text-center.fontsize-base.u-margintop-20",[e("div","acabou de apoiar o")]),e(".w-col.w-col-4",[e(".w-row",[e(".w-col.w-col-4.w-col-small-4",[e('img.thumb-project.u-radius[src="'+o.project_image+'"][width="75"]')]),e(".w-col.w-col-8.w-col-small-8",[e(".fontsize-large.lineheight-tight",o.project_name)])])])])])])]),e(".u-text-center.fontsize-large.u-marginbottom-10.fontcolor-negative",[e('a.link-hidden.fontcolor-negative[href="https://github.com/catarse"][target="_blank"]',[e("span.fa.fa-github",".")," Open Source com orgulho! "])])]);
}},Yo={view:function(t,o){var r=o.filterBuilder,a=n.findWhere(r,{label:"payment_state"}),i=n.findWhere(r,{label:"reward_filter"}),s=n.findWhere(r,{component:Be}),l=o.filterVM.project_id();return i.data.options=o.mapRewardsToOptions(),e(".w-section.dashboard-header",[e(".w-container",[e(".w-row",[e(".w-col.w-col-3"),e(".w-col.w-col-6",[e(".fontsize-larger.u-text-center.fontweight-semibold.lineheight-looser.u-marginbottom-30","Relatório de apoios")]),e(".w-col.w-col-3")]),e(".w-form",[e("form",{onsubmit:o.submit},[e(".w-row",[e(".w-col.w-col-5",[e(".w-row",[e.component(a.component,a.data),e.component(i.component,i.data)])]),e(".w-col.w-col-7.u-margintop-20",[e(".w-row",[e(".w-col.w-col-8._w-sub-col",[e.component(s.component,s.data)]),e(".w-col.w-col-4.w-clearfix.w-hidden-small.w-hidden-tiny",[e('a.alt-link.u-right.fontsize-small.lineheight-looser[href="/projects/'+l+'/download_reports"]',[e("span.fa.fa-download",".")," Baixar relatórios"])])])])])])])])])}},Wo={controller:function(e){var t=e.project(),o=function(e){var o={online:{paid:"text-success.fa-circle",refunded:"text-error.fa-circle",pending_refund:"text-error.fa-circle",pending:"text-waiting.fa-circle",refused:"text-error.fa-circle"},failed:{paid:"text-error.fa-circle-o",refunded:"text-refunded.fa-circle",pending_refund:"text-refunded.fa-circle-o",pending:"text-refunded",refused:"text-refunded"},waiting_funds:{paid:"text-success.fa-circle",refunded:"text-error.fa-circle",pending_refund:"text-error.fa-circle",pending:"text-waiting.fa-circle",refused:"text-error.fa-circle"},successful:{paid:"text-success.fa-circle",refunded:"text-error.fa-circle",pending_refund:"text-error.fa-circle",pending:"text-waiting.fa-circle",refused:"text-error.fa-circle"}};return o[t.state][e]};return{stateClass:o}},view:function(t,o){var r=o.contribution(),a=n.isEmpty(r.profile_img_thumbnail)?"/assets/catarse_bootstrap/user.jpg":r.profile_img_thumbnail,i=r.reward||{minimum_value:0,description:"Nenhuma recompensa selecionada"};return e(".w-clearfix.card",[e(".w-row",[e(".w-col.w-col-1.w-col-tiny-1",[e("img.user-avatar.u-marginbottom-10[src='"+a+"']")]),e(".w-col.w-col-11.w-col-tiny-11",[e(".w-row",[e(".w-col.w-col-3",[e(".fontcolor-secondary.fontsize-mini.fontweight-semibold",Oe.momentify(r.created_at,"DD/MM/YYYY, HH:mm")),e(".fontweight-semibold.fontsize-smaller.lineheight-tighter",r.user_name),e(".fontsize-smallest.lineheight-looser",[r.has_another?[e("a.link-hidden-light.badge.badge-light","+1 apoio ")]:"",r.anonymous?e("span.fa.fa-eye-slash.fontcolor-secondary",e('span.fontcolor-secondary[style="font-size:11px;"]'," Apoio não-público")):""]),e(".fontsize-smallest.lineheight-looser",r.email)]),e(".w-col.w-col-3",[e(".lineheight-tighter",[e("span.fa.fontsize-smallest."+t.stateClass(r.state)),"   ",e("span.fontsize-large","R$ "+Oe.formatNumber(r.value,2,3))])]),e(".w-col.w-col-3.w-hidden-small.w-hidden-tiny",[e(".fontsize-smallest.fontweight-semibold","Recompensa: R$ "+Oe.formatNumber(i.minimum_value,2,3)),e(".fontsize-smallest",i.description.substring(0,80)+"...")])])])])])}},$o={view:function(t,o){var r=o.list;return e(".w-section.bg-gray.before-footer.section",[e(".w-container",[e(".w-row.u-marginbottom-20",[e(".w-col.w-col-9.w-col-small-6.w-col-tiny-6",[e(".fontsize-base",[e("span.fontweight-semibold",r.isLoading()?"":r.total())," apoios"])])]),n.map(r.collection(),function(t){var r=e.prop(t);return e.component(Wo,{project:o.project,contribution:r})})]),e(".w-section.section.bg-gray",[e(".w-container",[e(".w-row.u-marginbottom-60",[e(".w-col.w-col-2.w-col-push-5",[r.isLoading()?Oe.loader():r.isLastPage()?"":e("button#load-more.btn.btn-medium.btn-terciary",{onclick:r.nextPage},"Carregar mais")])])])])])}},Ho=postgrest.filtersVM({full_text_index:"@@",state:"in",reward_id:"eq",project_id:"eq"}),Ko=function(e){return(e||"").toString().trim()};Ho.state(""),Ho.order({id:"desc"}),Ho.full_text_index.toFilter=function(){var e=Ko(Ho.full_text_index());return e&&r(e)||void 0},Ho.withNullParameters=function(){var e=postgrest.filtersVM({full_text_index:"@@",state:"in",reward_id:"is",project_id:"eq"});return e.full_text_index(Ho.full_text_index()),e.order(Ho.order()),e.state(Ho.state()),e.reward_id(Ho.reward_id()),e.project_id(Ho.project_id()),e.parameters()};var Jo=n.partial(Oe.i18nScope,"projects.contributions_report.legend_labels"),Xo={controller:function(e){var o=function(e){return t.t(e,Jo())};return{stages:{online:[{label:o("online.paid.label"),text:o("online.paid.text"),i_class:".fa.fa-circle.text-success"},{label:o("online.pending.label"),text:o("online.pending.text"),i_class:".fa.fa-circle.text-waiting"},{label:o("online.refunded.label"),text:o("online.refunded.text"),i_class:".fa.fa-circle.text-error"}],failed:[{label:o("failed.pending_refund.label"),text:o("failed.pending_refund.text"),i_class:".fa.fa-circle-o.text-refunded"},{label:o("failed.refunded.label"),text:o("failed.refunded.text"),i_class:".fa.fa-circle.text-refunded"},{label:o("failed.paid.label"),text:o("failed.paid.text"),i_class:".fa.fa-circle-o.text-error"}],successful:[{label:o("successful.paid.label"),text:o("successful.paid.text"),i_class:".fa.fa-circle.text-success"},{label:o("successful.refunded.label"),text:o("successful.refunded.text"),i_class:".fa.fa-circle.text-error"}]}}},view:function(t,o){var r=n.first(o.project()),a="waiting_funds"==r.state?"online":r.state;return e("div",[e(".modal-dialog-header",[e(".fontsize-large.u-text-center","Status do apoio")]),e(".modal-dialog-content",n.map(t.stages[a],function(t,o){return e(".u-marginbottom-20",[e(".fontsize-small.fontweight-semibold",[e("span"+t.i_class),"  "+t.label]),e(".fontsize-smaller",e.trust(t.text))])}))])}},Qo={controller:function(e){return{modalToggle:Oe.toggleProp(!1,!0)}},view:function(t,o){return e("span",[o.text,e.trust("&nbsp;"),e('a.fa.fa-question-circle.fontcolor-secondary[href="#"]',{onclick:t.modalToggle.toggle},""),t.modalToggle()?e.component(lo,{displayModal:t.modalToggle,content:[Xo,{project:o.project}]}):""])}},Go={controller:function(t){var r=o.paginationVM(Ne.projectContribution,"id.desc",{Prefer:"count=exact"}),a=Ho,i=e.prop([{}]),s=e.prop([]),l=e.prop([]),c=function(e){var t=[{value:"",option:"Todos"}],o={online:[{value:"paid",option:"Confirmado"},{value:"pending",option:"Iniciado"},{value:"refunded,chargeback,deleted,pending_refund",option:"Contestado"}],waiting_funds:[{value:"paid",option:"Confirmado"},{value:"pending",option:"Iniciado"},{value:"refunded,chargeback,deleted,pending_refund",option:"Contestado"}],failed:[{value:"pending_refund",option:"Reembolso em andamento"},{value:"refunded",option:"Reembolsado"},{value:"paid",option:"Reembolso não iniciado"}],successful:[{value:"paid",option:"Confirmado"},{value:"refunded,chargeback,deleted,pending_refund",option:"Contestado"}]};t=t.concat(o[e]||[]),l(t)},d=[{component:Be,data:{inputWrapperClass:".w-input.text-field",btnClass:".btn.btn-medium",vm:a.full_text_index,placeholder:"Busque por nome ou email do apoiador"}},{label:"reward_filter",component:Ze,data:{label:"Recompensa",name:"reward_id",vm:a.reward_id,wrapper_class:".w-col.w-col-6.w-col-small-6.w-col-tiny-6.w-sub-col-middle",options:[]}},{label:"payment_state",component:Ze,data:{custom_label:[Qo,{text:"Status do apoio",project:i}],name:"state",vm:a.state,wrapper_class:".w-col.w-col-6.w-col-small-6.w-col-tiny-6.w-sub-col-middle",options:l}}],u=function(){return"null"===a.reward_id()?r.firstPage(a.withNullParameters()).then(null):r.firstPage(a.parameters()).then(null),!1};a.project_id(t.root.getAttribute("data-id"));var m=o.loaderWithToken(Ne.rewardDetail.getPageOptions({project_id:"eq."+a.project_id()})),p=o.loaderWithToken(Ne.projectDetail.getPageOptions({project_id:"eq."+a.project_id()}));m.load().then(s),p.load().then(function(e){i(e),c(n.first(e).state)});var f=function(){var e=[];return m()||(e=n.map(s(),function(e){return{value:e.id,option:"R$ "+Oe.formatNumber(e.minimum_value,2,3)+" - "+e.description.substring(0,20)}})),e.unshift({value:null,option:"Sem recompensa"}),e.unshift({value:"",option:"Todas"}),e};return r.collection().length||r.firstPage(a.parameters()),{listVM:r,filterVM:a,filterBuilder:d,submit:u,lReward:m,lProject:p,rewards:s,project:i,mapRewardsToOptions:f}},view:function(t,o){var r=t.listVM;return t.lProject()?Oe.loader():[e.component(so,{project:e.prop(n.first(t.project()))}),e.component(Yo,{submit:t.submit,filterBuilder:t.filterBuilder,form:t.filterVM.formDescriber,mapRewardsToOptions:t.mapRewardsToOptions,filterVM:t.filterVM}),e(".divider.u-margintop-30"),e.component($o,{list:r,project:e.prop(n.first(t.project()))})]}},Zo={controller:function(e){return Qt.init(e.project_id,e.project_user_id),Qt},view:function(t){var o=t.currentProject;return o().is_owner_or_admin?e.component(so,{project:o}):""}},er=function(){var e=o.filtersVM,t=e({state:"eq"}).state("online"),r=e({near_me:"eq",open_for_contributions:"eq"}).open_for_contributions("true").near_me(!0),n=e({expires_at:"lte",open_for_contributions:"eq"}).open_for_contributions("true").expires_at(a().add(14,"days").format("YYYY-MM-DD")),i=e({online_date:"gte",open_for_contributions:"eq"}).open_for_contributions("true").online_date(a().subtract(5,"days").format("YYYY-MM-DD")),s=e({score:"gte",open_for_contributions:"eq"}).score("1").open_for_contributions("true"),l=e({open_for_contributions:"eq"}).open_for_contributions("true"),c=e({open_for_contributions:"eq",contributed_by_friends:"eq"}).open_for_contributions("true").contributed_by_friends(!0),d=e({state:"eq"}).state("successful"),u=e({}),m={all:{title:"Todas as Categorias",filter:t,nicename:"No ar",isContextual:!1,keyName:"all"},score:{title:"Todas as Categorias",filter:s,nicename:"Populares",isContextual:!1,keyName:"score"},contributed_by_friends:{title:"Amigos",filter:c,nicename:"Amigos",isContextual:!1,keyName:"contributed_by_friends"},online:{title:"No ar",filter:l,isContextual:!1,keyName:"online"},expiring:{title:"Reta final",filter:n,isContextual:!1,keyName:"expiring"},successful:{title:"Todas as Categorias",filter:d,nicename:"Financiados",isContextual:!1,keyName:"successful"},finished:{title:"Todas as Categorias",filter:u,nicename:"Finalizados",isContextual:!1,keyName:"finished"},recent:{title:"Recentes",filter:i,isContextual:!1,keyName:"recent"},near_me:{title:"Próximos a mim",filter:r,isContextual:!1,keyName:"near_me"}},p=function(e){return _.map(e,function(e){return m[e].isContextual=!0}),m},f=function(){return _.filter(m,function(e){return e.isContextual})},w=function(e){return m[e.keyName].isContextual=!1,m};return{filters:m,setContextFilters:p,getContextFilters:f,removeContextFilter:w}},tr={view:function(t){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=o.action||"/pt/explore?ref=ctrse_explore_pgsearch",n=o.method||"GET";return e("#search.w-container.w-hidden-main.w-hidden-medium",[e(".w-row",[e(".w-col.w-col-10.u-marginbottom-20",[e(".w-form",[e("form#email-form",{action:r,method:n},[e(".w-row",[e(".w-col.w-col-10.w-col-small-10.w-col-tiny-10",[e('input[type="text"][name="pg_search"][placeholder="Busque projetos"]#pg_search_inside.w-input.text-field.negative.prefix')]),e(".w-col.w-col-2.w-col-small-2.w-col-tiny-2",[e("button.w-inline-block.btn.btn-dark.btn-attached.postfix",[e('img.header-lupa[src="https://daks2k3a4ib2z.cloudfront.net/54b440b85608e3f4389db387/54e44178b2135fce2b6cd235_lupa.png"]')])])])])])])])])}},or={view:function(t,o){var r=o.category;return e(".w-col.w-col-2.w-col-small-6.w-col-tiny-6",[e("a.w-inline-block.btn-category[href='#by_category_id/"+r.id+"']",[e("div",[r.name,e("span.badge.explore",r.online_projects)])])])}},rr={controller:function(e){return{largeBg:function(){return n.isUndefined(e)?!1:n.isUndefined(e.largeBg)?!1:e.largeBg}()}},view:function(t,o){return e(".w-section.section"+(t.largeBg?".bg-backs-carrosel.section-large":""),[e(".w-container",[e(".card.card-big",[e(".w-row",[e(".w-col.w-col-8",[e(".fontsize-largest.u-marginbottom-20","Encontre projetos incríveis junto com seus amigos"),e(".fontsize-small","O universo do Catarse junto com a sua rede do Facebook te farão descobrir projetos incríveis!")]),e(".w-col.w-col-4",[e('a.w-button.btn.btn-fb.btn-large.u-margintop-30.u-marginbottom-10[href="/connect-facebook"]',"Conecte seu facebook"),e(".fontsize-smallest.fontcolor-secondary.u-text-center","Nós nunca postaremos nada no facebook sem sua permissão")])])])])])}},nr=n.partial(Oe.i18nScope,"pages.explore"),ar={controller:function(t){var r=o.filtersVM,a=er(),i=a.filters,s=Oe.paramByName("filter")||"all",l="all",c=e.prop(i[s]),d=function(e){c(i[e]),k()},u=function(){c(i[s]),a.setContextFilters(["finished","all","contributed_by_friends"])},m=Oe.getUser(),p=(m.id,m.has_fb_auth),f=function(t){return e.component(no,{el:".tooltip-wrapper.fa.fa-question-circle.fontcolor-secondary",text:t,width:380})},w=function(){var t="",o="",r=!1;return"all"===c().keyName?(r=!0,t="Ordenados por popularidade ",o="O nosso fator popularidade é uma mistura da seleção do time do Catarse com um valor que é calculado pela velocidade de arrecadação do projeto"):"finished"===c().keyName?(r=!0,t="Ordenados por R$ alcançado ",o="Os projetos com maior meta de arrecadação alcançada ficam no topo"):"contributed_by_friends"===c().keyName&&(r=!0,t="Projetos apoiados por amigos ",o="Projetos apoiados por amigos"),r?e(".fontsize-smaller.fontcolor-secondary",[t,f(o)]):""},g=e.prop(!1),b=e.prop([]),h=e.prop(),v=function(e){return n.find(b(),function(t){return t.id===parseInt(e)})},_=n.compose(v,h),y=function(){return Ne.category.getPageWithToken(r({}).order({name:"asc"}).parameters()).then(b)},j=function(e){return n.size(n.filter(e,function(e){return e.score>=1}))>=3},x=e.prop({collection:e.prop([]),isLoading:function(){return!0},isLastPage:function(){return!0}}),k=function(){var t=window.location.hash.match(/\#([^\/]*)\/?(\d+)?/),a=t&&t[2]&&v(t[2]),s=function(){var e=r({category_id:"eq"});return t&&t[1]&&i[t[1]]||a&&{title:a.name,filter:e.category_id(a.id)}},l=s()||c(),d=Oe.paramByName("pg_search"),u=function(){var t=o.loaderWithToken(Ne.projectSearch.postOptions({query:d})),r={collection:e.prop([]),isLoading:t,isLastPage:function(){return!0},nextPage:function(){return!1}};return t.load().then(r.collection),r},m=function(){var e=o.paginationVM(Ne.project),t=n.extend({},c().filter.parameters(),l.filter.order({open_for_contributions:"desc",state_order:"asc",state:"desc",score:"desc",pledged:"desc"}).parameters());return e.firstPage(t),e},p=function(){var e=o.paginationVM(Ne.finishedProject),t=n.extend({},c().filter.parameters(),l.filter.order({state_order:"asc",state:"desc",pledged:"desc"}).parameters());return e.firstPage(t),e};n.isString(d)&&d.length>0&&null===t?(g(!0),z("Busca "+d),x(u())):"finished"===c().keyName?(g(!1),x(p())):(g(!1),z(l.title),x(n.isNull(t)||"finished"!=t[1]?m():p())),h(a&&a.id),C(t||n.isString(d)&&d.length>0?!1:!0)},z=e.prop(),C=Oe.toggleProp(!1,!0);return window.addEventListener("hashchange",function(){u(),k(),e.redraw()},!1),u(),Ne.project.pageSize(9),y().then(k),t.filter&&c(i[t.filter]),c()||c(i[s]),{categories:b,changeFilter:d,fallbackFilter:l,projects:x,category:_,title:z,hint:w,filtersMap:i,currentFilter:c,projectFiltersVM:a,toggleCategories:C,isSearch:g,hasFBAuth:p,checkForMinScoredProjects:j}},view:function(o,r){var a=o.projects().collection(),i=a.length,s=[],l=o.currentFilter().keyName,c="contributed_by_friends"===l;return o.projects().isLoading()||!n.isEmpty(a)||o.isSearch()||c&&!o.hasFBAuth||(o.projectFiltersVM.removeContextFilter(o.currentFilter()),o.changeFilter(o.fallbackFilter)),e("#explore",{config:Oe.setPageTitle(t.t("header_html",nr()))},[e(".w-section.hero-search",[e.component(tr),e(".w-container.u-marginbottom-10",[e(".u-text-center.u-marginbottom-40",[e('a#explore-open.link-hidden-white.fontweight-light.fontsize-larger[href="javascript:void(0);"]',{onclick:function(){return o.toggleCategories.toggle()}},["Explore projetos incríveis ",e("span#explore-btn.fa.fa-angle-down"+(o.toggleCategories()?".opened":""),"")])]),e("#categories.category-slider"+(o.toggleCategories()?".opened":""),[e(".w-row.u-marginbottom-30",[n.map(o.categories(),function(t){return e.component(or,{category:t})})])])])]),e(".w-section",[e(".w-container",[e(".w-row",[e(".w-col.w-col-9.w-col-small-8.w-col-tiny-8",[e(".fontsize-larger",o.title()),o.hint()]),e(".w-col.w-col-3.w-col-small-4.w-col-tiny-4",o.isSearch()?"":e("select.w-select.text-field.positive",{onchange:e.withAttr("value",o.changeFilter)},n.map(o.projectFiltersVM.getContextFilters(),function(t,r){var n=(o.projects(),o.currentFilter()==t);return e('option[value="'+t.keyName+'"]',{selected:n},t.nicename)})))])])]),c&&n.isEmpty(a)?o.hasFBAuth?"":e.component(rr):"",e(".w-section.section",[e(".w-container",[e(".w-row",[e(".w-row",n.map(a,function(t,r){var d="small",u="ctrse_explore";return o.isSearch()?u="ctrse_explore_pgsearch":c?u="ctrse_explore_friends":"all"===l&&t.score>=1&&(0===r?(d="big",u="ctrse_explore_featured_big",s=[i-1,i-2]):1===r||2===r?o.checkForMinScoredProjects(a)?(d="medium",u="ctrse_explore_featured_medium",s=[]):(d="big",u="ctrse_explore_featured_big",s=[i-1]):u="ctrse_explore_featured"),n.indexOf(s,r)>-1&&!o.projects().isLastPage()?"":e.component(eo,{project:t,ref:u,type:d,showFriends:c})})),o.projects().isLoading()?Oe.loader():n.isEmpty(a)&&o.hasFBAuth?e(".fontsize-base.w-col.w-col-12","Nenhum projeto para mostrar."):""])])]),e(".w-section.u-marginbottom-80",[e(".w-container",[e(".w-row",[e(".w-col.w-col-2.w-col-push-5",[o.projects().isLastPage()||o.projects().isLoading()||n.isEmpty(a)?"":e("a.btn.btn-medium.btn-terciary[href='#loadMore']",{onclick:function(){return o.projects().nextPage(),!1}},"Carregar mais")])])])]),e(".w-section.section-large.before-footer.u-margintop-80.bg-gray.divider",[e(".w-container.u-text-center",[e("img.u-marginbottom-20.icon-hero",{src:"https://daks2k3a4ib2z.cloudfront.net/54b440b85608e3f4389db387/56f4414d3a0fcc0124ec9a24_icon-launch-explore.png"}),e("h2.fontsize-larger.u-marginbottom-60","Lance sua campanha no Catarse!"),e(".w-row",[e(".w-col.w-col-4.w-col-push-4",[e("a.w-button.btn.btn-large",{href:"/start?ref=ctrse_explore"},"Aprenda como")])])])])])}},ir={view:function(t,o){return e("span#menu-search",[e(".w-form.w-hidden-small.w-hidden-tiny.header-search[id='discover-form-wrapper']",[e("form.discover-form[accept-charset='UTF-8'][action='/pt/explore?ref=ctrse_header'][id='search-form'][method='get']",[e("div",{style:{display:"none"}},e("input[name='utf8'][type='hidden'][value='✓']")),e("input.w-input.text-field.negative.prefix.search-input[autocomplete='off'][id='pg_search'][name='pg_search'][placeholder='Busque projetos'][type='text']")]),e(".search-pre-result.w-hidden[data-searchpath='/pt/auto_complete_projects']",[e(".result",e(".u-text-center",e("img[alt='Loader'][src='/assets/catarse_bootstrap/loader.gif']"))),e("a.btn.btn-small.btn-terciary.see-more-projects[href='javascript:void(0);']"," ver todos")])]),e("a.w-inline-block.w-hidden-small.w-hidden-tiny.btn.btn-dark.btn-attached.postfix[href='#'][id='pg_search_submit']",e("img.header-lupa[alt='Lupa'][data-pin-nopin='true'][src='/assets/catarse_bootstrap/lupa.png']"))])}},sr={controller:function(t){var o=e.prop(),r=e.prop([]),n=e.prop({}),a=t.user.user_id;return Vt.fetchUser(a,!0,n),{contributedProjects:o,latestProjects:r,userDetails:n,toggleMenu:Oe.toggleProp(!1,!0)}},view:function(t,o){var r=t.userDetails();return e(".w-dropdown.user-profile",[e("a.w-dropdown-toggle.dropdown-toggle[href='javascript:void()'][id='user-menu']",{onclick:t.toggleMenu.toggle},e("img.user-avatar[alt='Thumbnail - "+r.name+"'][height='40'][src='"+Oe.useAvatarOrDefault(r.profile_img_thumbnail)+"'][width='40']")),t.toggleMenu()?e("nav.w-dropdown-list.dropdown-list.user-menu.w--open[id='user-menu-dropdown']",{style:"display:block;"},[e(".w-row",[e(".w-col.w-col-12",[e(".fontweight-semibold.fontsize-smaller.u-marginbottom-10","Meu histórico"),e("ul.w-list-unstyled.u-marginbottom-20",[e("li.lineheight-looser",e("a.alt-link.fontsize-smaller[href='/pt/users/"+r.id+"/edit#contributions']","Histórico de apoio")),e("li.lineheight-looser",e("a.alt-link.fontsize-smaller[href='/pt/users/"+r.id+"/edit#projects']","Projetos criados")),e("li.w-hidden-main.w-hidden-medium.lineheight-looser",e("a.alt-link.fontsize-smaller[href='/pt/users/"+r.id+"/edit#projects']","Projetos criados"))]),e(".fontweight-semibold.fontsize-smaller.u-marginbottom-10","Configurações"),e("ul.w-list-unstyled.u-marginbottom-20",[e("li.lineheight-looser",e("a.alt-link.fontsize-smaller[href='/pt/users/"+r.id+"/edit#about_me']","Sobre você")),e("li.lineheight-looser",e("a.alt-link.fontsize-smaller[href='/pt/users/"+r.id+"/edit#notifications']","Notificações")),e("li.lineheight-looser",e("a.alt-link.fontsize-smaller[href='/pt/users/"+r.id+"/edit#settings']","Dados e endereço")),e("li.lineheight-looser",e("a.alt-link.fontsize-smaller[href='/pt/users/"+r.id+"/edit#billing']","Banco e cartões"))])])]),e(".divider.u-marginbottom-20"),o.user.is_admin_role?e(".fontweight-semibold.fontsize-smaller.u-marginbottom-10","Admin"):"",o.user.is_admin_role?e("ul.w-list-unstyled.u-marginbottom-20",[e("li.lineheight-looser",e("a.alt-link.fontsize-smaller[href='/pt/new-admin#/users']","Usuários")),e("li.lineheight-looser",e("a.alt-link.fontsize-smaller[href='/pt/new-admin']","Apoios")),e("li.lineheight-looser",e("a.alt-link.fontsize-smaller[href='/pt/admin/financials']","Rel. Financeiros")),e("li.lineheight-looser",e("a.alt-link.fontsize-smaller[href='/pt/admin/projects']","Admin projetos")),e("li.lineheight-looser",e("a.alt-link.fontsize-smaller[href='/pt/dbhero']","Dataclips"))]):"",e(".divider.u-marginbottom-20"),e(".fontsize-smallest",["Você está logado como ",e("span",[e("span.fontweight-semibold",r.name),e.trust("&nbsp;"),e("a.alt-link[href='/pt/logout']","Sair")])])]):""])}},lr={controller:function(e){var t=Oe.getUser(),o=function(){return(e.menuTransparency?"overlayer":"")+" "+(e.withAlert?"with-global-alert":"")};return{user:t,menuCss:o}},view:function(t,o){return e("header.main-header.w-section",{"class":t.menuCss()},[e(".w-clearfix",[e("a.header-logo.w-nav-brand[href='/?ref=ctrse_header'][title='Catarse']",{config:e.route},e("img[alt='Logo big'][src='/assets/catarse_bootstrap/logo_big.png']")),e("a.w-hidden-small.w-hidden-tiny.header-link.w-nav-link[href='/start?ref=ctrse_header']",{config:e.route},"Comece seu projeto"),e("a.w-hidden-small.w-hidden-tiny.header-link.w-nav-link[href='/explore?ref=ctrse_header']",{config:e.route},"Explore"),e.component(ir),t.user?e.component(sr,{user:t.user}):e("a.w-nav-link.header-link.w-nav-link.btn-edit.u-right[href='/pt/login?ref=ctrse_header']","Login"),e("a.w-nav-link.w-hidden-small.w-hidden-tiny.header-link.w-nav-link.u-right[href='http://blog.catarse.me?ref=ctrse_header'][target='_blank']",{style:"float: right;"},"Blog")]),e(".w-hidden-main.w-hidden-medium.header-controls-mobile",[e("a.header-link.w-nav-link[href='/pt/start?ref=ctrse_header']",{onclick:function(){return e.route("/start")}},"Comece seu projeto"),e("a.header-link.w-nav-link[href='/pt/explore?ref=ctrse_header']",{onclick:function(){return e.route("/explore")}},"Explore")])])}},cr=function(){var e=t.translations[t.currentLocale()].projects.home,o=e.banners;return{banners:o}},dr={controller:function(t){var o=void 0,r=e.prop(0),n=e.prop(1600),a=t.sliderTime||6500,i=function(){r(r()>0?r()-1:t.slides.length-1)},s=function(){r(r()<t.slides.length-1?r()+1:0)},l=function(){o=setInterval(function(){s(),e.redraw()},a)},c=function(){clearInterval(o),l()},d=function(t,r,a){r||(n(Math.max(document.documentElement.clientWidth,window.innerWidth||0)),e.redraw()),a.onunload=function(){return clearInterval(o)}};return l(),{config:d,selectedSlideIdx:r,translationSize:n,decrementSlide:i,incrementSlide:s,resetSliderTimer:c}},view:function(t,o){var r=o.slideClass||"",a=o.wrapperClass||"",i=o.effect||"slide",s=function(e,r){e(r),t.resetSliderTimer(),o.onchange&&o.onchange()},l=function(e,o){var r="transform: "+o+"; -webkit-transform: "+o+"; -ms-transform:"+o,n=e===t.selectedSlideIdx()?"opacity: 1; visibility: visible;":"opacity: 0; visibility: hidden;";return"fade"===i?n:r};return e(".w-slider."+a,{config:t.config},[e(".fontsize-larger",o.title),e(".w-slider-mask",[n.map(o.slides,function(o,n){var a=(n-t.selectedSlideIdx())*t.translationSize(),i="translate3d("+a+"px, 0, 0)";return e(".slide.w-slide."+r,{style:l(n,i)+" "+o.customStyle},[e(".w-container",[e(".w-row",[e(".w-col.w-col-8.w-col-push-2",o.content)])])])}),e("#slide-prev.w-slider-arrow-left.w-hidden-small.w-hidden-tiny",{onclick:function(){return s(t.decrementSlide)}},[e(".w-icon-slider-left.fa.fa-lg.fa-angle-left.fontcolor-terciary")]),e("#slide-next.w-slider-arrow-right.w-hidden-small.w-hidden-tiny",{onclick:function(){return s(t.incrementSlide)}},[e(".w-icon-slider-right.fa.fa-lg.fa-angle-right.fontcolor-terciary")]),e(".w-slider-nav.w-slider-nav-invert.w-round.slide-nav",n(o.slides.length).times(function(o){return e(".slide-bullet.w-slider-dot"+(t.selectedSlideIdx()===o?".w-active":""),{onclick:function(){return s(t.selectedSlideIdx,o)}})}))])])}},ur={controller:function(e){var t=Oe.getBlogPosts();return{posts:t}},view:function(t,o){return e("section.section-large.bg-gray.before-footer[id='blog']",e(".w-container",[e(".u-text-center",[e("a[href='http://blog.catarse.me'][target='blank']",e("img.u-marginbottom-10[alt='Icon blog'][src='/assets/icon-blog.png']")),e(".fontsize-large.u-marginbottom-60.text-success",e("a.link-hidden-success[href='http://blog.catarse.me'][target='__blank']","Blog do Catarse"))]),e(".w-row",n.map(t.posts,function(t){return e(".w-col.w-col-4.col-blog-post",[e('a.link-hidden.fontweight-semibold.fontsize-base.u-marginbottom-10[href="'+t[1][1]+"\"][target='__blank']",t[0][1]),e(".fontsize-smaller.fontcolor-secondary.u-margintop-10",e.trust(Oe.strip(t[6][1].substr(0,130))+"..."))])}))]))}},mr={view:function(){return e("footer.main-footer.main-footer-neg",[e("section.w-container",e(".w-row",[e(".w-col.w-col-9",e(".w-row",[e(".w-col.w-col-4.w-col-small-4.w-col-tiny-4.w-hidden-tiny",[e(".footer-full-signature-text.fontsize-small","Bem-vindo"),e("a.link-footer[href='http://crowdfunding.catarse.me/paratodos?ref=ctrse_footer']",["Como funciona",e.trust("&nbsp;"),e("span.badge.badge-success","Novidade‍")]),e("a.link-footer[href='https://www.catarse.me/pt/flex?ref=ctrse_footer']"," Catarse flex"),e("a.link-footer[href='https://www.catarse.me/pt/team?ref=ctrse_footer']",[" Nosso time ",e.trust("&lt;"),"3"]),e("a.link-footer[href='http://facebook.com/catarse.me']"," Facebook"),e("a.link-footer[href='http://twitter.com/catarse']"," Twitter"),e("a.link-footer[href='http://instagram.com/catarse']"," Instagram"),e("a.link-footer[href='http://github.com/catarse/catarse']"," Github"),e("a.link-footer[href='http://blog.catarse.me']"," Blog"),e("a.link-footer[href='https://www.catarse.me/pt/jobs']"," Trabalhe conosco")]),e(".w-col.w-col-4.w-col-small-4.w-col-tiny-4.footer-full-firstcolumn",[e(".footer-full-signature-text.fontsize-small","Ajuda"),e("a.zendesk_widget.link-footer[href='https://equipecatarse.zendesk.com/account/dropboxes/20298537']"," Contato"),e("a.link-footer[href='http://crowdfunding.catarse.me/nossa-taxa?ref=ctrse_footer']",["Nossa Taxa",e.trust("&nbsp;"),e("span.badge.badge-success","Novidade‍")]),e("a.link-footer[href='https://www.catarse.me/pt/press?ref=ctrse_footer']"," Imprensa"),e("a.link-footer[href='http://suporte.catarse.me?ref=ctrse_footer/']"," Central de Suporte"),e("a.link-footer[href='https://www.catarse.me/pt/guides?ref=ctrse_footer']"," Guia dos Realizadores"),e("a.link-footer[href='http://pesquisa.catarse.me/']"," Retrato FC Brasil 2013/2014"),e("a.link-footer[href='/pt/terms-of-use']"," Termos de uso"),e("a.link-footer[href='/pt/privacy-policy']"," Política de privacidade")]),e(".w-col.w-col-4.w-col-small-4.w-col-tiny-4.footer-full-lastcolumn",[e(".footer-full-signature-text.fontsize-small","Navegue"),e("a.w-hidden-small.w-hidden-tiny.link-footer[href='/pt/start?ref=ctrse_footer']"," Comece seu projeto"),e("a.link-footer[href='/pt/explore?ref=ctrse_footer']"," Explore projetos"),e("a.w-hidden-main.w-hidden-medium.w-hidden-small.link-footer[href='http://blog.catarse.me?ref=ctrse_footer']"," Blog"),e("a.w-hidden-main.w-hidden-medium.w-hidden-small.link-footer[href='https://equipecatarse.zendesk.com/account/dropboxes/20298537']"," Contato"),e("a.w-hidden-tiny.link-footer[href='/pt/explore?filter=score&ref=ctrse_footer']"," Populares"),e("a.w-hidden-tiny.link-footer[href='/pt/explore?filter=online&ref=ctrse_footer']"," No ar"),e("a.w-hidden-tiny.link-footer[href='/pt/explore?filter=finished&ref=ctrse_footer']"," Finalizados")])])),e(".w-col.w-col-3.column-social-media-footer",[e(".footer-full-signature-text.fontsize-small","Assine nossa news"),e(".w-form",e("form[accept-charset='UTF-8'][action='"+Oe.getMailchimpUrl()+"'][id='mailee-form'][method='post']",[e(".w-form.footer-newsletter",e("input.w-input.text-field.prefix[id='EMAIL'][label='email'][name='EMAIL'][placeholder='Digite seu email'][type='email']")),e('button.w-inline-block.btn.btn-edit.postfix.btn-attached[style="padding:0;"]',e("img.footer-news-icon[alt='Icon newsletter'][src='/assets/catarse_bootstrap/icon-newsletter.png']"))])),e(".footer-full-signature-text.fontsize-small","Redes sociais"),e(".w-widget.w-widget-facebook.u-marginbottom-20",e(".facebook",e(".fb-like[data-colorscheme='dark'][data-href='http://facebook.com/catarse.me'][data-layout='button_count'][data-send='false'][data-show-faces='false'][data-title=''][data-width='260']"))),e(".w-widget.w-widget-twitter",[e('a.twitter-follow-button[href="httṕ://twitter.com/catarse"][data-button="blue"][data-text-color="#FFFFFF][data-link-color="#FFFFFF"][data-width="224px"]')]),e(".u-margintop-30",[e(".footer-full-signature-text.fontsize-small","Change language"),e("[id='google_translate_element']")])])])),e(".w-container",e(".footer-full-copyleft",[e("img.u-marginbottom-20[alt='Logo footer'][src='/assets/logo-footer.png']"),e(".lineheight-loose",e("a.link-footer-inline[href='http://github.com/catarse/catarse']","Feito com amor | 2016 | Open source"))]))])}},pr=n.partial(Oe.i18nScope,"projects.home"),fr={controller:function(t){var r=n.partial(n.sample,n,6),a=o.loaderWithToken,i=Ne.project,s=er().filters,l=o.filtersVM({user_id:"eq"}),c=o.paginationVM(Ne.userFriend,"user_id.desc",{Prefer:"count=exact"}),d=Oe.getUser(),u=d.has_fb_auth,m=cr();i.pageSize(20),l.user_id(d.user_id),u&&!c.collection().length&&c.firstPage(l.parameters());var p=n.map(["score","contributed_by_friends"],function(t){var o=s[t],l=a(i.getPageOptions(n.extend({},{order:"score.desc"},o.filter.parameters()))),c=e.prop([]);return l.load().then(n.compose(c,r)),{title:o.nicename,hash:"score"===t?"all":t,collection:c,loader:l,showFriends:"contributed_by_friends"===t}});return{collections:p,slidesContent:m.banners,hasFBAuth:u}},view:function(o){var r=function(){return n.map(o.slidesContent,function(t){var o="background-image: url("+t.image+");",r=e(".w-container.u-text-center",[e(".w-row.u-marginbottom-40",[e("h1.fontcolor-negative.fontsize-megajumbo.u-marginbottom-20",t.title),e("h2.fontcolor-negative.fontsize-large",e.trust(t.subtitle))]),e("a.btn.btn-large.u-marginbottom-10.btn-inline",{href:t.link},t.cta)]);return{content:r,customStyle:o}})};return e("#projects-home-component",{config:Oe.setPageTitle(t.t("header_html",pr()))},[e.component(dr,{slides:r(),effect:"fade",slideClass:"hero-slide start",wrapperClass:"hero-full hero-full-slide",sliderTime:1e4}),n.map(o.collections,function(t){return e.component(to,{collection:t,title:t.title,ref:"home_"+("all"===t.hash?"score":t.hash),showFriends:t.showFriends})}),o.hasFBAuth?"":e.component(rr,{largeBg:!0}),e.component(ur)])}},wr={controller:function(){return{displayEmbed:Oe.toggleProp(!1,!0)}},view:function(t,o){return e(".pop-share",{style:"display: block;"},[e(".w-hidden-main.w-hidden-medium.w-clearfix",[e("a.btn.btn-small.btn-terciary.btn-inline.u-right",{
onclick:o.displayShareBox.toggle},"Fechar"),e(".fontsize-small.fontweight-semibold.u-marginbottom-30","Compartilhe este projeto")]),e(".w-widget.w-widget-twitter.w-hidden-small.w-hidden-tiny.share-block",[e('iframe[allowtransparency="true"][width="120px"][height="22px"][frameborder="0"][scrolling="no"][src="//platform.twitter.com/widgets/tweet_button.8d007ddfc184e6776be76fe9e5e52d69.en.html#_=1442425984936&count=horizontal&dnt=false&id=twitter-widget-1&lang=en&original_referer=https%3A%2F%2Fwww.catarse.me%2Fpt%2F'+o.project().permalink+"&size=m&text=Confira%20o%20projeto%20"+o.project().name+"%20no%20%40catarse&type=share&url=https%3A%2F%2Fwww.catarse.me%2Fpt%2F"+o.project().permalink+'%3Fref%3Dtwitter%26utm_source%3Dtwitter.com%26utm_medium%3Dsocial%26utm_campaign%3Dproject_share&via=catarse"]')]),e('a.w-hidden-small.widget-embed.w-hidden-tiny.fontsize-small.link-hidden.fontcolor-secondary[href="js:void(0);"]',{onclick:t.displayEmbed.toggle},"< embed >"),t.displayEmbed()?e(".embed-expanded.u-margintop-30",[e(".fontsize-small.fontweight-semibold.u-marginbottom-20","Insira um widget em seu site"),e(".w-form",[e('input.w-input[type="text"][value="<iframe frameborder="0" height="314px" src="https://www.catarse.me/pt/projects/'+o.project().project_id+'/embed" width="300px" scrolling="no"></iframe>"]')]),e(".card-embed",[e('iframe[frameborder="0"][height="350px"][src="/projects/'+o.project().project_id+'/embed"][width="300px"][scrolling="no"]')])]):"",o.project().permalink?e.component(Ao,{mobile:!0,url:"https://www.catarse.me/"+o.project().permalink+"?ref=facebook&utm_source=facebook.com&utm_medium=social&utm_campaign=project_share"}):"",e('a.w-hidden-main.w-hidden-medium.btn.btn-medium.btn-tweet.u-marginbottom-20[href="http://twitter.com/?status=Acabei%20de%20apoiar%20o%20projeto%20'+o.project().name+"%20https://www.catarse.me/"+o.project().permalink+'%3Fref%3Dtwitter%26utm_source%3Dtwitter.com%26utm_medium%3Dsocial%26utm_campaign%3Dproject_share"][target="_blank"]',[e("span.fa.fa-twitter")," Tweet"]),e('a.w-hidden-main.w-hidden-medium.btn.btn-medium[data-action="share/whatsapp/share"]',{href:"whatsapp://send?text="+encodeURIComponent("https://www.catarse.me/"+o.project().permalink+"/?ref=whatsapp&utm_source=whatsapp&utm_medium=social&utm_campaign=project_share")},[e("span.fa.fa-whatsapp")," Whatsapp"])])}},gr={view:function(t,o){var r=o.project,n=r().address||{state_acronym:"",city:""};return _.isNull(n)?"":e('a.btn.btn-inline.btn-small.btn-transparent.link-hidden-light.u-marginbottom-10[href="/pt/explore?pg_search='+n.state_acronym+'"]',{onclick:Oe.analytics.event({cat:"project_view",act:"project_location_link",lbl:n.city+" "+n.state_acronym,project:r()})},[e("span.fa.fa-map-marker")," "+n.city+", "+n.state_acronym])}},br={view:function(t,o){var r=o.project;return r?e('a.btn.btn-inline.btn-small.btn-transparent.link-hidden-light[href="/pt/explore#by_category_id/'+r().category_id+'"]',{onclick:Oe.analytics.event({cat:"project_view",act:"project_category_link",lbl:r().category_name,project:r()})},[e("span.fa.fa-tag")," ",r().category_name]):""}},hr={controller:function(){return{displayShareBox:Oe.toggleProp(!1,!0)}},view:function(t,o){var r=o.project;return e("#project-highlight",[r().video_embed_url?e(".w-embed.w-video.project-video",{style:"min-height: 240px;"},[e('iframe.embedly-embed[itemprop="video"][src="'+r().video_embed_url+'"][frameborder="0"][allowFullScreen]')]):e(".project-image",{style:"background-image:url('"+(r().original_image||r().project_img)+"');"}),e(".w-hidden-small.w-hidden-tiny",[e.component(gr,{project:r}),e.component(br,{project:r})]),e(".project-blurb",r().headline),e(".project-share.w-hidden-small.w-hidden-tiny",e(".u-marginbottom-30.u-text-center-small-only",[e(".w-inline-block.fontcolor-secondary.fontsize-smaller.u-marginright-20","Compartilhar:"),r().permalink?e.component(Ao,{url:"https://www.catarse.me/"+r().permalink+"?ref=facebook&utm_source=facebook.com&utm_medium=social&utm_campaign=project_share"}):"",r().permalink?e.component(Ao,{messenger:!0,url:"https://www.catarse.me/"+r().permalink+"?ref=facebook&utm_source=facebook.com&utm_medium=messenger&utm_campaign=project_share"}):"",e("button#more-share.btn.btn-inline.btn-medium.btn-terciary",{style:{transition:"all 0.5s ease 0s"},onclick:t.displayShareBox.toggle},["···"," Mais"]),t.displayShareBox()?e(wr,{project:r,displayShareBox:t.displayShareBox}):""]))])}},vr={view:function(t,o){var r=o.project(),a=r.mode,i="aon"===a?"/assets/aon-badge.png":"/assets/flex-badge.png",s="aon"===a?"Campanha Tudo-ou-nada ":"Campanha Flexível ",l=n.isNull(r.goal)?"não definida":Oe.formatNumber(r.goal),c=function(t){return e.component(no,{el:t,text:"aon"===a?"Somente receberá os recursos se atingir ou ultrapassar a meta até o dia "+Oe.momentify(r.zone_expires_at,"DD/MM/YYYY")+".":"O realizador receberá todos os recursos quando encerrar a campanha, mesmo que não tenha atingido esta meta.",width:280})};return e("#"+a+".w-row",[e(".w-col.w-col-2.w-col-small-2.w-col-tiny-2",[n.isEmpty(r)?"":e('img[src="'+i+"\"][width='30']")]),e(".w-col.w-col-10.w-col-small-10.w-col-tiny-10",[e(".fontsize-base.fontweight-semibold","Meta R$ "+Oe.selfOrEmpty(l,"--")),e(".w-inline-block.fontsize-smallest._w-inline-block",[n.isEmpty(r)?"":s,c("span.w-inline-block.tooltip-wrapper.fa.fa-question-circle.fontcolor-secondary")])])])}},_r={controller:function(t){var r=e.prop(!1),n=t.project,a=o.filtersVM({project_id:"eq"}),i="remind_"+n().project_id,s=e.prop(!1),l=function c(){if(!Oe.getUser())return Oe.storeAction(i,c),Oe.navigateToDevise();var t=n().in_reminder?Ne.projectReminder.deleteOptions(a.parameters()):Ne.projectReminder.postOptions({project_id:n().project_id});r=o.loaderWithToken(t),r.load().then(function(){n().in_reminder=!n().in_reminder,n().in_reminder?(s(!0),setTimeout(function(){s(!1),e.redraw()},5e3)):s(!1)})};return Oe.callStoredAction(i,l),a.project_id(n().project_id),{l:r,submitReminder:l,popNotification:s}},view:function(t,o){var r="button"===o.type?"":".u-text-center.u-marginbottom-30",n="button"===o.type?"w-button btn btn-terciary btn-no-border":"btn-link link-hidden fontsize-small",a=(o.hideTextOnMobile||!1,o.project),i=Oe.analytics.event({cat:"project_view",act:"project_floatingreminder_click",project:a()},t.submitReminder);return e("#project-reminder"+r,[e("a.btn.btn-small.btn-terciary.w-hidden-main.w-hidden-medium[data-ix='popshare'][href='#']",{onclick:i},a().in_reminder?[e("span.fa.fa-heart")," Lembrete ativo"]:[e("span.fa.fa-heart-o")," Lembrar-me"]),e('button[class="w-hidden-small w-hidden-tiny '+n+" "+(a().in_reminder?"link-hidden-success":"fontcolor-secondary")+' fontweight-semibold"]',{onclick:i},[t.l()?Oe.loader():e(a().in_reminder?"span.fa.fa-heart":"span.fa.fa-heart-o")]),t.popNotification()?e.component(qo,{message:"Ok! Vamos te mandar um lembrete por e-mail 48 horas antes do fim da campanha"}):""])}},yr={controller:function(t){var o=e.prop(!1),r=e.prop(!1),n=e.prop(!1),a=Oe.getUser()||{name:"",email:""},i=e.prop(a.name),s=e.prop(a.email),l=e.prop(""),c=function(){if(o())return!1;n(!0),l(l().split("\n").join("<br />"));var e=Ne.directMessage.postOptions({from_name:i(),from_email:s(),user_id:Oe.getUser().user_id,content:l(),project_id:Oe.getCurrentProject().project_id,to_user_id:Oe.getCurrentProject().project_user_id});return o=postgrest.loaderWithToken(e),o.load().then(r(!0)),n(!1),!1};return{sendMessage:c,submitDisabled:n,sendSuccess:r,userDetails:t,from_name:i,from_email:s,content:l,l:o}},view:function(t,o){var r=e(".modal-dialog-content.u-text-center",[e(".fa.fa-check-circle.fa-5x.text-success.u-marginbottom-40"),e("p.fontsize-large","Sua mensagem foi enviada com sucesso para "+t.userDetails().name+". Você vai receber uma cópia no seu email e pode seguir a conversa por lá!")]),a=[e(".modal-dialog-content",[e(".w-form",[e("form",{onsubmit:Oe.validate().submit([{prop:t.from_name,rule:"text"},{prop:t.from_email,rule:"email"},{prop:t.content,rule:"text"}],t.sendMessage)},[e(".w-row",[e(".w-col.w-col-6.w-sub-col",[e("label.fontsize-smaller","Seu nome"),e("input.w-input.text-field[value='"+t.from_name()+"'][type='text'][required='required']",{onchange:e.withAttr("value",t.from_name),"class":Oe.validate().hasError(t.from_name)?"error":""})]),e(".w-col.w-col-6",[e("label.fontsize-smaller","Seu email"),e("input.w-input.text-field[value='"+t.from_email()+"'][type='text'][required='required']",{onchange:e.withAttr("value",t.from_email),"class":Oe.validate().hasError(t.from_email)?"error":""})])]),e("label","Mensagem"),e("textarea.w-input.text-field.height-small[required='required']",{onchange:e.withAttr("value",t.content),"class":Oe.validate().hasError(t.content)?"error":""}),e(".u-marginbottom-10.fontsize-smallest.fontcolor-terciary","Você receberá uma cópia desta mensagem em seu email."),e(".w-row",Oe.validationErrors().length?n.map(Oe.validationErrors(),function(t){return e("span.fontsize-smallest.text-error",[e("span.fa.fa-exclamation-triangle")," "+t.message,e("br")])}):""),e(".modal-dialog-nav-bottom",e(".w-row",e(".w-col.w-col-6.w-col-push-3",t.l()?Oe.loader():e('input.w-button.btn.btn-large[type="submit"][value="Enviar mensagem"]',{disabled:t.submitDisabled()}))))])])])];return e("div",[e(".modal-dialog-header",e(".fontsize-large.u-text-center","Enviar mensagem")),t.sendSuccess()?r:a])}},jr={controller:function(e){return{displayModal:Oe.toggleProp(!1,!0)}},view:function(t,o){var r=o.project,a=[yr,o.userDetails],i=o.userDetails();return e("#user-card",i?e(".u-marginbottom-30.u-text-center-small-only",[t.displayModal()?e.component(lo,{displayModal:t.displayModal,content:a}):"",e(".w-row",[e(".w-col.w-col-4",[e('img.thumb.u-marginbottom-30.u-round[width="100"][itemprop="image"][src="'+i.profile_img_thumbnail+'"]')]),e(".w-col.w-col-8",[e('.fontsize-small.link-hidden.fontweight-semibold.u-marginbottom-10.lineheight-tight[itemprop="name"]',[e('a.link-hidden[href="/users/'+i.id+'"]',{onclick:Oe.analytics.event({cat:"project_view",act:"project_creator_link",lbl:i.id,project:r()})},i.name)]),e(".fontsize-smallest",[Oe.pluralize(i.total_published_projects," criado"," criados"),e.trust("&nbsp;&nbsp;|&nbsp;&nbsp;"),Oe.pluralize(i.total_contributed_projects," apoiado"," apoiados")]),e("ul.w-hidden-tiny.w-hidden-small.w-list-unstyled.fontsize-smaller.fontweight-semibold.u-margintop-20.u-marginbottom-20",[n.isEmpty(i.facebook_link)?"":e("li",[e('a.link-hidden[itemprop="url"][href="'+i.facebook_link+'"][target="_blank"]',{onclick:Oe.analytics.event({cat:"project_view",act:"project_creator_fb",lbl:i.facebook_link,project:r()})},"Perfil no Facebook")]),n.isEmpty(i.twitter_username)?"":e("li",[e('a.link-hidden[itemprop="url"][href="https://twitter.com/'+i.twitter_username+'"][target="_blank"]',{onclick:Oe.analytics.event({cat:"project_view",act:"project_creator_twitter",lbl:i.twitter_username,project:r()})},"Perfil no Twitter")]),n.map(i.links,function(t){var o=Oe.parseUrl(t);return n.isEmpty(o.hostname)?"":e("li",[e('a.link-hidden[itemprop="url"][href="'+t+'"][target="_blank"]',{onclick:Oe.analytics.event({cat:"project_view",act:"project_creator_otherlinks",lbl:t,project:r()})},o.hostname)])})]),n.isEmpty(i)?"":[e("a.w-button.btn.btn-terciary.btn-small.btn-inline[href='javascript:void(0);']",{onclick:Oe.analytics.event({cat:"project_view",act:"project_creator_sendmsg",lbl:i.id,project:r()},t.displayModal.toggle)},"Enviar mensagem")],o.project().is_admin_role?e("p",i.email):""])])]):"carregando...")}},xr=n.partial(Oe.i18nScope,"projects.project_sidebar"),kr={controller:function(e){var t=e.project,o=function(e,o){o||!function(){var o=void 0,r=0,n=0,a=0,i=t().pledged/t().progress,s=t().total_contributors/t().progress,l=document.getElementById("progressBar"),c=document.getElementById("pledged"),d=document.getElementById("contributors"),u=function(){o=setInterval(m,28)},m=function(){r<=parseInt(t().progress)?(l.style.width=r+"%",c.innerText="R$ "+Oe.formatNumber(n),d.innerText=parseInt(a)+" pessoas",e.innerText=r+"%",n+=i,a+=s,r+=1):clearInterval(o)};setTimeout(function(){u()},1800)}()};return{animateProgress:o,displayShareBox:Oe.toggleProp(!1,!0)}},view:function(o,r){var a=r.project,i=a().elapsed_time,s=a().remaining_time,l=function(){var e={waiting_funds:"card-waiting",successful:"card-success",failed:"card-error",draft:"card-dark",in_analysis:"card-dark",approved:"card-dark"};return e[a().state]?"card u-radius zindex-10 "+e[a().state]:""},c=function(){var e={approved:t.t("display_status.approved",xr()),online:Oe.existy(a().zone_expires_at)&&a().open_for_contributions?t.t("display_status.online",xr({date:Oe.momentify(a().zone_expires_at)})):"",failed:t.t("display_status.failed",xr({date:Oe.momentify(a().zone_expires_at),goal:a().goal})),rejected:t.t("display_status.rejected",xr()),in_analysis:t.t("display_status.in_analysis",xr()),successful:t.t("display_status.successful",xr({date:Oe.momentify(a().zone_expires_at)})),waiting_funds:t.t("display_status.waiting_funds",xr()),draft:t.t("display_status.draft",xr())};return e[a().state]};return e("#project-sidebar.aside",[e(".project-stats",[e(".project-stats-inner",[e(".project-stats-info",[e(".u-marginbottom-20",[e("#pledged.fontsize-largest.fontweight-semibold.u-text-center-small-only","R$ "+(a().pledged?Oe.formatNumber(a().pledged):"0")),e(".fontsize-small.u-text-center-small-only",[t.t("contributors_call",xr()),e("span#contributors.fontweight-semibold",t.t("contributors_count",xr({count:a().total_contributors}))),!a().expires_at&&i?" em "+t.t("datetime.distance_in_words.x_"+i.unit,{count:i.total},xr()):""])]),e(".meter",[e("#progressBar.meter-fill",{style:{width:a().progress+"%"}})]),e(".w-row.u-margintop-10",[e(".w-col.w-col-5.w-col-small-6.w-col-tiny-6",[e(".fontsize-small.fontweight-semibold.lineheight-tighter",(a().progress?parseInt(a().progress):"0")+"%")]),e(".w-col.w-col-7.w-col-small-6.w-col-tiny-6.w-clearfix",[e(".u-right.fontsize-small.lineheight-tighter",s&&s.total?[e("span.fontweight-semibold",s.total),t.t("remaining_time."+s.unit,xr({count:s.total}))]:"")])])]),e(".w-row",[e.component(vr,{project:a})])]),a().open_for_contributions?e(".back-project-btn-div",[e(".back-project--btn-row",[e('a#contribute_project_form.btn.btn-large.u-marginbottom-20[href="javascript:void(0);"]',{onclick:Oe.analytics.event({cat:"contribution_create",act:"contribution_button_click",project:a()},function(){return Oe.navigateTo("/projects/"+a().project_id+"/contributions/new")})},t.t("submit",xr()))]),e(".back-project-btn-row-right",e.component(_r,{project:a,type:"link"}))]):"",e(".friend-backed-card.project-page",[!n.isUndefined(a())&&a().contributed_by_friends?e.component(Gt,{project:a()}):""]),e('div[class="fontsize-smaller u-marginbottom-30 '+l()+'"]',c())]),e(".project-share.w-hidden-main.w-hidden-medium",[e.component(gr,{project:a}),e.component(br,{project:a}),e(".u-marginbottom-30.u-text-center-small-only",e("button.btn.btn-inline.btn-medium.btn-terciary",{onclick:o.displayShareBox.toggle},"Compartilhar este projeto")),o.displayShareBox()?e(wr,{project:a,displayShareBox:o.displayShareBox}):""]),e(".user-c",e.component(jr,{userDetails:r.userDetails,project:a}))])}},zr={controller:function(e){var t=e.contribution,o=e.rewardDetails,r=n.findWhere(o(),{id:t.reward_id});return{contribution:t,chosenReward:r}},view:function(t,o){var r=o.contribution;return e(".user-contribution-detail",[e(".w-col.w-col-4",[e(".fontsize-smallest.lineheight-tight.fontweight-semibold.u-marginbottom-10","Valor do apoio:"),e(".fontsize-large","R$"+r.value)]),e(".w-col.w-col-4",e.component(lt,{item:r})),e(".w-col.w-col-4",[e(".fontsize-smaller.fontweight-semibold.u-marginbottom-10","Recompensa:"),e(".fontsize-smallest.lineheight-tight.u-marginbottom-20",n.isUndefined(t.chosenReward)?"Nenhuma recompensa selecionada.":t.chosenReward.description),e(".fontsize-smallest.lineheight-looser",n.isUndefined(t.chosenReward)?"":[e("span.fontweight-semibold","Estimativa de entrega: "),Oe.momentify(t.chosenReward.deliver_at,"MMM/YYYY")])])])}},Cr=m.prop({}),Pr=function(e,t,r){var n=o.filtersVM({user_id:"eq",project_id:"eq",state:"in"});n.user_id(e),n.project_id(t),n.state(r);var a=o.loaderWithToken(Ne.userContribution.getPageOptions(n.parameters()));return a.load()},Mr=function(){var e=document.getElementById("application"),t=e&&e.getAttribute("data-contribution");return t?(Cr(JSON.parse(t)),m.redraw(!0),Cr):!1},Sr={getCurrentContribution:Mr,getUserProjectContributions:Pr},Tr={controller:function(t){var o=t.project,r=Oe.getUser(),a=e.prop([]);return Oe.isProjectPage()&&r&&!n.isUndefined(o())&&Sr.getUserProjectContributions(r.user_id,o().project_id,["paid","refunded","pending_refund"]).then(a),{projectContributions:a,showContributions:Oe.toggleProp(!1,!0)}},view:function(t,o){var r=o.project,a=o.rewardDetails;return n.isUndefined(r())?e(""):e("#project-header",[e(".w-section.section-product."+r().mode),e(".w-section.page-header.u-text-center",[e(".w-container",[e('h1.fontsize-larger.fontweight-semibold.project-name[itemprop="name"]',Oe.selfOrEmpty(r().name||r().project_name)),e('h2.fontsize-base.lineheight-looser[itemprop="author"]',["por ",r().user?r().user.name:r().owner_name?r().owner_name:""]),n.isEmpty(t.projectContributions())?"":e(".card.card-terciary.u-radius.u-margintop-20",[e(".fontsize-small.u-text-center",[e("span.fa.fa-thumbs-up")," Você é apoiador deste projeto! ",e("a.alt-link[href='javascript:void(0);']",{onclick:t.showContributions.toggle},"Detalhes")]),t.showContributions()?e(".card.u-margintop-20",e(".w-row",n.map(t.projectContributions(),function(t){return e.component(zr,{contribution:t,rewardDetails:a})}))):""])])]),e(".w-section.project-main",[e(".w-container",[e(".w-row.project-main",[e(".w-col.w-col-8.project-highlight",e.component(hr,{project:r})),e(".w-col.w-col-4",e.component(kr,{project:r,userDetails:o.userDetails}))])])])])}},Er={controller:function(t){var o=e.prop(!1),r=e.prop(-1),n=function(t){return function(){var n=t.getBoundingClientRect();window.scrollY<=r()&&(r(-1),o(!1),e.redraw()),(n.top<0||window.scrollY>r()&&r()>0)&&(o()||(r(window.scrollY),o(!0),e.redraw()))}},a=function(e,t){if(!t){var o=n(e);window.addEventListener("scroll",o)}};return{navDisplay:a,isFixed:o}},view:function(t,o){var r=o.project,n=o.rewardDetails,a=!t.isFixed()||r().is_owner_or_admin?".w-section.project-nav":".w-section.project-nav.project-nav-fixed";return e("nav-wrapper",r()?[e(a,{config:t.navDisplay},[e(".w-container",[e(".w-row",[e(".w-col.w-col-8",[_.isEmpty(n())?e('a[id="rewards-link"][class="w-hidden-main w-hidden-medium dashboard-nav-link mf '+(Oe.hashMatch("#contribution_suggestions")?"selected":"")+'"][href="/'+r().permalink+'#contribution_suggestions"]',{style:"float: left;",onclick:Oe.analytics.event({cat:"project_view",act:"project_contribsuggestions_view",project:r()})},"Valores Sugeridos"):e('a[id="rewards-link"][class="w-hidden-main w-hidden-medium dashboard-nav-link mf  '+(Oe.hashMatch("#rewards")?"selected":"")+'"][href="/'+r().permalink+'#rewards"]',{style:"float: left;",onclick:Oe.analytics.event({cat:"project_view",act:"project_rewards_view",project:r()})},"Recompensas"),e('a[id="about-link"][class="dashboard-nav-link mf '+(Oe.hashMatch("#about")||Oe.hashMatch("")?"selected":"")+'"][href="#about"]',{style:"float: left;",onclick:Oe.analytics.event({cat:"project_view",act:"project_about_view",project:r()})},"Sobre"),e('a[id="posts-link"][class="dashboard-nav-link mf '+(Oe.hashMatch("#posts")?"selected":"")+'"][href="#posts"]',{style:"float: left;",onclick:Oe.analytics.event({cat:"project_view",act:"project_posts_view",project:r()})},["Novidades ",e("span.badge",r()?r().posts_count:"")]),e('a[id="contributions-link"][class="w-hidden-small w-hidden-tiny dashboard-nav-link mf '+(Oe.hashMatch("#contributions")?"selected":"")+'"][href="#contributions"]',{style:"float: left;",onclick:Oe.analytics.event({cat:"project_view",act:"project_contributions_view",project:r()})},["Apoiadores ",e("span.badge.w-hidden-small.w-hidden-tiny",r()?r().total_contributors:"-")]),e('a[id="comments-link"][class="dashboard-nav-link mf '+(Oe.hashMatch("#comments")?"selected":"")+'"][href="#comments"]',{style:"float: left;",onclick:Oe.analytics.event({cat:"project_view",act:"project_comments_view",project:r()})},["Comentários ",r()?e('fb:comments-count[href="http://www.catarse.me/'+r().permalink+'"][class="badge project-fb-comment w-hidden-small w-hidden-tiny"][style="display: inline"]',e.trust("&nbsp;")):"-"])]),r()?e(".w-col.w-col-4.w-hidden-small.w-hidden-tiny",r().open_for_contributions?[e(".w-row.project-nav-back-button",[e(".w-col.w-col-6.w-col-medium-8",[e('a.w-button.btn[href="/projects/'+r().project_id+'/contributions/new"]',{onclick:Oe.analytics.event({cat:"contribution_create",act:"contribution_floatingbtn_click",project:r()})},"Apoiar ‍este projeto")]),e(".w-col.w-col-6.w-col-medium-4",{onclick:Oe.analytics.event({cat:"project_view",act:"project_floatingreminder_click",project:r()})},[e.component(_r,{project:r,type:"button",hideTextOnMobile:!0})])])]:""):""])])]),t.isFixed()&&!r().is_owner_or_admin?e(".w-section.project-nav"):""]:"")}},Ar={controller:function(e){var t="selectedReward",o=Et,r=function(e,t){return t?!1:e.focus()},n=function(){var e=Oe.monetaryToFloat(o.contributionValue);return e<o.selectedReward().minimum_value?o.error("O valor de apoio para essa recompensa deve ser de no mínimo R$"+o.selectedReward().minimum_value):(o.error(""),Oe.navigateTo("/projects/"+Qt.currentProject().project_id+"/contributions/fallback_create?contribution%5Breward_id%5D="+o.selectedReward().id+"&contribution%5Bvalue%5D="+e)),!1};if(Oe.getStoredObject(t)){var a=Oe.getStoredObject(t),i=a.value,s=a.reward;Oe.removeStoredObject(t),o.selectedReward(s),o.contributionValue(Oe.applyMonetaryMask(i+",00")),n()}return{applyMask:o.applyMask,error:o.error,submitContribution:n,openedReward:o.selectedReward,selectReward:o.selectReward,contributionValue:o.contributionValue,setInput:r}},view:function(t,o){var r=o.project()||{open_for_contributions:!1};return e("#rewards.u-marginbottom-30",n.map(o.rewardDetails(),function(o){return e('div[class="'+(Oe.rewardSouldOut(o)?"card-gone":"card-reward "+(r.open_for_contributions?"clickable":""))+' card card-secondary u-marginbottom-10"]',{onclick:Oe.analytics.event({cat:"contribution_create",act:"contribution_reward_click",lbl:o.minimum_value,project:r,extraData:{reward_id:o.id,reward_value:o.minimum_value}},t.selectReward(o))},[e(".u-marginbottom-20",[e(".fontsize-base.fontweight-semibold","Para R$ "+Oe.formatNumber(o.minimum_value)+" ou mais"),e(".fontsize-smaller.fontweight-semibold",Oe.pluralize(o.paid_count," apoio"," apoios")),o.maximum_contributions>0?[o.waiting_payment_count>0?e(".maximum_contributions.in_time_to_confirm.clearfix",[e(".pending.fontsize-smallest.fontcolor-secondary",Oe.pluralize(o.waiting_payment_count," apoio em prazo de confirmação"," apoios em prazo de confirmação."))]):"",Oe.rewardSouldOut(o)?e(".u-margintop-10",[e("span.badge.badge-gone.fontsize-smaller","Esgotada")]):e(".u-margintop-10",[e("span.badge.badge-attention.fontsize-smaller",[e("span.fontweight-bold","Limitada")," ("+Oe.rewardRemaning(o)+" de "+o.maximum_contributions+" disponíveis)"])])]:""]),e(".fontsize-smaller.u-margintop-20",e.trust(Oe.simpleFormat(Oe.strip(o.description)))),n.isEmpty(o.deliver_at)?"":e(".fontsize-smaller",[e("b","Estimativa de Entrega: "),Oe.momentify(o.deliver_at,"MMM/YYYY")]),r.open_for_contributions&&!Oe.rewardSouldOut(o)?[t.openedReward().id===o.id?e(".w-form",[e("form.u-margintop-30",{onsubmit:t.submitContribution},[e(".divider.u-marginbottom-20"),e(".fontcolor-secondary.u-marginbottom-10","Valor do apoio"),e(".w-row.u-marginbottom-20",[e(".w-col.w-col-3.w-col-small-3.w-col-tiny-3",e(".back-reward-input-reward.placeholder","R$")),e(".w-col.w-col-9.w-col-small-9.w-col-tiny-9",e('input.w-input.back-reward-input-reward[type="tel"]',{config:t.setInput,onkeyup:e.withAttr("value",t.applyMask),value:t.contributionValue()}))]),e('input.w-button.btn.btn-medium[type="submit"][value="Continuar >"]'),t.error().length>0?e(".text-error",[e("br"),e("span.fa.fa-exclamation-triangle")," "+t.error()]):""])]):""]:""])}))}},qr={view:function(t,o){var r=o.project(),a=function(e){return"/projects/"+r.project_id+"/contributions/new?amount="+e},i=[10,25,50,100];return e("#suggestions",n.map(i,function(t){return r?e('a[href="'+a(t)+'"].card-reward.card-big.card-secondary.u-marginbottom-20',[e(".fontsize-larger","R$ "+t)]):""}))}},Rr={controller:function(t){var r=(e.prop([]),e.prop([])),a=o.paginationVM(Ne.contributor),i=o.filtersVM({project_id:"eq"}),s=o.filtersVM({project_id:"eq"}),l=function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=[[]],o=0;return n.map(e,function(e,r){t[o].length>=3&&(o+=1,t[o]=[]),t[o].push(e)}),t},c=e.prop({});s.project_id(t.project().project_id),i.project_id(t.project().project_id),a.collection().length||a.firstPage(s.parameters());var d=o.loader(Ne.projectContributionsPerDay.getRowOptions(i.parameters()));d.load().then(r);var u=[["Estado","Apoios","R$ apoiados (% do total)"]],m=function(t){return n.isEmpty(t)?[]:n.map(n.first(t).source,function(t){var o=[];return o.push(t.state_acronym||"Outro/other"),o.push(t.total_contributions),o.push([t.total_contributed,[e('input[type="hidden"][value="'+t.total_contributed+'"'),"R$ ",Oe.formatNumber(t.total_contributed,2,3),e("span.w-hidden-small.w-hidden-tiny"," ("+t.total_on_percentage.toFixed(2)+"%)")]]),u.push(o)})},p=o.loader(Ne.projectContributionsPerLocation.getRowOptions(i.parameters()));p.load().then(m);var f=o.loader(Ne.projectContributiorsStat.getRowOptions(i.parameters()));return f.load().then(function(e){return c(n.first(e))}),{listVM:a,filterVM:s,groupedCollection:l,lContributionsStats:f,contributionsPerLocationTable:u,lContributionsPerLocation:p,contributionsPerDay:r,lContributionsPerDay:d,contributionsStats:c}},view:function(t,o){var r=t.listVM,a=t.contributionsStats(),i=t.groupedCollection(r.collection());return e("#project_contributions",e("#contributions_top",[e(".section.w-section",e(".w-container",e(".w-row",t.lContributionsStats()?Oe.loader():n.isEmpty(a)?"":[e(".u-marginbottom-20.u-text-center-small-only.w-col.w-col-6",[e(".fontsize-megajumbo",a.total),e(".fontsize-large","pessoas apoiam este projeto")]),e(".w-col.w-col-6",e(".card.card-terciary.u-radius",e(".w-row",[e(".u-marginbottom-20.w-col.w-col-6.w-col-small-6",[e(".fontweight-semibold.u-marginbottom-10","Apoiadores novos"),e(".fontsize-largest.u-marginbottom-10",Math.floor(a.new_percent)+"%"),e(".fontsize-smallest","apoiadores que nunca tinham apoiado um projeto no Catarse")]),e(".w-col.w-col-6.w-col-small-6",[e(".divider.u-marginbottom-20.w-hidden-main.w-hidden-medium.w-hidden-small"),e(".fontweight-semibold.u-marginbottom-10","Apoiadores recorrentes"),e(".fontsize-largest.u-marginbottom-10",Math.ceil(a.returning_percent)+"%"),e(".fontsize-smallest","apoiadores que já tinham apoiado um projeto no Catarse")])])))]))),e(".divider.w-section"),e(".section.w-section",e(".w-container",[e(".fontsize-large.fontweight-semibold.u-marginbottom-40.u-text-center","Apoiadores"),e(".project-contributions.w-clearfix",n.map(i,function(t,r){return e(".w-row",n.map(t,function(t){return e(".project-contribution-item.w-col.w-col-4",[e(".card.card-backer.u-marginbottom-20.u-radius.u-text-center",[e('a[href="/users/'+t.user_id+'"][style="display: block;"]',{onclick:Oe.analytics.event({cat:"project_view",act:"project_backer_link",lbl:t.user_id,project:o.project()})},[e('img.thumb.u-marginbottom-10.u-round[src="'+(n.isEmpty(t.data.profile_img_thumbnail)?"/assets/catarse_bootstrap/user.jpg":t.data.profile_img_thumbnail)+'"]')]),e('a.fontsize-base.fontweight-semibold.lineheigh-tight.link-hidden-dark[href="/users/'+t.user_id+'"]',{onclick:Oe.analytics.event({cat:"project_view",act:"project_backer_link",lbl:t.user_id,project:o.project()})},t.data.name),e(".fontcolor-secondary.fontsize-smallest.u-marginbottom-10",t.data.city+","+t.data.state),e(".fontsize-smaller",[e("span.fontweight-semibold",t.data.total_contributed_projects)," apoiados  |  ",e("span.fontweight-semibold",t.data.total_published_projects)," criado"])])])}))})),e(".w-row.u-marginbottom-40.u-margintop-20",[e(".w-col.w-col-2.w-col-push-5",[r.isLoading()?Oe.loader():r.isLastPage()?"":e("button#load-more.btn.btn-medium.btn-terciary",{onclick:r.nextPage},"Carregar mais")])])]))]),e(".before-footer.bg-gray.section.w-section",e(".w-container",[e(".w-row.u-marginbottom-60",[e(".w-col.w-col-12.u-text-center",{style:{"min-height":"300px"}},[t.lContributionsPerDay()?Oe.loader():e.component(bo,{collection:t.contributionsPerDay,label:"R$ arrecadados por dia",dataKey:"total_amount",xAxis:function(e){return Oe.momentify(e.paid_at)},emptyState:"Apoios não contabilizados"})])]),e(".w-row",e(".w-col.w-col-12.u-text-center",[e(".fontweight-semibold.u-marginbottom-10.fontsize-large.u-text-center","De onde vem os apoios"),t.lContributionsPerLocation()?Oe.loader():n.isEmpty(n.rest(t.contributionsPerLocationTable))?"":e.component(ho,{table:t.contributionsPerLocationTable,defaultSortIndex:-2})]))])))}},Dr={controller:function(t){var r=Oe.toggleProp(!1,!0),n=e.prop(!1),a=e.prop(!1),i=Oe.getUser(),s=e.prop(i.email),l=e.prop(""),c=e.prop(""),d=e.prop(!1),u=function(){i?r.toggle():window.location.href="/login"},m=function(){a(!0);var e=Ne.projectReport.postOptions({email:s(),details:l(),reason:c(),project_id:Oe.getCurrentProject().project_id});return d=o.loaderWithToken(e),d.load().then(n(!0)),a(!1),!1};return{checkLogin:u,displayForm:r,sendSuccess:n,submitDisabled:a,sendReport:m,user:i,email:s,details:l,reason:c}},view:function(t,o){t.user;return e(".card.card-terciary.u-radius",[e(".fontsize-small.u-marginbottom-20",["Este projeto desrespeita",e.trust("&nbsp;"),e("a.alt-link[href='http://suporte.catarse.me/hc/pt-br/articles/202387638'][target='_blank']","nossas regras? ")]),t.sendSuccess()?e(".w-form",e("p","Obrigado! A sua denúncia foi recebida.")):[e(".a.w-button.btn.btn-medium.btn-terciary.btn-inline[href='javascript:void(0);']",{onclick:t.checkLogin},"Denunciar este projeto"),t.displayForm()?e("#report-form.u-margintop-30",e(".w-form",e("form",{onsubmit:t.sendReport},[e(".fontsize-small.fontweight-semibold.u-marginbottom-10","Por que você está denunciando este projeto?"),e("select.w-select.text-field.positive[required='required']",{onchange:e.withAttr("value",t.reason)},[e("option[value='']","Selecione um motivo"),e("option[value='Violação de propriedade intelectual']","Violação de propriedade intelectual"),e("option[value='Calúnia, injúria, difamação ou discriminação']","Calúnia, injúria, difamação ou discriminação"),e("option[value='Escopo de projeto proibido']","Escopo de projeto proibido"),e("option[value='Recompensas proibidas']","Recompensas proibidas"),e("option[value='Cenas de sexo explícitas e gratuitas']","Cenas de sexo explícitas e gratuitas"),e("option[value='Abuso de SPAM']","Abuso de SPAM"),e("option[value='Outros']","Outros")]),e("textarea.w-input.text-field.positive.u-marginbottom-30",{placeholder:"Por favor, dê mais detalhes que nos ajudem a identificar o problema",onchange:e.withAttr("value",t.details)}),e("input.w-button.btn.btn-medium.btn-inline.btn-dark[type='submit'][value='Enviar denúncia']",{disabled:t.submitDisabled()})]))):""]])}},Fr={view:function(t,o){var r=o.project()||{},n=function(){var e=moment(r.zone_online_date).diff(moment(r.zone_expires_at)),t=moment.duration(e);return-Math.ceil(t.asDays())},a=function(){return r.is_published&&Oe.existy(r.zone_expires_at)?e(".funding-period",[e(".fontsize-small.fontweight-semibold.u-text-center-small-only","Período de campanha"),e(".fontsize-small.u-text-center-small-only",Oe.momentify(r.zone_online_date)+" - "+Oe.momentify(r.zone_expires_at)+" ("+n()+" dias)")]):""};return e("#project-about",[e(".project-about.w-col.w-col-8",{config:Oe.UIHelper()},[e("p.fontsize-base",[e("strong","O projeto")]),e('.fontsize-base[itemprop="about"]',e.trust(Oe.selfOrEmpty(r.about_html,"..."))),r.budget?[e("p.fontsize-base.fontweight-semibold","Orçamento"),e("p.fontsize-base",e.trust(r.budget))]:"",e.component(Dr)]),e(".w-col.w-col-4.w-hidden-small.w-hidden-tiny",_.isEmpty(o.rewardDetails())?[e(".fontsize-base.fontweight-semibold.u-marginbottom-30","Sugestões de apoio"),e.component(qr,{
project:o.project}),a()]:[e(".fontsize-base.fontweight-semibold.u-marginbottom-30","Recompensas"),e.component(Ar,{project:o.project,rewardDetails:o.rewardDetails}),a()])])}},Or={controller:function(){var e=function(e,t){return function(e,t){t||Oe.fbParse()}};return{loadComments:e}},view:function(t,o){var r=o.project();return e(".w-row",[e(".w-col.w-col-7",e('.fb-comments[data-href="http://www.catarse.me/'+r.permalink+'"][data-num-posts=50][data-width="610"]',{config:t.loadComments()})),e(".w-col.w-col-5",e.component(Dr))])}},Nr={controller:function(e){var t=o.paginationVM(Ne.projectPostDetail),r=o.filtersVM({project_id:"eq",id:"eq"});return r.project_id(e.project().project_id),n.isNumber(e.post_id)&&r.id(e.post_id),t.collection().length||t.firstPage(r.parameters()),{listVM:t,filterVM:r}},view:function(t,o){var r=t.listVM,a=o.project()||{};return e(".project-posts.w-section",[e(".w-container.u-margintop-20",[a.is_owner_or_admin?[r.isLoading()?"":n.isEmpty(r.collection())?e(".w-hidden-small.w-hidden-tiny",[e(".fontsize-base.u-marginbottom-30.u-margintop-20","Toda novidade publicada no Catarse é enviada diretamente para o email de quem já apoiou seu projeto e também fica disponível para visualização no site. Você pode optar por deixá-la pública, ou visível somente para seus apoiadores aqui nesta aba.")]):"",e(".w-row.u-marginbottom-20",[e(".w-col.w-col-4"),e(".w-col.w-col-4",[e("a.btn.btn-edit.btn-small[href='/pt/projects/"+a.project_id+"/edit#posts']","Escrever novidade")]),e(".w-col.w-col-4")])]:"",n.map(r.collection(),function(t){return e(".w-row",[e(".w-col.w-col-1"),e(".w-col.w-col-10",[e(".post",[e(".u-marginbottom-60 .w-clearfix",[e(".fontsize-small.fontcolor-secondary.u-text-center",Oe.momentify(t.created_at)),e("p.fontweight-semibold.fontsize-larger.u-text-center.u-marginbottom-30",[e('a.link-hidden[href="/projects/'+t.project_id+"/posts/"+t.id+'#posts"]',t.title)]),n.isEmpty(t.comment_html)?e(".fontsize-base","Post exclusivo para apoiadores."):e(".fontsize-base",e.trust(t.comment_html))]),e(".divider.u-marginbottom-60")])]),e(".w-col.w-col-1")])}),e(".w-row",[e(".w-col.w-col-2.w-col-push-5",[n.isUndefined(o.post_id)?r.isLoading()?Oe.loader():r.isLastPage()?"Nenhuma novidade.":e("button#load-more.btn.btn-medium.btn-terciary",{onclick:r.nextPage},"Carregar mais"):""])])])])}},Ir={controller:function(t){var o=e.prop(window.location.hash),r=function(r){var a={project:r,post_id:t.post_id},i={"#rewards":e(".w-col.w-col-12",e.component(Ar,n.extend({},{rewardDetails:t.rewardDetails},a))),"#contribution_suggestions":e.component(qr,a),"#contributions":e.component(Rr,a),"#about":e.component(Fr,n.extend({},{rewardDetails:t.rewardDetails},a)),"#comments":e.component(Or,a),"#posts":e.component(Nr,a)};return n.isNumber(t.post_id)&&(window.location.hash="posts"),o(window.location.hash),n.isEmpty(o())||"#_=_"===o()||"#preview"===o()?i["#about"]:i[o()]};return Oe.redrawHashChange(),{displayTabContent:r,hash:o}},view:function(t,o){return e('section.section[itemtype="http://schema.org/CreativeWork"]',[e(""+("#contributions"!==t.hash()?".w-container":".about-tab-content"),[e(".w-row",o.project()?t.displayTabContent(o.project):Oe.loader())])])}},Vr={controller:function(e){var t=e.project_id,o=e.project_user_id;return Oe.analytics.windowScroll({cat:"project_view",act:"project_page_scroll"}),t?Qt.init(t,o):Qt.getCurrentProject(),Qt},view:function(t,o){var r=t.currentProject;return e(".project-show",{config:t.setProjectPageTitle()},[e.component(Tr,{project:r,rewardDetails:t.rewardDetails,userDetails:t.userDetails}),e.component(Er,{project:r,rewardDetails:t.rewardDetails}),e.component(Ir,{project:r,post_id:o.post_id,rewardDetails:t.rewardDetails}),r()&&r().is_owner_or_admin?e.component(so,{project:r}):""])}},Lr={view:function(t,o){var r=o.user,n=Vt.displayImage(r),a=Vt.displayCover(r);return e(".hero-half",[e(".w-container.content-hero-profile",e(".w-row.u-text-center",e(".w-col.w-col-8.w-col-push-2",[e(".u-marginbottom-20",e(".avatar_wrapper",e("img.thumb.big.u-round[alt='User'][src='"+n+"']"))),e(".fontsize-larger.fontweight-semibold.u-marginbottom-20",r.name),e(".w-hidden-small.w-hidden-tiny.u-marginbottom-40.fontsize-base",["Chegou junto em "+Oe.momentify(r.created_at,"MMMM [de] YYYY"),e("br"),0==r.total_contributed_projects?"Ainda não apoiou projetos":"Apoiou "+Oe.pluralize(r.total_contributed_projects," projeto"," projetos"),r.total_published_projects>0?" e já criou "+Oe.pluralize(r.total_published_projects," projeto"," projetos"):""])]))),e(".hero-profile",{style:"background-image:url('"+a+"');"})])}},Br={view:function(t,o){return e(".fontsize-smaller.text-error.u-marginbottom-20.fa.fa-exclamation-triangle",e("span"," "+o.message))}},Ur={controller:function(t){var r=(e.prop(),t.userId),n=e.prop(!1),a=o.paginationVM(Ne.project),i=e.prop(!0),s=o.filtersVM({project_user_id:"eq",state:"in"});return s.state(["online","waiting_funds","successful","failed"]).project_user_id(r).order({online_date:"desc"}),Ne.project.pageSize(9),a.firstPage(s.parameters()).then(function(){i(!1)})["catch"](function(t){n(!0),i(!1),e.redraw()}),{projects:a,loader:i,error:n}},view:function(t,o){var r=t.projects.collection();return e(".content[id='created-tab']",t.error()?e.component(Br,{message:"Erro ao carregar os projetos."}):t.loader()?Oe.loader():[n.isEmpty(r)?e(".w-container",e(".u-margintop-30.u-text-center.w-row",[e(".w-col.w-col-3"),e(".w-col.w-col-6",[e(".fontsize-large.u-marginbottom-30","O que você está esperando para tirar seu projeto do papel aqui no Catarse?"),e(".w-row",[e(".w-col.w-col-3"),e(".w-col.w-col-6",e("a.btn.btn-large[href='/start']","Comece agora!")),e(".w-col.w-col-3")])]),e(".w-col.w-col-3")])):n.map(r,function(t){return e.component(eo,{project:t,ref:"user_contributed",showFriends:!1})}),n.isEmpty(r)?"":e(".w-row.u-marginbottom-40.u-margintop-30",[e(".w-col.w-col-2.w-col-push-5",[t.projects.isLastPage()?"":e("button#load-more.btn.btn-medium.btn-terciary",{onclick:t.projects.nextPage},"Carregar mais")])])])}},Yr={controller:function(t){var r=e.prop(),a=t.userId,i=o.paginationVM(Ne.project),s=e.prop(!1),l=e.prop(!0),c=o.filtersVM({project_id:"in"});return Vt.getUserContributedProjects(a,null).then(function(e){r(e),c.project_id(n.pluck(r(),"project_id")).order({online_date:"desc"}),Ne.project.pageSize(9),i.firstPage(c.parameters()).then(function(){l(!1)})})["catch"](function(t){s(!0),l(!1),e.redraw()}),{projects:i,error:s,loader:l}},view:function(t,o){var r=t.projects.collection();return t.error()?e.component(Br,{message:"Erro ao carregar os projetos."}):t.loader()?Oe.loader():e(".content[id='contributed-tab']",[n.isEmpty(r)?e(".w-container",e(".u-margintop-30.u-text-center.w-row",[e(".w-col.w-col-3"),e(".w-col.w-col-6",[e(".fontsize-large.u-marginbottom-30","Ora, ora... você ainda não apoiou nenhum projeto no Catarse!"),e(".w-row",[e(".w-col.w-col-3"),e(".w-col.w-col-6",e("a.btn.btn-large[href='/explore']","Que tal apoiar agora?")),e(".w-col.w-col-3")])]),e(".w-col.w-col-3")])):n.map(r,function(t){return e.component(eo,{project:t,ref:"user_contributed",showFriends:!1})}),n.isEmpty(r)?"":e(".w-row.u-marginbottom-40.u-margintop-30",[e(".w-col.w-col-2.w-col-push-5",[t.projects.isLoading()?Oe.loader():t.projects.isLastPage()?"":e("button#load-more.btn.btn-medium.btn-terciary",{onclick:t.projects.nextPage},"Carregar mais")])])])}},Wr={controller:function(t){var o=e.prop({}),r=t.userId;return Vt.fetchUser(r,!0,o),{userDetails:o}},view:function(t){var o=t.userDetails(),r=Vt.displayImage(o);return e("#user-card",e(".card.card-user.u-radius.u-marginbottom-30[itemprop='author']",[e(".w-row",[e(".w-col.w-col-4.w.col-small-4.w-col-tiny-4.w-clearfix",e("img.thumb.u-round[itemprop='image'][src='"+r+"'][width='100']")),e(".w-col.w-col-8.w-col-small-8.w-col-tiny-8",[e(".fontsize-small.fontweight-semibold.lineheight-tighter[itemprop='name']",e('a.link-hidden[href="/users/'+o.id+'"]',o.name)),e(".fontsize-smallest.lineheight-looser[itemprop='address']",o.address_city),e(".fontsize-smallest",Oe.pluralize(o.total_published_projects," projeto"," projetos")+" criados"),e(".fontsize-smallest","apoiou "+Oe.pluralize(o.total_contributed_projects," projeto"," projetos"))])]),e(".project-author-contacts",[e("ul.w-list-unstyled.fontsize-smaller.fontweight-semibold",[n.isEmpty(o.facebook_link)?"":e("li",[e('a.link-hidden[itemprop="url"][href="'+o.facebook_link+'"][target="_blank"]',"Perfil no Facebook")]),n.isEmpty(o.twitter_username)?"":e("li",[e('a.link-hidden[itemprop="url"][href="https://twitter.com/'+o.twitter_username+'"][target="_blank"]',"Perfil no Twitter")]),n.map(o.links,function(t){return e("li",[e('a.link-hidden[itemprop="url"][href="'+t+'"][target="_blank"]',t)])})])]),n.isEmpty(o.email)?"":e('a.btn.btn-medium.btn-message[href="mailto:'+o.email+'"][itemprop="email"][target="_blank"]',"Enviar mensagem")]))}},$r={controller:function(t){var o=e.prop({}),r=e.prop(!0),n=e.prop(!1),a=t.userId;return Vt.fetchUser(a,!0,o).then(function(){r(!1)})["catch"](function(t){n(!0),r(!1),e.redraw()}),{userDetails:o,error:n,loader:r}},view:function(t,o){var r=t.userDetails();return t.error()?e.component(Br,{message:"Erro ao carregar dados."}):t.loader()?Oe.loader():e(".content[id='about-tab']",e(".w-container[id='about-content']",e(".w-row",[e(".w-col.w-col-8",e(".fontsize-base",r.about_html?e.trust(r.about_html):"")),e(".w-col.w-col-4",r.id?e.component(Wr,{userId:r.id}):Oe.loader)])))}},Hr={controller:function(t){var o=e.prop({}),r=t.user_id,a=e.prop(window.location.hash),i=function(t){var o={"#created":e.component(Ur,{userId:t.id}),"#contributed":e.component(Yr,{userId:t.id}),"#about":e.component($r,{userId:t.id})};return a(window.location.hash),n.isEmpty(a())||"#_=_"===a()?o["#about"]:o[a()]};return Oe.redrawHashChange(),Vt.fetchUser(r,!0,o),{displayTabContent:i,hash:a,userDetails:o}},view:function(t,o){var r=t.userDetails();return e("div",[e.component(Lr,{user:r}),e("nav.project-nav.u-text-center.u-marginbottom-30.profile",{style:{"z-index":"10",position:"relative"}},e(".w-container[data-anchor='created'][id='default-tab']",[n.isEmpty(r)?Oe.loader():r.is_owner_or_admin?e("a.dashboard-nav-link.dashboard[href='/pt/users/"+r.id+"/edit']",[e("span.fa.fa-cog"),e.trust("&nbsp;")," Editar perfil"]):"",e("a[data-target='#contributed-tab'][href='#contributed'][id='contributed_link'][class='dashboard-nav-link "+(Oe.hashMatch("#contributed")?"selected":"")+"']",["Apoiados ",e.trust("&nbsp;"),e("span.badge",r.total_contributed_projects)]),e("a[data-target='#created-tab'][href='#created'][id='created_link'][class='dashboard-nav-link "+(Oe.hashMatch("#created")?"selected":"")+"']",["Criados ",e.trust("&nbsp;"),e("span.badge",r.total_published_projects)]),e("a[data-target='#about-tab'][href='#about'][id='about_link'][class='dashboard-nav-link "+(Oe.hashMatch("#about")?"selected":"")+"']","Sobre")])),e("section.section",e(".w-container",e(".w-row",r.id?t.displayTabContent(r):Oe.loader())))])}},Kr=_.partial(Oe.i18nScope,"projects.contributions.edit.errors"),Jr=function(){var e=arguments.length<=0||void 0===arguments[0]?"aon":arguments[0],r=m.prop({}),n=m.prop(!1),i=m.prop(!1),s=function(e){Oe.authenticityToken()&&e.setRequestHeader("X-CSRF-Token",Oe.authenticityToken())},l={completeName:m.prop(""),email:m.prop(""),anonymous:m.prop(),countries:m.prop(),userCountryId:m.prop(),zipCode:m.prop(""),street:m.prop(""),number:m.prop(""),addressComplement:m.prop(""),neighbourhood:m.prop(""),city:m.prop(""),states:m.prop([]),userState:m.prop(),ownerDocument:m.prop(""),phone:m.prop(""),errors:m.prop([])},c={name:m.prop(""),number:m.prop(""),expMonth:m.prop(""),expYear:m.prop(""),save:m.prop(!1),cvv:m.prop(""),errors:m.prop([])},d=t.translations[t.currentLocale()].projects.faq[e],u=Oe.getUser(),p=o.loader(Ne.country.getPageOptions()),f=o.loader(Ne.state.getPageOptions()),w=function(e){var t=_.first(e);l.completeName(t.name),l.email(t.email),l.city(t.address.city),l.zipCode(t.address.zipcode),l.street(t.address.street),l.number(t.address.number),l.addressComplement(t.address.complement),l.userState(t.address.state),l.userCountryId(t.address.country_id),l.ownerDocument(t.owner_document),l.phone(t.address.phonenumber),l.neighbourhood(t.address.neighbourhood)},g=function(){return[[1,"01 - Janeiro"],[2,"02 - Fevereiro"],[3,"03 - Março"],[4,"04 - Abril"],[5,"05 - Maio"],[6,"06 - Junho"],[7,"07 - Julho"],[8,"08 - Agosto"],[9,"09 - Setembro"],[10,"10 - Outubro"],[11,"11 - Novembro"],[12,"12 - Dezembro"]]},b=function(){for(var e=a().year(),t=[],o=e;e+25>=o;o++)t.push(o);return t},h=function(){return _.isEmpty(l.countries())?!1:l.userCountryId()!=_.findWhere(l.countries(),{name:"Brasil"}).id},v=function(e){return _.map(e,function(e){_.isEmpty(String(l[e]()).trim())&&l.errors().push({field:e,message:"O campo não pode ser vazio."})})},y=function(){var e=Oe.validateEmail(l.email());e||l.errors().push({field:"email",message:"E-mail inválido."})},j=function(){var e=Oe.validateCpf(l.ownerDocument().replace(/[\.|\-]*/g,""));e||l.errors().push({field:"ownerDocument",message:"CPF inválido."})},x=function(){return l.errors([]),v(["completeName","street","number","city"]),y(),h()||(v(["phone","neighbourhood"]),j()),_.isEmpty(l.errors())},k=function(e){var t=m.prop();return m.request({method:"GET",config:s,url:"/payment/pagarme/"+e+"/slip_data"}).then(t),t},z=m.prop([]),C=function(e){var t={id:-1};return m.request({method:"GET",config:s,url:"/users/"+e+"/credit_cards"}).then(function(e){return _.isArray(e)?e.push(t):e=[],z(e)})},P=function(e,t){return m.request({method:"POST",url:"/payment/pagarme/"+t+"/pay_credit_card",data:e,config:s})},M=function(e,t,o){var r={card_id:e.card_key,payment_card_installments:t};return P(r,o)},S=function(){var e=new window.PagarMe.creditCard;return e.cardHolderName=c.name(),e.cardExpirationMonth=c.expMonth(),e.cardExpirationYear=c.expYear(),e.cardNumber=c.number(),e.cardCVV=c.cvv(),e},T=function(e,o){var r=m.deferred();return m.request({method:"GET",url:"/payment/pagarme/"+e+"/get_encryption_key",config:s}).then(function(n){window.PagarMe.encryption_key=n.key;var a=S(),i=a.fieldErrors();_.keys(i).length>0?r.reject({message:t.t("submission.card_invalid",Kr())}):a.generateHash(function(t){var n={card_hash:t,save_card:c.save().toString(),payment_card_installments:o};P(n,e).then(r.resolve)["catch"](r.reject)})})["catch"](function(e){_.isEmpty(e.message)?r.reject({message:t.t("submission.encryption_error",Kr())}):r.reject(e)}),r.promise},E=function(e,t){var o={anonymous:l.anonymous(),country_id:l.userCountryId(),payer_name:l.completeName(),payer_email:l.email(),payer_document:l.ownerDocument(),address_street:l.street(),address_number:l.number(),address_complement:l.addressComplement(),address_neighbourhood:l.neighbourhood(),address_zip_code:l.zipCode(),address_city:l.city(),address_state:l.userState(),address_phone_number:l.phone()};return m.request({method:"PUT",url:"/projects/"+t+"/contributions/"+e+".json",data:{contribution:o},config:s})},A=function(e,o,r){return function(a){if("failed"===a.payment_status){var s=a.message||t.t("submission.payment_failed",Kr());i(!1),n(t.t("submission.error",Kr({message:s}))),m.redraw(),e.reject()}else window.location.href="/projects/"+o+"/contributions/"+r}},q=function(e){return function(o){i(!1),n(t.t("submission.error",Kr({message:o.message}))),m.redraw(),e.reject()}},R=function(e,t,o,r,n){return function(){return t().id&&-1!==t().id?M(t(),n(),o).then(A(e,r,o))["catch"](q(e)):T(o,n).then(A(e,r,o))["catch"](q(e))}},D=function(e,t,o,r){var a=m.deferred();return x()?(i(!0),n(!1),m.redraw(),E(o,r).then(R(a,e,o,r,t))["catch"](function(){i(!1),a.reject()})):(i(!1),a.reject()),a.promise},F=function(e){return function(){var t=(l.errors(),_.findWhere(l.errors(),{field:e})),o=_.compose(l.errors,_.without);return o(l.errors(),t)}},O=function(e){return function(){var t=(l.errors(),_.findWhere(c.errors(),{field:e})),o=_.compose(c.errors,_.without);return o(c.errors(),t)}},N=m.prop([{value:10,number:1}]),I=function(e){return m.request({method:"GET",url:"/payment/pagarme/"+e+"/get_installment",config:Oe.setCsrfToken}).then(N)},V=_.partial(Oe.mask,"9999 9999 9999 9999"),L=_.compose(c.number,V);return p.load().then(l.countries),f.load().then(l.states),Vt.fetchUser(u.user_id,!1).then(w),{fields:l,validate:x,isInternational:h,resetFieldError:F,getSlipPaymentDate:k,installments:N,getInstallments:I,savedCreditCards:z,getSavedCreditCards:C,applyCreditCardMask:L,creditCardFields:c,resetCreditCardFieldError:O,expMonthOptions:g,expYearOptions:b,sendPayment:D,submissionError:n,isLoading:i,pagarme:r,faq:d}},Xr=_.partial(Oe.i18nScope,"projects.faq"),Qr={controller:function(o){var r=o.mode,n=o.faq.questions,a=e.prop(-1),i=e.prop(n),l=function(e){return function(){return a(e)}},c=function(e){var o=e[0],a={};_.each(n,function(e,n){_.extend(a,s.defineProperty({},n+1,{question:e.question,answer:t.t(r+".questions."+n+".answer",Xr({userLink:"/users/"+o.id,userName:o.name}))}))}),i(a)};return Vt.fetchUser(o.projectUserId,!1).then(c),{scopedQuestions:i,selectQuestion:l,selectedQuestion:a}},view:function(t,o){return e(".faq-box.w-hidden-small.w-hidden-tiny.card.u-radius",[e(".w-row.u-marginbottom-30",[e(".w-col.w-col-2.w-col-small-2.w-col-tiny-2",e("img[width='30']",{src:"aon"===o.mode?"/assets/aon-badge.png":"/assets/flex-badge.png"})),e(".w-col.w-col-10.w-col-small-10.w-col-tiny-10",e(".w-inline-block.fontsize-smallest.w-inline-block.fontcolor-secondary",o.faq.description))]),e(".u-marginbottom-20.fontsize-small.fontweight-semibold","Dúvidas frequentes"),e("ul.w-list-unstyled",_.map(t.scopedQuestions(),function(o,r){return[e("li#faq_question_"+r+".fontsize-smaller.alt-link.list-question",{onclick:t.selectQuestion(r)},e("span",[e("span.faq-box-arrow")," "+o.question])),e("li.list-answer",{"class":t.selectedQuestion()===r?"list-answer-opened":""},e("p#faq_answer_"+r+".fontsize-smaller",e.trust(o.answer)))]}))])}},Gr={controller:function(t){var o=Jr().getSlipPaymentDate(t.contribution_id),r=e.prop(!1),n=e.prop(!1),a=e.prop(!1),i=function(){r(!0),e.redraw();e.request({method:"post",url:"/payment/pagarme/"+t.contribution_id+"/pay_slip.json",dataType:"json"}).then(function(o){"failed"==o.payment_status?n(!0):o.boleto_url&&(a(!0),window.location.href="/projects/"+t.project_id+"/contributions/"+t.contribution_id),r(!1),e.redraw()})["catch"](function(t){n(!0),r(!1),e.redraw()});return!1};return{buildSlip:i,slipPaymentDate:o,loading:r,completed:a,error:n}},view:function(t,o){return e(".w-row",e(".w-col.w-col-12",e(".u-margintop-30.u-marginbottom-60.u-radius.card-big.card",[e(".fontsize-small.u-marginbottom-20",t.slipPaymentDate()?"Esse boleto bancário vence no dia "+Oe.momentify(t.slipPaymentDate().slip_expiration_date)+".":"carregando..."),e(".fontsize-small.u-marginbottom-40","Ao gerar o boleto, o realizador já está contando com o seu apoio. Pague até a data de vencimento pela internet, casas lotéricas, caixas eletrônicos ou agência bancária."),e(".w-row",e(".w-col.w-col-8.w-col-push-2",[t.loading()?Oe.loader():t.completed()?"":e("input.btn.btn-large.u-marginbottom-20",{onclick:t.buildSlip,value:"Imprimir Boleto",type:"submit"}),t.error()?e.component(Br,{message:"Ocorreu um erro ao tentar gerar o boleto. Por favor, tente novamente em alguns instantes."}):"",e(".fontsize-smallest.u-text-center.u-marginbottom-30",["Ao apoiar, você concorda com os ",e("a.alt-link[href='/pt/terms-of-use']","Termos de Uso "),"e ",e("a.alt-link[href='/pt/privacy-policy']","Política de Privacidade")])]))])))}},Zr=/(\d{1,4})/g,en=[].indexOf||function(e){for(var t=0,o=this.length;o>t;t++)if(t in this&&this[t]===e)return t;return-1},tn=[{type:"elo",patterns:[401178,401179,431274,438935,451416,457393,457631,457632,504175,506699,5067,509,627780,636297,636368,650,6516,6550],format:Zr,length:[16],cvvLength:[3],luhn:!0},{type:"maestro",patterns:[5018,502,503,506,56,58,639,6220,67],format:Zr,length:[12,13,14,15,16,17,18,19],cvvLength:[3],luhn:!0},{type:"forbrugsforeningen",patterns:[600],format:Zr,length:[16],cvvLength:[3],luhn:!0},{type:"dankort",patterns:[5019],format:Zr,length:[16],cvvLength:[3],luhn:!0},{type:"visa",patterns:[4],format:Zr,length:[13,16],cvvLength:[3],luhn:!0},{type:"mastercard",patterns:[51,52,53,54,55,22,23,24,25,26,27],format:Zr,length:[16],cvvLength:[3],luhn:!0},{type:"amex",patterns:[34,37],format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,length:[15],cvvLength:[3,4],luhn:!0},{type:"dinersclub",patterns:[30,36,38,39],format:/(\d{1,4})(\d{1,6})?(\d{1,4})?/,length:[14],cvvLength:[3],luhn:!0},{type:"discover",patterns:[60,64,65,622],format:Zr,length:[16],cvvLength:[3],luhn:!0},{type:"unionpay",patterns:[62,88],format:Zr,length:[16,17,18,19],cvvLength:[3],luhn:!1},{type:"jcb",patterns:[35],format:Zr,length:[16],cvvLength:[3],luhn:!0}],on=function(e){var t;return e?(null!=(t=mn(e))?t.type:void 0)||null:null},rn=function(e){var t=void 0,o=void 0,r=void 0;for(o=0,r=tn.length;r>o;o++)if(t=tn[o],t.type===e)return t},nn=function(e,t){var o=void 0,r=void 0,n=void 0;return o=e.currentTarget,n=o.value,r=on(n)||"unknown",t(r)},an=function(e,t){var o,r;return o=e.currentTarget,r=o.value,8!==e.which||null!=o.selectionStart&&o.selectionStart!==r.length?void 0:/\d\s$/.test(r)?(e.preventDefault(),setTimeout(function(){return o.value=t(r.replace(/\d\s$/,""))})):/\s\d?$/.test(r)?(e.preventDefault(),setTimeout(function(){return o.value=t(r.replace(/\d$/,""))})):void 0},sn=function(e){var t,o,r,n,a,i,s,l;for(null==e&&(e=""),r="０１２３４５６７８９",n="0123456789",l="",t=e.split(""),a=0,s=t.length;s>a;a++)o=t[a],i=r.indexOf(o),i>-1&&(o=n[i]),l+=o;return l},ln=function(e,t,o){var r,n,a,i,s,l,c;try{n=t.selectionStart}catch(s){i=s,n=null}return l=t.value,t.value=o(e),null!==n&&t===document.activeElement?(n===l.length&&(n=e.length),l!==e&&(c=l.slice(n-1,+n+1||9e9),r=e.slice(n-1,+n+1||9e9),a=e[n],/\d/.test(a)&&c===a+" "&&r===" "+a&&(n+=1)),t.selectionStart=n,t.selectionEnd=n):void 0},cn=function(e,t){var o=e.currentTarget;return setTimeout(function(){var e;return e=o.value,e=sn(e),e=dn(e),ln(e,o,t)})},dn=function(e){var t=void 0,o=void 0,r=void 0,a=void 0;return e=e.replace(/\D/g,""),(t=mn(e))?(a=t.length[t.length.length-1],e=e.slice(0,a),t.format.global?null!=(r=e.match(t.format))?r.join(" "):void 0:(o=t.format.exec(e),null!=o?(o.shift(),o=n.filter(o,function(e){return e}),o.join(" ")):void 0)):e},un=function(e,t){var o=void 0,r=void 0,n=void 0,a=void 0,i=void 0,s=void 0,l=void 0;return n=String.fromCharCode(e.which),!/^\d+$/.test(n)||(o=e.currentTarget,l=o.value,r=mn(l+n),a=(l.replace(/\D/g,"")+n).length,s=16,r&&(s=r.length[r.length.length-1]),a>=s||null!=o.selectionStart&&o.selectionStart!==l.length)?void 0:(i=r&&"amex"===r.type?/^(\d{4}|\d{4}\s\d{6})$/:/(?:^|\s)(\d{4})$/,i.test(l)?(e.preventDefault(),setTimeout(function(){return o.value=t(l+" "+n)})):i.test(l+n)?(e.preventDefault(),setTimeout(function(){return o.value=t(l+n+" ")})):void 0)},mn=function(e){var t=void 0,o=void 0,r=void 0,n=void 0,a=void 0,i=void 0,s=void 0,l=void 0;for(e=(e+"").replace(/\D/g,""),o=0,n=tn.length;n>o;o++)for(t=tn[o],l=t.patterns,r=0,a=l.length;a>r;r++)if(s=l[r],i=s+"",e.substr(0,i.length)===i)return t},pn=function(e){var t=void 0;return null!=e.selectionStart&&e.selectionStart!==e.selectionEnd?!0:null!=("undefined"!=typeof document&&null!==document&&null!=(t=document.selection)?t.createRange:void 0)&&document.selection.createRange().text?!0:!1},fn=function(e){var t=void 0;return e.metaKey||e.ctrlKey?!0:32===e.which?!1:0===e.which?!0:e.which<33?!0:(t=String.fromCharCode(e.which),!!/[\d\s]/.test(t))},wn=function(e){var t=void 0,o=void 0,r=void 0,n=void 0;return t=e.currentTarget,r=String.fromCharCode(e.which),/^\d+$/.test(r)&&!pn(t)?(n=(t.value+r).replace(/\D/g,""),o=mn(n),o?n.length<=o.length[o.length.length-1]:n.length<=16):void 0},gn=function(e,t,o){e.onkeypress=function(e){fn(e),wn(e),un(e,o)},e.oninput=function(e){cn(e,o),nn(e,t)},e.onkeydown=function(e){return an(e,o)},e.onkeyup=function(e){nn(e,t)},e.onpaste=function(e){return cn(e,o)},e.onchange=function(e){CatarseAnalytics.oneTimeEvent({cat:"contribution_finish",act:"contribution_cc_edit"}),cn(e,o)}},bn=function(e){var t,o,r,n,a,i;for(a=!0,i=0,o=(e+"").split("").reverse(),r=0,n=o.length;n>r;r++)t=o[r],t=parseInt(t,10),(a=!a)&&(t*=2),t>9&&(t-=9),i+=t;return i%10===0},hn=function(e){var t=void 0,o=void 0;return e=(e+"").replace(/\s+|-/g,""),/^\d+$/.test(e)?(t=mn(e),t?(o=e.length,en.call(t.length,o)>=0&&(t.luhn===!1||bn(e))):!1):!1},vn=function(e,t){var o,r,n;return"object"===("undefined"==typeof e?"undefined":s["typeof"](e))&&"month"in e&&(n=e,e=n.month,t=n.year),e&&t?(e=String(e).trim(),t=String(t).trim(),/^\d+$/.test(e)&&/^\d+$/.test(t)&&e>=1&&12>=e?(2===t.length&&(t=70>t?"20"+t:"19"+t),4!==t.length?!1:(r=new Date(t,e),o=new Date,r.setMonth(r.getMonth()-1),r.setMonth(r.getMonth()+1,1),r>o)):!1):!1},_n=function(e,t){var o=void 0,r=void 0;return e=String(e).trim(),/^\d+$/.test(e)?(o=rn(t),null!=o?(r=e.length,en.call(o.cvvLength,r)>=0):e.length>=3&&e.length<=4):!1},yn={setEvents:gn,validateCardNumber:hn,validateCardcvv:_n,validateCardExpiry:vn},jn={controller:function(t){var o=t.type||e.prop("unknown"),r=function(e,r){r||yn.setEvents(e,o,t.value)};return{setCreditCardHandlers:r,cardType:o}},view:function(t,o){return e('input.w-input.text-field[name="'+o.name+'"][required="required"][type="tel"]',{onfocus:o.onfocus,"class":o["class"],config:t.setCreditCardHandlers,onblur:o.onblur})}},xn=n.partial(Oe.i18nScope,"projects.contributions.edit.errors"),kn={controller:function(t){var o=t.vm,r=e.prop(!0),a=e.prop(!0),i=e.prop({id:-1}),s=e.prop("1"),l=e.prop(!1),c=e.prop("unknown"),d=(e.prop([]),function(){return-1===i().id?(m(),p(),f(),w()):o.creditCardFields.errors([]),0===o.creditCardFields.errors().length&&o.sendPayment(i,s,t.contribution_id,t.project_id),!1}),u=function(e,t){if(e){var r=n.reject(o.creditCardFields.errors(),function(e){return n.isEqual(e,t)});o.creditCardFields.errors(r)}else o.creditCardFields.errors().push(t)},m=function(){var e=yn.validateCardcvv(o.creditCardFields.cvv(),c()),t={field:"cvv",message:I18n.t("inline.creditcard_cvv",xn())};return u(e,t),e},p=function(){var e=yn.validateCardExpiry(o.creditCardFields.expMonth(),o.creditCardFields.expYear()),t={field:"expiry",message:I18n.t("inline.creditcard_expiry",xn())};return u(e,t),e},f=function(){var e=yn.validateCardNumber(o.creditCardFields.number()),t={field:"number",message:I18n.t("inline.creditcard_number",xn())};return u(e,t),e},w=function(){var e=o.creditCardFields.name().replace(/ /g,""),t=/^[a-zA-Z]*$/,r={field:"name",message:I18n.t("inline.creditcard_name",xn())},a=!(n.isEmpty(e)||!t.test(e));return u(a,r),a},g=n.compose(o.creditCardFields.name,Oe.noNumbersMask),b=function(e){var t=Oe.numbersOnlyMask(e.substr(0,4));return o.creditCardFields.cvv(t)},h=function(t){var r=n.findWhere(o.creditCardFields.errors(),{field:t});return r?e.component(Br,{message:r.message}):""},v=function(t){return e.component(no,{el:".tooltip-wrapper.fa.fa-question-circle.fontcolor-secondary",text:t,width:380})},_=function(e,t){return i()===e},y=function(e,t){if(!t){var r=document.createElement("script");r.src="//assets.pagar.me/js/pagarme.min.js",document.body.appendChild(r),r.onload=function(){o.pagarme(window.PagarMe)}}},j=function(e){i(e),l(-1===e.id?!0:!1)};return o.getInstallments(t.contribution_id).then(function(){r(!1),e.redraw()}),o.getSavedCreditCards(t.user_id).then(function(t){a(!1),j(t[0]),e.redraw()}),{vm:o,onSubmit:d,fieldHasError:h,buildTooltip:v,loadingInstallments:r,loadingSavedCreditCards:a,installments:o.installments,selectedInstallment:s,savedCreditCards:o.savedCreditCards,creditCard:o.creditCardFields,creditCardType:c,checkCreditCard:f,checkCreditCardName:w,applyCreditCardNameMask:g,applyCreditCardMask:o.applyCreditCardMask,applyCvvMask:b,checkcvv:m,selectCreditCard:j,isCreditCardSelected:_,expMonths:o.expMonthOptions(),expYears:o.expYearOptions(),loadPagarme:y,showForm:l}},view:function(t,o){return e(".w-form.u-marginbottom-40",{config:t.loadPagarme},[e('form[name="email-form"]',{onsubmit:t.onSubmit},[!t.loadingSavedCreditCards()&&t.savedCreditCards().length>1?e(".my-credit-cards.w-form.back-payment-form-creditcard.records-choice.u-marginbottom-40",n.map(t.savedCreditCards(),function(o,r){return e("div#credit-card-record-"+r+".w-row.creditcard-records",{style:"cursor:pointer;",onclick:function(){return t.selectCreditCard(o)}},[e(".w-col.w-col-1.w-sub-col",e(".w-radio.w-clearfix.back-payment-credit-card-radio-field",e("input",{checked:t.isCreditCardSelected(o,r),name:"payment_subscription_card",type:"radio",value:o.card_key}))),-1===o.id?e(".w-col.w-col-11",e(".fontsize-small.fontweight-semibold.fontcolor-secondary","Usar outro cartão de crédito.")):[e(".w-col.w-col-2.w-sub-col.w-sub-col-middle",e(".fontsize-small.fontweight-semibold.text-success",o.card_brand.toUpperCase())),e(".w-col.w-col-5.w-sub-col.w-sub-col-middle",e(".fontsize-small.fontweight-semibold.u-marginbottom-20","XXXX.XXXX.XXXX."+o.last_digits)),e(".w-col.w-col-4",t.loadingInstallments()||t.installments().length<=1?"":e("select.w-select.text-field.text-field-creditcard",{onchange:e.withAttr("value",t.selectedInstallment),value:t.selectedInstallment()},n.map(t.installments(),function(t){return e('option[value="'+t.number+'"]',t.number+" X R$ "+t.amount)})))]])})):t.loadingSavedCreditCards()?e(".fontsize-small.u-marginbottom-40","Carregando informações de cartão..."):"",t.showForm()?e("#credit-card-payment-form.u-marginbottom-40",[e("div#credit-card-name",[e('label.field-label.fontweight-semibold[for="credit-card-name"]',"Nome no cartão de crédito *"),e(".fontsize-smallest.fontcolor-terciary.u-marginbottom-10.field-label-tip.u-marginbottom-10","Nome impresso na frente do seu cartão de crédito"),e('input.w-input.text-field[name="credit-card-name"][required="required"][type="text"]',{onfocus:t.vm.resetCreditCardFieldError("name"),"class":t.fieldHasError("name")?"error":"",onblur:t.checkCreditCardName,onkeyup:e.withAttr("value",t.applyCreditCardNameMask),value:t.creditCard.name()}),t.fieldHasError("name")]),e("div#credit-card-number",[e('label.field-label.fontweight-semibold[for="credit-card-number"]',"Número do cartão de crédito *"),e(".fontsize-smallest.fontcolor-terciary.u-marginbottom-10.field-label-tip.u-marginbottom-10","O número normalmente com 16 dígitos na frente do seu cartão de crédito"),e.component(jn,{onfocus:t.vm.resetCreditCardFieldError("number"),onblur:t.checkCreditCard,"class":t.fieldHasError("number")?"error":"",value:t.creditCard.number,name:"credit-card-number",type:t.creditCardType}),t.fieldHasError("number")]),e("div#credit-card-date",[e('label.field-label.fontweight-semibold[for="expiration-date"]',["Expiração (mm/aaaa)* "]),e(".fontsize-smallest.fontcolor-terciary.u-marginbottom-10.field-label-tip.u-marginbottom-10","A data de validade, geralmente na frente do cartão"),e(".w-row",[e(".w-col.w-col-6.w-col-tiny-6.w-sub-col-middle",e('select.w-select.text-field[name="expiration-date_month"]',{onfocus:t.vm.resetCreditCardFieldError("expiry"),"class":t.fieldHasError("expiry")?"error":"",onchange:e.withAttr("value",t.creditCard.expMonth),value:t.creditCard.expMonth()},n.map(t.expMonths,function(t){return e("option",{value:t[0]},t[1])}))),e(".w-col.w-col-6.w-col-tiny-6",e('select.w-select.text-field[name="expiration-date_year"]',{onfocus:t.vm.resetCreditCardFieldError("expiry"),"class":t.fieldHasError("expiry")?"error":"",onchange:e.withAttr("value",t.creditCard.expYear),value:t.creditCard.expYear()},n.map(t.expYears,function(t){return e("option",{value:t},t)}))),e(".w-col.w-col-12",t.fieldHasError("expiry"))])]),e("div#credit-card-cvv",[e('label.field-label.fontweight-semibold[for="credit-card-cvv"]',["Código de Segurança (CVV / CVV2)* ",t.buildTooltip("Os 3 ou 4 dígitos que estão nas costas dos cartões VISA, MASTER, DINERS, ELO e na frente do cartão AMEX.")]),e(".fontsize-smallest.fontcolor-terciary.u-marginbottom-10.field-label-tip.u-marginbottom-10","Os 3 dígitos (quando na frente) ou 4 dígitos (quando atrás) do seu cartão"),e(".w-row",[e(".w-col.w-col-8.w-col-tiny-6.w-sub-col-middle",e('input.w-input.text-field[name="credit-card-cvv"][required="required"][type="tel"]',{
onfocus:t.vm.resetCreditCardFieldError("cvv"),"class":t.fieldHasError("cvv")?"error":"",onkeyup:e.withAttr("value",t.applyCvvMask),onblur:t.checkcvv,value:t.creditCard.cvv()}),t.fieldHasError("cvv")),e(".w-col.w-col-4.w-col-tiny-6.u-text-center",e('img[src="https://daks2k3a4ib2z.cloudfront.net/54b440b85608e3f4389db387/57298c1c7e99926e77127bdd_cvv-card.jpg"][width="176"]'))])]),t.loadingInstallments()||t.installments().length<=1?"":e(".w-row",[e(".w-col.w-col-6",[e('label.field-label.fontweight-semibold[for="split"]',"Parcelas"),e('select.w-select.text-field[name="split"]',{onchange:e.withAttr("value",t.selectedInstallment),value:t.selectedInstallment()},n.map(t.installments(),function(t){return e('option[value="'+t.number+'"]',t.number+" X R$ "+t.amount)}))]),e(".w-col.w-col-6")]),e(".w-checkbox.w-clearfix",[e('input#payment_save_card.w-checkbox-input[type="checkbox"][name="payment_save_card"]',{onchange:e.withAttr("checked",t.creditCard.save),checked:t.creditCard.save()}),e('label.w-form-label[for="payment_save_card"]',"Quero salvar meu cartão de crédito para facilitar apoios futuros.")])]):"",e(".w-row",[e(".w-col.w-col-8.w-col-push-2",[n.isEmpty(t.vm.submissionError())?"":e(".card.card-error.u-radius.zindex-10.u-marginbottom-30.fontsize-smaller",e(".u-marginbottom-10.fontweight-bold",e.trust(t.vm.submissionError()))),t.vm.isLoading()?Oe.loader():e('input.btn.btn-large.u-marginbottom-20[type="submit"]',{value:"Finalizar pagamento"},""),e(".fontsize-smallest.u-text-center.u-marginbottom-30",["Ao apoiar, você concorda com os ",e("a.alt-link[href='/pt/terms-of-use']","Termos de Uso "),"e ",e("a.alt-link[href='/pt/privacy-policy']","Política de Privacidade")])])])])])}},zn={controller:function(){return{toggleBoleto:Oe.toggleProp(!1,!0)}},view:function(t,o){return e("#catarse_pagarme_form",[e(".u-text-center-small-only.u-marginbottom-30",[e(".fontsize-large.fontweight-semibold","Escolha o meio de pagamento"),e(".fontsize-smallest.fontcolor-secondary.fontweight-semibold",[e("span.fa.fa-lock")," PAGAMENTO SEGURO"])]),e(".flex-row.u-marginbottom-40",[e("a.w-inline-block.btn-select.flex-column.u-marginbottom-20.u-text-center[href='javascript:void(0);']",{onclick:t.toggleBoleto.toggle,"class":t.toggleBoleto()?"":"selected"},[e(".fontsize-base.fontweight-semibold","Cartão de crédito"),e(".fontcolor-secondary.fontsize-smallest.u-marginbottom-20","(não aceitamos cartão de débito)"),e("img[src='https://daks2k3a4ib2z.cloudfront.net/54b440b85608e3f4389db387/57299bd8f326a24d4828a0fd_credit-cards.png']")]),o.vm.isInternational()?e(".flex-column"):e("a.w-inline-block.btn-select.flex-column.u-marginbottom-20.u-text-center[href='javascript:void(0);']",{onclick:t.toggleBoleto.toggle,"class":t.toggleBoleto()?"selected":""},[e(".fontsize-base.fontweight-semibold.u-marginbottom-20","Boleto bancário"),e("img[src='https://daks2k3a4ib2z.cloudfront.net/54b440b85608e3f4389db387/57299c6ef96a6e44489a7a07_boleto.png'][width='48']")])]),t.toggleBoleto()?o.vm.isInternational()?"":e("#boleto-section",[e.component(Gr,{contribution_id:o.contribution_id,project_id:o.project_id})]):e("#credit-card-section",[e.component(kn,{vm:o.vm,contribution_id:o.contribution_id,project_id:o.project_id,user_id:o.user_id})])])}},Cn=_.partial(Oe.i18nScope,"projects.contributions"),Pn={controller:function(t){var o=Qt.getCurrentProject(),r=o.mode,n=o.user.id,a=Jr(r),i=e.prop(!1),s=Sr.getCurrentContribution(),l=e.prop(s().reward),c=s().value,d=_.partial(Oe.mask,"(99) 9999-99999"),u=_.partial(Oe.mask,"999.999.999-99"),m=_.partial(Oe.mask,"99999-999"),p=function(){a.validate()&&i(!0)},f=function(t){var o=_.findWhere(a.fields.errors(),{field:t});return o?e.component(Br,{message:o.message}):""},w=function(e,t){t||a.fields.userState("")},g=_.compose(a.fields.ownerDocument,u),b=_.compose(a.fields.zipCode,m),h=_.compose(a.fields.phone,d),v=function(e){return function(t){CatarseAnalytics.oneTimeEvent({cat:"contribution_finish",act:a.isInternational?"contribution_address_br":"contribution_address_int"}),_.isFunction(e)&&e(t)}};return Oe.getUser()?{addressChange:v,applyDocumentMask:g,applyZipcodeMask:b,applyPhoneMask:h,fieldHasError:f,setStateOther:w,validateForm:p,projectUserId:n,showPaymentForm:i,contribution:s,reward:l,value:c,mode:r,vm:a}:Oe.navigateToDevise()},view:function(o,r){return e(".w-section.w-clearfix.section",[e(".w-col",e(".w-clearfix.w-hidden-main.w-hidden-medium.card.u-radius.u-marginbottom-20",[e(".fontsize-smaller.fontweight-semibold","Valor do apoio"),e("a.w-inline-block.arrow-admin.fa.fa-chevron-down.fontcolor-secondary[href='#']"),e(".w-clearfix.u-marginbottom-20",e(".fontsize-larger.text-success.u-left","R$ "+Number(o.value).toFixed())),e(".w-clearfix.back-payment-info-reward",{style:{display:"none"}},[e(".fontsize-smaller.fontweight-semibold.u-marginbottom-10","Recompensa selecionada"),e(".fontsize-smallest",""+o.reward().description),e('a.fontsize-small.link-hidden.u-right.fontweight-semibold[href="/projects/'+Qt.currentProject().project_id+'/contributions/new"]',"Editar")])])),e(".w-container",e(".w-row",[e(".w-col.w-col-8",[_.isEmpty(o.vm.fields.errors())?"":e(".card.card-error.u-radius.zindex-10.u-marginbottom-30.fontsize-smaller[data-ix='display-none-on-load']",e(".u-marginbottom-10.fontweight-bold",["Por favor, reveja os campos abaixo antes de prosseguir",e(".errors",_.map(o.vm.fields.errors(),function(t){return e("p",t.message)}))])),e(".w-form",[e("form.u-marginbottom-40[data-name='Email Form'][id='email-form'][name='email-form']",[e(".u-marginbottom-40.u-text-center-small-only",[e(".fontweight-semibold.lineheight-tight.fontsize-large","Dados de contato e endereço"),e(".fontsize-smaller","* Preenchimento obrigatório")]),e(".w-row",[e(".w-col.w-col-7.w-sub-col",[e("label.field-label.fontweight-semibold[for='complete-name']","Nome completo *"),e("input.w-input.text-field[id='complete-name'][name='complete-name']",{onfocus:o.vm.resetFieldError("completeName"),"class":o.fieldHasError("completeName")?"error":!1,type:"text",onchange:e.withAttr("value",o.vm.fields.completeName),value:o.vm.fields.completeName(),required:"required",placeholder:"Nome Completo"}),o.fieldHasError("completeName")]),e(".w-col.w-col-5",[e("label.field-label.fontweight-semibold[for='email']","Email *"),e("input.w-input.text-field[id='email']",{onfocus:o.vm.resetFieldError("email"),"class":o.fieldHasError("email")?"error":!1,type:"email",onchange:e.withAttr("value",o.vm.fields.email),value:o.vm.fields.email(),required:"required",placeholder:"email@catarse.me"}),o.fieldHasError("email")])]),e(".w-checkbox.w-clearfix",[e("input.w-checkbox-input[id='anonymous'][name='anonymous'][type='checkbox']",{onclick:function(){return CatarseAnalytics.event({cat:"contribution_finish",act:"contribution_anonymous_change"})},onchange:e.withAttr("value",o.vm.fields.anonymous),checked:o.vm.fields.anonymous()}),e("label.w-form-label.fontsize-smallest[for='anonymous']","Quero que meu apoio não fique público")]),o.vm.fields.anonymous()?e(".card.card-message.u-radius.zindex-10.fontsize-smallest",e("div",[e("span.fontweight-bold",[t.t("edit.anonymous_confirmation_title",Cn()),e("br")]),e("br"),t.t("edit.anonymous_confirmation",Cn())])):""])]),e(".u-marginbottom-40",e(".w-form",[e(".w-row",[e(".w-col.w-col-6.w-sub-col",[e("label.field-label.fontweight-semibold[for='country']","País *"),e("select.w-select.text-field[id='country']",{onchange:e.withAttr("value",o.vm.fields.userCountryId),value:o.vm.fields.userCountryId()},_.map(o.vm.fields.countries(),function(t,r){return e("option",{value:t.id,key:r,selected:t.id===o.vm.fields.userCountryId()},t.name)}))]),e(".w-col.w-col-6",[e("label.field-label.fontweight-semibold[for='zip-code']",o.vm.isInternational()?"ZIP":"CEP"),e("input.w-input.text-field[id='zip-code']",{type:"tel",onchange:o.addressChange(),onkeyup:e.withAttr("value",function(e){return o.vm.isInternational()?o.vm.fields.zipCode(e):o.applyZipcodeMask(e)}),value:o.vm.fields.zipCode(),placeholder:"42100000"})])]),e(".w-row",[e(".w-col.w-col-6.w-sub-col",[e("label.field-label.fontweight-semibold[for='street']","Rua *"),e("input.w-input.text-field[id='street']",{onfocus:o.vm.resetFieldError("street"),"class":o.fieldHasError("street")?"error":!1,type:"text",onchange:o.addressChange(e.withAttr("value",o.vm.fields.street)),value:o.vm.fields.street(),required:"required",placeholder:"Rua Da Minha Casa"}),o.fieldHasError("street")]),e(".w-col.w-col-6",e(".w-row",[e(".w-col.w-col-6.w-col-small-6.w-col-tiny-6.w-sub-col-middle",[e("label.field-label.fontweight-semibold[for='number']","Número *"),e("input.w-input.text-field[id='number']",{onfocus:o.vm.resetFieldError("number"),"class":o.fieldHasError("number")?"error":!1,type:"text",onchange:o.addressChange(e.withAttr("value",o.vm.fields.number)),value:o.vm.fields.number(),required:"required",placeholder:"421"}),o.fieldHasError("number")]),e(".w-col.w-col-6.w-col-small-6.w-col-tiny-6",[e("label.field-label.fontweight-semibold[for='address-complement']","Complemento"),e("input.w-input.text-field[id='address-complement']",{onfocus:o.vm.resetFieldError("addressComplement"),"class":o.fieldHasError("addressComplement")?"error":!1,type:"text",onchange:o.addressChange(e.withAttr("value",o.vm.fields.addressComplement)),value:o.vm.fields.addressComplement(),placeholder:"Residencial 123"}),o.fieldHasError("addressComplement")])]))]),e(".w-row",[e(".w-col.w-col-4.w-sub-col",[e("label.field-label.fontweight-semibold[for='neighbourhood']","Bairro "+(o.vm.isInternational()?"":"*")),e("input.w-input.text-field[id='neighbourhood']",{onfocus:o.vm.resetFieldError("neighbourhood"),"class":o.fieldHasError("neighbourhood")?"error":!1,type:"text",onchange:o.addressChange(e.withAttr("value",o.vm.fields.neighbourhood)),value:o.vm.fields.neighbourhood(),required:!o.vm.isInternational(),placeholder:"São José"}),o.fieldHasError("neighbourhood")]),e(".w-col.w-col-4.w-sub-col",[e("label.field-label.fontweight-semibold[for='city']","Cidade *"),e("input.w-input.text-field[id='city']",{onfocus:o.vm.resetFieldError("city"),"class":o.fieldHasError("city")?"error":!1,type:"text",onchange:o.addressChange(e.withAttr("value",o.vm.fields.city)),value:o.vm.fields.city(),required:"required",placeholder:"Cidade"}),o.fieldHasError("city")]),e(".w-col.w-col-4",[e("label.field-label.fontweight-semibold[for='state']","Estado *"),e("select.w-select.text-field[id='state']",{onchange:o.addressChange(e.withAttr("value",o.vm.fields.userState)),value:o.vm.fields.userState()},o.vm.isInternational()?e("option",{value:"",config:o.setStateOther,selected:!0},"Outro/Other"):_.map(o.vm.fields.states(),function(t,r){return e("option",{value:t.acronym,selected:t.acronym===o.vm.fields.userState()},t.name)}))])]),o.vm.isInternational()?"":e(".w-row",[e(".w-col.w-col-6.w-sub-col",[e("label.field-label.fontweight-semibold[for='document']","CPF *"),e("input.w-input.text-field[id='document']",{onfocus:o.vm.resetFieldError("ownerDocument"),"class":o.fieldHasError("ownerDocument")?"error":!1,type:"tel",onkeyup:e.withAttr("value",o.applyDocumentMask),value:o.vm.fields.ownerDocument(),required:"required"}),o.fieldHasError("ownerDocument")]),e(".w-col.w-col-6",[e("label.field-label.fontweight-semibold[for='phone']","Telefone *"),e("input.w-input.text-field[id='phone']",{onfocus:o.vm.resetFieldError("phone"),"class":o.fieldHasError("phone")?"error":!1,type:"tel",onkeyup:e.withAttr("value",o.applyPhoneMask),value:o.vm.fields.phone(),required:"required"}),o.fieldHasError("phone")])])])),e(".w-row.u-marginbottom-40",e(".w-col.w-col-push-3.w-col-6",e("button.btn.btn-large",{onclick:function(){return CatarseAnalytics.event({cat:"contribution_finish",act:"contribution_next_click"},o.validateForm)}},"Próximo passo"))),o.showPaymentForm()?e.component(zn,{vm:o.vm,contribution_id:o.contribution().id,project_id:Qt.currentProject().project_id,user_id:Oe.getUser().user_id}):""]),e(".w-col.w-col-4",[e(".w-hidden-small.w-hidden-tiny.card.u-radius.u-marginbottom-20",[e(".fontsize-smaller.fontweight-semibold.u-marginbottom-20","Valor do apoio"),e(".w-clearfix.u-marginbottom-20",[e(".fontsize-larger.text-success.u-left","R$ "+Number(o.value).toFixed()),e('a.fontsize-small.link-hidden.u-right.fontweight-semibold[href="/projects/'+Qt.currentProject().project_id+"/contributions/new"+(o.reward().id?"?reward_id="+o.reward().id:"")+'"]',"Editar")]),e(".back-payment-info-reward",[e(".fontsize-smaller.fontweight-semibold.u-marginbottom-10","Recompensa selecionada"),e(".fontsize-smallest",o.reward().description?o.reward().description:"Você irá apoiar com R$ "+Number(o.value).toFixed()+" e não quer nenhuma recompensa por seu apoio.")])]),e.component(Qr,{mode:o.mode,faq:o.vm.faq,projectUserId:o.projectUserId})])]))])}},Mn={controller:function(o){var r=Et,a=r.selectedReward,i=r.selectReward,s=r.rewards(),l=Qt.currentProject().mode,c=t.translations[t.currentLocale()].projects.faq[l],d=function(){var t=Oe.monetaryToFloat(r.contributionValue);if(t<r.selectedReward().minimum_value)r.error("O valor de apoio para essa recompensa deve ser de no mínimo R$"+r.selectedReward().minimum_value);else{if(!Oe.getUser())return Oe.storeObject(storeKey,{value:t,reward:r.selectedReward()}),Oe.navigateToDevise("/"+Qt.currentProject().permalink);r.error(""),r.contributionValue(t),e.route("/projects/"+Qt.currentproject().project_id+"/payment",{project_user_id:Qt.currentProject().user_id})}return!1},u=function(e){return e.id===a().id};return n.first(s).id!==r.noReward.id&&s.unshift(r.noReward),{rewards:s,project:Qt.currentProject,contributionValue:r.contributionValue,submitContribution:d,applyMask:r.applyMask,error:r.error,isSelected:u,selectedReward:a,selectReward:i,faq:c}},view:function(t,o){var r=t.project;return e("#project-rewards",[e(".w-section.page-header.u-text-center",[e(".w-container",[e('h1.fontsize-larger.fontweight-semibold.project-name[itemprop="name"]',Oe.selfOrEmpty(r().name||r().project_name)),e('h2.fontsize-base.lineheight-looser[itemprop="author"]',["por ",r().user?r().user.name:r().owner_name?r().owner_name:""])])]),e(".w-section.header-cont-new",e(".w-container",e(".fontweight-semibold.lineheight-tight.text-success.fontsize-large.u-text-center-small-only","Escolha a recompensa e em seguida o valor do apoio"))),e(".section[id='new-contribution']",e(".w-container",e(".w-row",[e(".w-col.w-col-8",e(".w-form.back-reward-form",e("form.simple_form.new_contribution",{onsubmit:t.submitContribution},n.map(t.rewards,function(o,r){var n=t.isSelected(o),a=Oe.applyMonetaryMask(o.minimum_value);return e("span.radio.w-radio.w-clearfix.back-reward-radio-reward",{"class":n?"selected":"",onclick:t.selectReward(o),key:r},e("label[for='contribution_reward_id_"+o.id+"']",[e("input.radio_buttons.optional.w-input.text-field.w-radio-input.back-reward-radio-button[id='contribution_reward_id_"+o.id+"'][name='contribution[reward_id]'][type='radio'][value='"+o.id+"']",{checked:n?!0:!1}),e("label.w-form-label.fontsize-base.fontweight-semibold.u-marginbottom-10[for='contribution_reward_"+o.id+"']",-1===o.id?"Não quero recompensa":"R$ "+o.minimum_value+" ou mais"),n?e(".w-row.back-reward-money",[e(".w-col.w-col-8.w-col-small-8.w-col-tiny-8.w-sub-col-middle.w-clearfix",[e(".w-row",[e(".w-col.w-col-3.w-col-small-3.w-col-tiny-3",e(".back-reward-input-reward.placeholder","R$")),e(".w-col.w-col-9.w-col-small-9.w-col-tiny-9",e("input.user-reward-value.back-reward-input-reward[autocomplete='off'][type='tel']",{"class":t.error()?"error":"",min:a,placeholder:a,onkeyup:e.withAttr("value",t.applyMask),value:t.contributionValue()}))]),t.error().length>0?e(".text-error",[e("br"),e("span.fa.fa-exclamation-triangle")," "+t.error()]):""]),e(".submit-form.w-col.w-col-4.w-col-small-4.w-col-tiny-4",e("button.btn.btn-large",["Continuar  ",e("span.fa.fa-chevron-right")]))]):"",e(".back-reward-reward-description",[e(".fontsize-smaller.u-marginbottom-10",o.description),o.deliver_at?e(".fontsize-smallest.fontcolor-secondary","Estimativa de entrega: "+Oe.momentify(o.deliver_at,"MMM/YYYY")):""])]))})))),e(".w-col.w-col-4",e.component(Qr,{mode:t.project().mode,faq:t.faq}))])))])}},Sn=n.partial(Oe.i18nScope,"projects.publish"),Tn={controller:function(t){var o=postgrest.filtersVM({project_id:"eq"}),r=e.prop([]),a=e.prop([]),i=e.prop([!0,!0,!0,!0,!0,!0,!0,!0,!0]),s=e.prop([!0,!0,!0,!0,!0,!0,!0,!0,!0]),l=function(e,t){var o=t();if(o[e]){o[e]=!1,t(o);var r=document.getElementsByClassName("w-hidden publish-rules");void 0!==r[0]&&r[0].classList.remove("w-hidden")}e===o.length-1&&document.getElementsByClassName("publish-btn-section")[0].classList.remove("w-hidden")},c=postgrest.loaderWithToken;o.project_id(t.root.getAttribute("data-id"));var d=c(Ne.projectDetail.getRowOptions(o.parameters())),u=c(Ne.projectAccount.getRowOptions(o.parameters()));d.load().then(a),u.load().then(r);var m=function(){var e=n.first(a());return moment().add(e.online_days,"days")};return{l:d,accountL:u,expiresAt:m,filtersVM:o,acceptTerm:i,flexAcceptTerm:s,showNextTerm:l,projectAccount:r,projectDetails:a}},view:function(o,r){var a=n.first(o.projectDetails()),i=n.first(o.projectAccount()),s=function(t){return[e(".w-col.w-col-11",[e("div",[e("span.fontsize-smallest.fontcolor-secondary","1/9")," ",e("span.fontweight-semibold","Regras da modalidade FLEX")]),e("div","Você escolheu a campanha flexível. Dessa maneira, você irá receber todos os recursos arrecadados junto aos apoiadores ao final do prazo da campanha (descontando a taxa do Catarse) e deverá cumprir com a execução do projeto e com a entrega das recompensas oferecidas independente do quanto arrecadar.")]),e(".w-col.w-col-11",[e("div",[e("span.fontsize-smallest.fontcolor-secondary","2/9")," ",e("span.fontweight-semibold","Meta de arrecadação")]),e("div","A meta não poderá ser alterada após o publicação do projeto.")]),e(".w-col.w-col-11",[e("div",[e("span.fontsize-smallest.fontcolor-secondary","3/9")," ",e("span.fontweight-semibold","Taxas")]),e("div",["Ao final da campanha, cobraremos 13% sobre o ",e("span.fontweight-semibold","valor total arrecadado.")])]),e(".w-col.w-col-11",[e("div",[e("span.fontsize-smallest.fontcolor-secondary","4/9")," ",e("span.fontweight-semibold","Prazo da campanha")]),e("div","Uma vez definido, o prazo de encerramento não poderá ser alterado. Caso você tenha iniciado a campanha com o prazo em aberto, deverá defini-lo durante a campanha, podendo deixar a campanha aberta por no máximo 12 meses.")]),e(".w-col.w-col-11",[e("div",[e("span.fontsize-smallest.fontcolor-secondary","5/9")," ",e("span.fontweight-semibold","Prazo para repasse")]),e("div","Quando o prazo do seu projeto chegar ao fim, você deverá confirmar seus dados bancários. Após essa confirmação, o Catarse depositará na sua conta corrente em até 10 dias úteis. O valor depositado já estará considerando o desconto de 13% da taxa.")]),e(".w-col.w-col-11",[e("div",[e("span.fontsize-smallest.fontcolor-secondary","6/9")," ",e("span.fontweight-semibold","O que pode e não pode alterar na página do projeto a partir da publicação?")]),[e("div",[e("span.fontweight-semibold","Você não poderá:")," alterar o tipo de financiamento, nome do projeto, a URL (link) do projeto, a categoria escolhida, a meta de arrecadação, o prazo (caso já tenha definido), as recompensas onde existirem apoios já efetuados e a conta bancária registrada.                    ",e("br"),e("br"),e("span.fontweight-semibold","Você poderá: "),"editar o conteúdo da descrição do projeto, alterar o vídeo principal da campanha, a imagem do projeto, a frase de efeito, as recompensas onde não existirem apoios efetuados, além de adicionar novas recompensas durante a arrecadação."])]]),e(".w-col.w-col-11",[e("div",[e("span.fontsize-smallest.fontcolor-secondary","7/9")," ",e("span.fontweight-semibold","Responsabilidade do Catarse")]),[e("div",[e("span.fontweight-semibold"),e("span.fontweight-semibold","O Catarse é responsável:")," pelo desenvolvimento tecnológico da plataforma, atendimento de dúvidas e problemas (tanto de apoiadores quanto de realizadores), por hospedar o projeto na plataforma e por garantir a segurança das transações financeiras. ",e("br"),e("br"),e("span.fontweight-semibold","O Catarse não é responsável:")," pelo financiamento, divulgação e execução, nem pela entrega de recompensas dos projetos inscritos."])]]),e(".w-col.w-col-11",[e("div",[e("span.fontsize-smallest.fontcolor-secondary","8/9")," ",e("span.fontweight-semibold","Suas responsabilidades")]),e("div",[e("span.fontweight-semibold"),e("span.fontweight-semibold"),"É sua responsabilidade tudo aquilo que diz respeito a formatação do projeto, planejamento e divulgação da campanha de arrecadação, mobilização de apoiadores, execução do projeto, produção e entrega de recompensas dentro do prazo estimado e comunicação com apoiadores."])]),e(".w-col.w-col-11",[e("div",[e("span.fontsize-smallest.fontcolor-secondary","9/9")," ",e("span",{style:{"font-weight":" 600"}},"Retiradas de projetos no ar")]),e("div",[e("span.fontweight-semibold"),"O CATARSE reserva-se o direito de, a seu exclusivo critério e uma vez notificado a respeito, cancelar projetos e encerrar as contas de CRIADORES DE PROJETOS que violem nossas ",e("a.alt-link[href='http://suporte.catarse.me/hc/pt-br/articles/202387638-Diretrizes-para-cria%C3%A7%C3%A3o-de-projetos'][target='_blank']","Regras do Jogo")," e ",e("a.alt-link[href='http://www.catarse.me/terms-of-use'][target='_blank']","Termos de Uso"),"."])])]},l=function(t){return[e(".w-col.w-col-11",[e("div",[e("span.fontsize-smallest.fontcolor-secondary","1/9")," ",e("span.fontweight-semibold","Regras da modalidade Tudo-ou-nada")]),e("div",["Você escolheu a campanha tudo-ou-nada. Dessa maneira, você só irá receber os recursos arrecadados ",e("span.fontweight-semibold","caso atinja ou supere a meta de arrecadação"),". Caso contrário, todos seus apoiadores serão reembolsados. Você será responsável pela entrega das recompensas oferecidas se seu projeto alcançar a meta de arrecadação."])]),e(".w-col.w-col-11",[e("div",[e("span.fontsize-smallest.fontcolor-secondary","2/9")," ",e("span",{style:{"font-weight":" 600"}},"Meta de arrecadação")]),e("div","A meta não poderá ser alterada após o publicação do projeto.")]),e(".w-col.w-col-11",[e("div",[e("span.fontsize-smallest.fontcolor-secondary","3/9")," ",e("span",{style:{"font-weight":" 600"}},"Taxas")]),e("div",["Cobramos 13% sobre o ",e("span.fontweight-semibold","valor total arrecadado")," pelo seu projeto caso ele atinja ou supere a meta dentro do prazo da campanha. Se o projeto não atingir a meta, nenhuma taxa será cobrada.",e("span.fontweight-semibold")])]),e(".w-col.w-col-11",[e("div",[e("span.fontsize-smallest.fontcolor-secondary","4/9")," ",e("span",{style:{"font-weight":" 600"}},"Prazo da campanha")]),e("div","Seu projeto estará em arrecadação no Catarse até o dia "+Oe.momentify(o.expiresAt())+" às 23h59min59s. Este prazo não poderá ser alterado após a publicação do projeto.")]),e(".w-col.w-col-11",[e("div",[e("span.fontsize-smallest.fontcolor-secondary","5/9")," ",e("span",{style:{"font-weight":" 600"}},"Regras do repasse e reembolso")]),e("div",["Quando o prazo do seu projeto chegar ao fim, você deverá confirmar seus dados bancários. Após essa confirmação, o Catarse depositará o valor arrecadado, já com o desconto da taxa, na sua conta corrente em até 10 dias úteis. Caso o projeto não atinja 100% da meta dentro do prazo, o Catarse irá reembolsar os apoiadores. ",e("a.alt-link[href='http://suporte.catarse.me/hc/pt-br/articles/202365507'][target='_blank']","Saiba mais sobre o processo de reembolso"),"."])]),e(".w-col.w-col-11",[e("div",[e("span.fontsize-smallest.fontcolor-secondary","6/9")," ",e("span",{style:{"font-weight":" 600"}},"O que pode e não pode alterar na página do projeto a partir da publicação?")]),[e("div",[e("span.fontweight-semibold","Você não poderá:")," alterar o nome do projeto, a URL (link) do projeto, a categoria escolhida, o tipo de financiamento, a conta bancária, a meta de arrecadação, o prazo escolhido e as recompensas onde existirem apoios já efetuados. ",e("br"),e("br"),e("span.fontweight-semibold","Você poderá: "),"editar o conteúdo da descrição do projeto, alterar o vídeo principal da campanha, a imagem do projeto, a frase de efeito, as recompensas onde não existirem apoios efetuados, além de adicionar novas recompensas durante a arrecadação."])]]),e(".w-col.w-col-11",[e("div",[e("span.fontsize-smallest.fontcolor-secondary","7/9")," ",e("span",{style:{"font-weight":" 600"}},"Responsabilidade do Catarse")]),[e("div",[e("span.fontweight-semibold"),e("span.fontweight-semibold","O Catarse é responsável:")," pelo desenvolvimento tecnológico da plataforma, atendimento de dúvidas e problemas (tanto de apoiadores quanto de realizadores), por hospedar o projeto na plataforma e por garantir a segurança das transações financeiras. ",e("br"),e("br"),e("span.fontweight-semibold","O Catarse não é responsável:")," pelo financiamento, divulgação e execução, nem pela entrega de recompensas dos projetos inscritos."])]]),e(".w-col.w-col-11",[e("div",[e("span.fontsize-smallest.fontcolor-secondary","8/9")," ",e("span",{style:{"font-weight":" 600"}},"Suas responsabilidades")]),e("div",[e("span.fontweight-semibold"),e("span.fontweight-semibold"),"É sua responsabilidade tudo aquilo que diz respeito a formatação do projeto, planejamento e divulgação da campanha de arrecadação, mobilização de apoiadores, execução do projeto, produção e entrega de recompensas dentro do prazo estimado e comunicação com apoiadores."])]),e(".w-col.w-col-11",[e("div",[e("span.fontsize-smallest.fontcolor-secondary","9/9")," ",e("span",{style:{"font-weight":" 600"}},"Retiradas de projetos no ar")]),e("div",[e("span.fontweight-semibold"),"O CATARSE reserva-se o direito de, a seu exclusivo critério e uma vez notificado a respeito, cancelar projetos e encerrar as contas de CRIADORES DE PROJETOS que violem nossas ",e("a.alt-link[href='http://suporte.catarse.me/hc/pt-br/articles/202387638-Diretrizes-para-cria%C3%A7%C3%A3o-de-projetos'][target='_blank']","Regras do Jogo")," e ",e("a.alt-link[href='http://www.catarse.me/terms-of-use'][target='_blank']","Termos de Uso"),"."])])]};return[o.l()||o.accountL()?Oe.loader():[a.is_owner_or_admin?e.component(so,{project:e.prop(a),hidePublish:!0}):"",e(".w-section.section-product."+a.mode),e(".w-section.section",[e(".w-container",[e(".w-row",[e(".w-col.w-col-3"),e(".w-col.w-col-6",[e(".u-text-center",[e("img.u-marginbottom-20[src='/assets/catarse_bootstrap/launch-icon.png'][width='94']"),e(".fontsize-large.fontweight-semibold.u-marginbottom-20","Pronto para lançar sua campanha?"),e(".fontsize-base.u-marginbottom-30","Preparamos uma lista com informações importantes para você checar antes de colocar seu projeto no ar!")])]),e(".w-col.w-col-3")])])]),e(".divider"),e(".w-section.section-one-column.bg-gray.section.before-footer",[e(".w-container",[e(".card.medium.u-marginbottom-60.card-terciary",[e(".w-row",[e(".w-col.w-col-6.w-clearfix",[e("img.card-project-thumb.u-right[src="+a.large_image+"]")]),e(".w-col.w-col-6",[e(".u-marginbottom-30.fontsize-base",[e("div",[e("span.fontweight-semibold","Título: "),a.name]),e("div",[e("span.fontweight-semibold","Link: "),"www.catarse.me/"+a.permalink]),e("div",[e("span.fontweight-semibold","Modalidade de financiamento: "),t.t(a.mode,Sn())]),e("div",[e("span.fontweight-semibold","Meta de arrecadação: "),"R$ "+Oe.formatNumber(a.goal,2,3)]),null!==a.online_days?e("div",[e("span.fontweight-semibold","Prazo: "+a.online_days+" "+(a.online_days>1?"dias":"dia"))]):"",e("div",[e("span.fontweight-semibold","Responsável: "),i.owner_name]),e("div",[e("span.fontweight-semibold","CPF/CNPJ: "),i.owner_document])])])]),e(".u-text-center",[e(".w-row",[e(".w-col.w-col-1"),e(".w-col.w-col-10",[e(".divider.u-marginbottom-10"),e(".fontsize-small.fontcolor-secondary","Os dados acima não podem ser alterados após o projeto entrar no ar. Se você precisa fazer mudanças, navegue na barra lateral e volte aqui quando estiver tudo pronto!")]),e(".w-col.w-col-1")])])]),e(".card.medium.u-radius.u-marginbottom-60",[e(".u-text-center.u-marginbottom-60",[e(".fontsize-large.fontweight-semibold","Relembre nossas regras"),e(".w-row",[e(".w-col.w-col-2"),e(".w-col.w-col-8",[e(".fontsize-small",["Antes de publicar, clique nos círculos abaixo e confirme que você está ciente de como funciona o Catarse. Qualquer dúvida, ",e("a.alt-link[href='https://equipecatarse.zendesk.com/account/dropboxes/20298537'][target='_blank']","entre em contato"),"!"])]),e(".w-col.w-col-2")])]),n.map("flex"==a.mode?s(a):l(a),function(t,r){return e(".u-marginbottom-30.fontsize-base"+(0==r?"":".w-hidden.publish-rules"),[e(".w-row[id='rule-"+r+"']",[e(".w-col.w-col-1.u-text-center",[e("div",[e(("flex"==a.mode?o.flexAcceptTerm():o.acceptTerm())[r]?"a.w-inline-block.checkbox-big[href='#rule-"+(r+1)+"']":"a.w-inline-block.checkbox-big.checkbox--selected.fa.fa-check.fa-lg[href='#rule-"+(r+1)+"']",{onclick:function(){return o.showNextTerm(r,"flex"==a.mode?o.flexAcceptTerm:o.acceptTerm)}})])]),t])])})]),e(".w-row.publish-btn-section.w-hidden",[e(".w-col.w-col-4"),e(".w-col.w-col-4",[e("a.btn.btn-large.u-marginbottom-20[href=/"+("flex"==a.mode?"flexible_projects":"projects")+"/"+a.project_id+"/push_to_online]","Publicar agora!"),e(".u-text-center.fontsize-smaller",["Ao publicar o seu projeto, você está aceitando os ",e("a.alt-link[href='/terms-of-use'][target='_blank']","Termos de Uso")," e ",e("a.alt-link[href='/privacy-policy'][target='_blank']","Politica de Privacidade")])]),e(".w-col.w-col-4")])])]),"    "]]}},En=function(e){var t=e.translations[e.currentLocale()].pages.start,o=t.testimonials,r=t.categoryProjects,a=t.panes,i=t.qa;return{testimonials:n.map(o,function(e){return{thumbUrl:e.thumb,content:e.content,name:e.name,totals:e.totals}}),panes:n.map(a,function(e){return{label:e.label,src:e.src}}),questions:{col_1:n.map(i.col_1,function(e){return{question:e.question,answer:e.answer}}),col_2:n.map(i.col_2,function(e){return{question:e.question,answer:e.answer}})},categoryProjects:n.map(r,function(e){return{categoryId:e.category_id,sampleProjects:[e.sample_project_ids.primary,e.sample_project_ids.secondary]}})}},An={controller:function(e){var t=void 0,o=Oe.toggleProp(!1,!0),r=function(e,t){if(!t){var o=document.createElement("script"),r=document.getElementsByTagName("script")[0];o.src="https://www.youtube.com/iframe_api",r.parentNode.insertBefore(o,r),window.onYouTubeIframeAPIReady=a}},n=function(){return _.isUndefined(t)||t.pauseVideo(),o.toggle(),!1},a=function(){t=new YT.Player("ytvideo",{height:"528",width:"940",videoId:e.src,playerVars:{showInfo:0,modestBranding:0},events:{onStateChange:function(e){return 0===e.data?n():!1}}})};return{showLightbox:o,setYoutube:r,closeVideo:n}},view:function(t,o){return e("#youtube-lightbox",[e("a#youtube-play.w-lightbox.w-inline-block.fa.fa-play-circle.fontcolor-negative.fa-5x[href='javascript:void(0);']",{onclick:function(){t.showLightbox.toggle(),o.onclick&&o.onclick()}}),e('#lightbox.w-lightbox-backdrop[style="display:'+(t.showLightbox()?"block":"none")+'"]',[e(".w-lightbox-container",[e(".w-lightbox-content",[e(".w-lightbox-view",[e(".w-lightbox-frame",[e("figure.w-lightbox-figure",[e("img.w-lightbox-img.w-lightbox-image[src='data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%22940%22%20height=%22528%22/%3E']"),e("#ytvideo.embedly-embed.w-lightbox-embed",{config:t.setYoutube})])])]),e(".w-lightbox-spinner.w-lightbox-hide"),e(".w-lightbox-control.w-lightbox-left.w-lightbox-inactive"),e(".w-lightbox-control.w-lightbox-right.w-lightbox-inactive"),e("#youtube-close.w-lightbox-control.w-lightbox-close",{onclick:t.closeVideo})]),e(".w-lightbox-strip")])])])}},qn=n.partial(Oe.i18nScope,"pages.start"),Rn={controller:function(){Oe.analytics.windowScroll({cat:"project_start",act:"start_page_scroll"});var r=e.prop([]),a=e.prop([]),i=e.prop(0),s=e.prop([]),l=e.prop([]),c=e.prop(-1),d=En(t),u=o.filtersVM,m=d.panes,p=u({category_id:"eq"}),f=u({project_id:"eq"}),w=u({
id:"eq"}),g=o.loader,b=g(Ne.statistic.getRowOptions()),h=function(){return Ne.category.getPage(u({}).order({name:"asc"}).parameters()).then(a)},v=function(e){return function(){i(e)}},_=function(){return g(Ne.categoryTotals.getRowOptions(p.parameters()))},y=function(){return g(Ne.projectDetail.getRowOptions(f.parameters()))},j=function(){return g(Ne.userDetail.getRowOptions(w.parameters()))},x=function(t){return function(){c(t.id),p.category_id(t.id),s([t]),e.redraw(),_().load().then(C)}},k=function(e,t){l()[t]=n.extend({},l()[t],{userThumb:n.first(e).profile_img_thumbnail})},z=function(e,t){l()[t]=n.first(e),w.id(n.first(e).user.id),j().load().then(function(e){return k(e,t)})},C=function(e){s(e);var t=n.findWhere(d.categoryProjects,{categoryId:n.first(e).category_id});l([]),n.isUndefined(t)||n.map(t.sampleProjects,function(e,t){n.isUndefined(e)||(f.project_id(e),y().load().then(function(e){return z(e,t)}))})};return b.load().then(r),h(),{stats:r,categories:a,paneImages:m,selectCategory:x,selectedCategory:s,selectedCategoryIdx:c,selectPane:v,selectedPane:i,featuredProjects:l,testimonials:d.testimonials,questions:d.questions}},view:function(o,r){var a=n.first(o.stats()),i=function(){return n.map(o.testimonials,function(t){var o=e(".card.u-radius.card-big.card-terciary",[e(".u-text-center.u-marginbottom-20",[e('img.thumb-testimonial.u-round.u-marginbottom-20[src="'+t.thumbUrl+'"]')]),e("p.fontsize-large.u-marginbottom-30",'"'+t.content+'"'),e(".u-text-center",[e(".fontsize-large.fontweight-semibold",t.name),e(".fontsize-base",t.totals)])]);return{content:o}})};return e("#start",{config:Oe.setPageTitle(t.t("header_html",qn()))},[e(".w-section.hero-full.hero-start",[e(".w-container.u-text-center",[e(".fontsize-megajumbo.fontweight-semibold.u-marginbottom-40",t.t("slogan",qn())),e(".w-row.u-marginbottom-40",[e(".w-col.w-col-4.w-col-push-4",[e('a.btn.btn-large.u-marginbottom-10[href="#start-form"]',{config:Oe.scrollTo(),onclick:Oe.analytics.event({cat:"project_start",act:"start_btnstart_click"})},t.t("submit",qn()))])]),e(".w-row",n.isEmpty(a)?"":[e(".w-col.w-col-4",[e(".fontsize-largest.lineheight-loose",Oe.formatNumber(a.total_contributors,0,3)),e("p.fontsize-small.start-stats",t.t("header.people",qn()))]),e(".w-col.w-col-4",[e(".fontsize-largest.lineheight-loose",a.total_contributed.toString().slice(0,2)+" milhões"),e("p.fontsize-small.start-stats",t.t("header.money",qn()))]),e(".w-col.w-col-4",[e(".fontsize-largest.lineheight-loose",Oe.formatNumber(a.total_projects_success,0,3)),e("p.fontsize-small.start-stats",t.t("header.success",qn()))])])])]),e(".w-section.section",[e(".w-container",[e(".w-row",[e(".w-col.w-col-10.w-col-push-1.u-text-center",[e(".fontsize-larger.u-marginbottom-10.fontweight-semibold",t.t("page-title",qn())),e(".fontsize-small",t.t("page-subtitle",qn()))])]),e(".w-clearfix.how-row",[e(".w-hidden-small.w-hidden-tiny.how-col-01",[e(".info-howworks-backers",[e(".fontweight-semibold.fontsize-large",t.t("banner.1",qn())),e(".fontsize-base",t.t("banner.2",qn()))]),e(".info-howworks-backers",[e(".fontweight-semibold.fontsize-large",t.t("banner.3",qn())),e(".fontsize-base",t.t("banner.4",qn()))])]),e(".how-col-02"),e(".how-col-03",[e(".fontweight-semibold.fontsize-large",t.t("banner.5",qn())),e(".fontsize-base",t.t("banner.6",qn())),e(".fontweight-semibold.fontsize-large.u-margintop-30",t.t("banner.7",qn())),e(".fontsize-base",t.t("banner.8",qn()))]),e(".w-hidden-main.w-hidden-medium.how-col-01",[e(".info-howworks-backers",[e(".fontweight-semibold.fontsize-large",t.t("banner.1",qn())),e(".fontsize-base",t.t("banner.2",qn()))]),e(".info-howworks-backers",[e(".fontweight-semibold.fontsize-large",t.t("banner.3",qn())),e(".fontsize-base",t.t("banner.4",qn()))])])])])]),e(".w-section.divider"),e(".w-section.section-large",[e(".w-container.u-text-center.u-marginbottom-60",[e("div",[e("span.fontsize-largest.fontweight-semibold",t.t("features.title",qn()))]),e(".w-hidden-small.w-hidden-tiny.fontsize-large.u-marginbottom-20",t.t("features.subtitle",qn())),e(".w-hidden-main.w-hidden-medium.u-margintop-30",[e(".fontsize-large.u-marginbottom-30",t.t("features.feature_1",qn())),e(".fontsize-large.u-marginbottom-30",t.t("features.feature_2",qn())),e(".fontsize-large.u-marginbottom-30",t.t("features.feature_3",qn())),e(".fontsize-large.u-marginbottom-30",t.t("features.feature_4",qn())),e(".fontsize-large.u-marginbottom-30",t.t("features.feature_5",qn())),e(".fontsize-large.u-marginbottom-30",t.t("features.feature_6",qn()))])]),e(".w-container",[e(".w-tabs.w-hidden-small.w-hidden-tiny",[e(".w-tab-menu.w-col.w-col-4",n.map(o.paneImages,function(t,r){return e("btn.w-tab-link.w-inline-block.tab-list-item"+(r===o.selectedPane()?".selected":""),{onclick:Oe.analytics.event({cat:"project_start",act:"start_solution_click",lbl:t.label},o.selectPane(r))},t.label)})),e(".w-tab-content.w-col.w-col-8",n.map(o.paneImages,function(t,r){return e(".w-tab-pane",[e('img[src="'+t.src+'"].pane-image'+(r===o.selectedPane()?".selected":""))])}))])])]),e(".w-section.section-large.card-terciary",e(".w-container",[e(".u-text-center.u-marginbottom-40",[e("div",e("span.fontsize-largest.fontweight-semibold",t.t("mode.title",qn()))),e(".w-row",[e(".w-col.w-col-1"),e(".w-col.w-col-10",e(".fontsize-large.u-marginbottom-20",t.t("mode.subtitle",qn()))),e(".w-col.w-col-1")])]),e("div",e(".flex-row.u-marginbottom-40",[e(".flex-column.card.u-radius.u-marginbottom-30",[e(".u-text-center.u-marginbottom-30",e("img[src='https://daks2k3a4ib2z.cloudfront.net/54b440b85608e3f4389db387/5632f334ec8a367d341b4bba_badge-aon.png']")),e(".fontsize-large.flex-column.u-marginbottom-20",[t.t("mode.aon.info",qn()),e.trust("&nbsp;")]),e(".fontsize-base.flex-column.fontcolor-secondary",t.t("mode.aon.info_2",qn()))]),e(".flex-column.card.u-radius.u-marginbottom-30",[e(".u-text-center.u-marginbottom-30",e("img[src='https://daks2k3a4ib2z.cloudfront.net/54b440b85608e3f4389db387/5632ebacd092957f34eaea9c_badge-flex.png']")),e(".fontsize-large.flex-column.u-marginbottom-20",t.t("mode.flex.info",qn())),e(".fontsize-base.flex-column.fontcolor-secondary",t.t("mode.flex.info_2",qn()))])])),e(".u-text-center.u-marginbottom-30",[e(".fontsize-large.fontweight-semibold",t.t("mode.tax_info",qn())),e(".fontsize-smallest.fontcolor-secondary",[t.t("mode.failed_info",qn()),e.trust(t.t("mode.more_link",qn()))])])])),e(".w-section.section-large.bg-blue-one",[e(".w-container.u-text-center",[e(".fontsize-larger.lineheight-tight.fontcolor-negative.u-marginbottom-20",[t.t("video.title",qn()),e("br"),t.t("video.subtitle",qn())]),e.component(An,{src:t.t("video.src",qn()),onclick:Oe.analytics.event({cat:"project_start",act:"start_video_play"})})])]),e(".w-hidden-small.w-hidden-tiny.section-categories",[e(".w-container",[e(".u-text-center",[e(".w-row",[e(".w-col.w-col-10.w-col-push-1",[e(".fontsize-large.u-marginbottom-40.fontcolor-negative",t.t("categories.title",qn()))])])]),e(".w-tabs",[e(".w-tab-menu.u-text-center",n.map(o.categories(),function(t){return e("a.w-tab-link.w-inline-block.btn-category.small.btn-inline"+(o.selectedCategoryIdx()===t.id?".w--current":""),{onclick:Oe.analytics.event({cat:"project_start",act:"start_category_click",lbl:t.name},o.selectCategory(t))},[e("div",t.name)])})),e(".w-tab-content.u-margintop-40",[e(".w-tab-pane.w--tab-active",[e(".w-row",-1!==o.selectedCategoryIdx()?n.map(o.selectedCategory(),function(r){return[e(".w-col.w-col-5",[e(".fontsize-jumbo.u-marginbottom-20",r.name),e('a.w-button.btn.btn-medium.btn-inline.btn-dark[href="#start-form"]',{config:Oe.scrollTo()},t.t("submit",qn()))]),e(".w-col.w-col-7",[e(".fontsize-megajumbo.fontcolor-negative","R$ "+(r.total_successful_value?Oe.formatNumber(r.total_successful_value,2,3):"...")),e(".fontsize-large.u-marginbottom-20","Doados para projetos"),e(".fontsize-megajumbo.fontcolor-negative",r.successful_projects?r.successful_projects:"..."),e(".fontsize-large.u-marginbottom-30","Projetos financiados"),n.isEmpty(o.featuredProjects())?"":n.map(o.featuredProjects(),function(o){return n.isUndefined(o)?e(".fontsize-base",t.t("categories.loading_featured",qn())):e(".w-row.u-marginbottom-10",[e(".w-col.w-col-1",[e('img.user-avatar[src="'+Oe.useAvatarOrDefault(o.userThumb)+'"]')]),e(".w-col.w-col-11",[e(".fontsize-base.fontweight-semibold",o.user.name),e(".fontsize-smallest",[t.t("categories.pledged",qn({pledged:Oe.formatNumber(o.pledged),contributors:o.total_contributors})),e('a.link-hidden[href="/'+o.permalink+'"]',o.name)])])])})])]}):"")])])])])]),e.component(dr,{slides:i(),title:t.t("testimonials_title",qn()),slideClass:"slide-testimonials-content",wrapperClass:"slide-testimonials",onchange:Oe.analytics.event({cat:"project_start",act:"start_testimonials_change"})}),e(".w-section.divider.u-margintop-30"),e(".w-container",[e(".fontsize-larger.u-text-center.u-marginbottom-60.u-margintop-40",t.t("qa_title",qn())),e(".w-row.u-marginbottom-60",[e(".w-col.w-col-6",n.map(o.questions.col_1,function(t){return e.component(oo,{question:t.question,answer:t.answer,onclick:Oe.analytics.event({cat:"project_start",act:"start_qa_click",lbl:t.question})})})),e(".w-col.w-col-6",n.map(o.questions.col_2,function(t){return e.component(oo,{question:t.question,answer:t.answer,onclick:Oe.analytics.event({cat:"project_start",act:"start_qa_click",lbl:t.question})})}))])]),e("#start-form.w-section.section-large.u-text-center.bg-purple.before-footer",[e(".w-container",[e(".fontsize-jumbo.fontcolor-negative.u-marginbottom-60","Crie o seu rascunho gratuitamente!"),e('form[action="/projects/fallback_create"][method="GET"].w-row.w-form',{onsubmit:Oe.analytics.oneTimeEvent({cat:"project_create",act:"create_form_submit"})},[e(".w-col.w-col-2"),e(".w-col.w-col-8",[e(".fontsize-larger.fontcolor-negative.u-marginbottom-10",t.t("form.title",qn())),e('input[name="utf8"][type="hidden"][value="✓"]'),e('input[name="authenticity_token"][type="hidden"][value="'+Oe.authenticityToken()+'"]'),e('input.w-input.text-field.medium.u-marginbottom-30[type="text"]',{name:"project[name]",onchange:Oe.analytics.oneTimeEvent({cat:"project_create",act:"create_form_change",lbl:"name"})}),e(".fontsize-larger.fontcolor-negative.u-marginbottom-10","na categoria"),e("select.w-select.text-field.medium.u-marginbottom-40",{name:"project[category_id]",onchange:Oe.analytics.oneTimeEvent({cat:"project_create",act:"create_form_change",lbl:"category"})},[e('option[value=""]',t.t("form.select_default",qn())),n.map(o.categories(),function(t){return e('option[value="'+t.id+'"]',t.name)})])]),e(".w-col.w-col-2"),e(".w-row.u-marginbottom-80",[e(".w-col.w-col-4.w-col-push-4.u-margintop-40",[e('input[type="submit"][value="'+t.t("form.submit",qn())+'"].w-button.btn.btn-large')])])])])])])}},Dn={controller:function(){var t={collection:e.prop([])};return Ne.teamTotal.getRow().then(function(e){t.collection(e)}),{vm:t}},view:function(t,o){return e("#team-total-static.w-section.section-one-column.section.u-margintop-40.u-text-center.u-marginbottom-20",[t.vm.collection().map(function(t){return e(".w-container",[e(".w-row",[e(".w-col.w-col-2"),e(".w-col.w-col-8",[e(".fontsize-base.u-marginbottom-30","Hoje somos "+t.member_count+" pessoas espalhadas por "+t.total_cities+" cidades em "+t.countries.length+" países ("+t.countries.toString()+")! O Catarse é independente, sem investidores, de código aberto e construído com amor. Nossa paixão é construir um ambiente onde cada vez mais projetos possam ganhar vida."),e(".fontsize-larger.lineheight-tight.text-success","Nossa equipe, junta, já apoiou R$"+Oe.formatNumber(t.total_amount)+" para "+t.total_contributed_projects+" projetos!")]),e(".w-col.w-col-2")])])})])}},Fn={controller:function(){var t={collection:e.prop([])},o=function(e,t){return n.map(n.range(Math.ceil(e.length/t)),function(o){return e.slice(o*t,(o+1)*t)})};return Ne.teamMember.getPage().then(function(e){t.collection(o(e,4))}),{vm:t}},view:function(t){return e("#team-members-static.w-section.section",[e(".w-container",[n.map(t.vm.collection(),function(t){return e(".w-row.u-text-center",[n.map(t,function(t){return e(".team-member.w-col.w-col-3.w-col-small-3.w-col-tiny-6.u-marginbottom-40",[e('a.alt-link[href="/users/'+t.id+'"]',[e('img.thumb.big.u-round.u-marginbottom-10[src="'+t.img+'"]'),e(".fontweight-semibold.fontsize-base",t.name)]),e(".fontsize-smallest.fontcolor-secondary","Apoiou "+t.total_contributed_projects+" projetos")])})])})])])}},On={view:function(){return e("#static-team-app",[e.component(Dn),e.component(Fn)])}},Nn=n.partial(Oe.i18nScope,"users.balance"),In={controller:function(e){var t=(postgrest.filtersVM({user_id:"eq"}),e.balance),o=Ne.balanceTransfer.postOptions({user_id:t.user_id}),r=postgrest.loaderWithToken(o),n=Oe.toggleProp(!1,!0),a=function(){r.load().then(function(t){e.balanceManager.load(),e.balanceTransactionManager.load(),n.toggle()})};return e.bankAccountManager.load(),{requestLoader:r,requestFund:a,bankAccounts:e.bankAccountManager.collection,displayDone:n,loadBankA:e.bankAccountManager.loader}},view:function(o,r){var a=r.balance;return o.loadBankA()?Oe.loader():e("div",n.map(o.bankAccounts(),function(r){return[e(".modal-dialog-header",[e(".fontsize-large.u-text-center",t.t("withdraw",Nn()))]),o.displayDone()?e(".modal-dialog-content.u-text-center",[e(".fa.fa-check-circle.fa-5x.text-success.u-marginbottom-40"),e("p.fontsize-large",t.t("sucess_message",Nn()))]):e(".modal-dialog-content",[e(".fontsize-base.u-marginbottom-20",[e("span.fontweight-semibold","Valor:"),e.trust("&nbsp;"),e("span.text-success","R$ "+Oe.formatNumber(a.amount,2,3))]),e(".fontsize-base.u-marginbottom-10",[e("span",{style:{"font-weight":" 600"}},t.t("bank.account",Nn()))]),e(".fontsize-small.u-marginbottom-10",[e("div",[e("span.fontcolor-secondary",t.t("bank.name",Nn())),e.trust("&nbsp;"),r.owner_name]),e("div",[e("span.fontcolor-secondary",t.t("bank.cpf_cnpj",Nn())),e.trust("&nbsp;"),r.owner_document]),e("div",[e("span.fontcolor-secondary",t.t("bank.bank_name",Nn())),e.trust("&nbsp;"),r.bank_name]),e("div",[e("span.fontcolor-secondary",t.t("bank.agency",Nn())),e.trust("&nbsp;"),r.agency+"-"+r.agency_digit]),e("div",[e("span.fontcolor-secondary",t.t("bank.account",Nn())),e.trust("&nbsp;"),r.account+"-"+r.account_digit])])]),o.displayDone()?"":e(".modal-dialog-nav-bottom",[e(".w-row",[e(".w-col.w-col-3"),e(".w-col.w-col-6",[o.requestLoader()?Oe.loader():e('a.btn.btn-large.btn-request-fund[href="js:void(0);"]',{onclick:o.requestFund},"Solicitar saque")]),e(".w-col.w-col-3")])])]}))}},Vn=n.partial(Oe.i18nScope,"users.balance"),Ln={controller:function(e){return e.balanceManager.load(),{userBalances:e.balanceManager.collection,displayModal:Oe.toggleProp(!1,!0)}},view:function(t,o){var r=n.first(t.userBalances()),a=[In,n.extend({},{balance:r},o)];return e(".w-section.section.user-balance-section",[t.displayModal()?e.component(lo,{displayModal:t.displayModal,content:a}):"",e(".w-container",[e(".w-row",[e(".w-col.w-col-8.u-text-center-small-only.u-marginbottom-20",[e(".fontsize-larger",[I18n.t("totals",Vn()),e("span.text-success","R$ "+Oe.formatNumber(r.amount,2,3))])]),e(".w-col.w-col-4",[e('a[class="r-fund-btn w-button btn btn-medium u-marginbottom-10 '+(r.amount<=0?"btn-inactive":"")+'"][href="js:void(0);"]',{onclick:r.amount>0?t.displayModal.toggle:"js:void(0);"},I18n.t("withdraw_cta",Vn()))])])])])}},Bn=_.partial(Oe.i18nScope,"users.balance"),Un={controller:function(e){var t=Oe.toggleProp(!1,!0);return 0==e.index&&t.toggle(),{expanded:t}},view:function(t,o){var r=o.item,n=Oe.momentFromString(r.created_at,"YYYY-MM-DD");return e("div[class='balance-card "+(t.expanded()?"card-detailed-open":"")+"']",e(".w-clearfix.card.card-clickable",[e(".w-row",[e(".w-col.w-col-2.w-col-tiny-2",[e(".fontsize-small.lineheight-tightest",n.format("D MMM")),e(".fontsize-smallest.fontcolor-terciary",n.format("YYYY"))]),e(".w-col.w-col-10.w-col-tiny-10",[e(".w-row",[e(".w-col.w-col-4",[e("div",[e("span.fontsize-smaller.fontcolor-secondary",I18n.t("debit",Bn())),e.trust("&nbsp;"),e("span.fontsize-base.text-error","R$ "+Oe.formatNumber(Math.abs(r.debit),2,3))])]),e(".w-col.w-col-4",[e("div",[e("span.fontsize-smaller.fontcolor-secondary",I18n.t("credit",Bn())),e.trust("&nbsp;"),e("span.fontsize-base.text-success","R$ "+Oe.formatNumber(r.credit,2,3))])]),e(".w-col.w-col-4",[e("div",[e("span.fontsize-smaller.fontcolor-secondary",I18n.t("totals",Bn())),e.trust("&nbsp;"),e("span.fontsize-base","R$ "+Oe.formatNumber(r.total_amount,2,3))])])])])]),e("a.w-inline-block.arrow-admin."+(t.expanded()?"arrow-admin-opened":"")+'.fa.fa-chevron-down.fontcolor-secondary[href="js:(void(0));"]',{onclick:t.expanded.toggle})]),t.expanded()?e(".card",_.map(r.source,function(t){var o=t.amount>=0;return e("div",[e(".w-row.fontsize-small.u-marginbottom-10",[e(".w-col.w-col-2",[e(".text-"+(o?"success":"error"),(o?"+":"-")+" R$ "+Oe.formatNumber(Math.abs(t.amount),2,3))]),e(".w-col.w-col-10",[e("div",t.event_name+" "+t.origin_object.name)])]),e(".divider.u-marginbottom-10")])})):"")}},Yn={controller:function(e){return e.balanceTransactionManager.load(),{list:e.balanceTransactionManager.list}},view:function(t,o){var r=t.list;return e(".w-section.section.card-terciary.before-footer.balance-transactions-area",[e(".w-container",n.map(r.collection(),function(t,o){return e.component(Un,{item:t,index:o})})),e(".container",[e(".w-row.u-margintop-40",[e(".w-col.w-col-2.w-col-push-5",[r.isLoading()?Oe.loader():r.isLastPage()?"":e("button#load-more.btn.btn-medium.btn-terciary",{onclick:r.nextPage},"Carregar mais")])])])])}},Wn={controller:function(t){var r=o.filtersVM({user_id:"eq"});r.user_id(t.user_id);var n=function(){var o=e.prop([{amount:0,user_id:t.user_id}]),n=function(){Ne.balance.getRowWithToken(r.parameters()).then(o)};return{collection:o,load:n}}(),a=function(){var e=o.paginationVM(Ne.balanceTransaction,"created_at.desc"),t=function(){e.firstPage(r.parameters())};return{load:t,list:e}}(),i=function(){var t=e.prop([]),n=function(){return o.loaderWithToken(Ne.bankAccount.getRowOptions(r.parameters()))}(),a=function(){n.load().then(t)};return{collection:t,load:a,loader:n}}();return{bankAccountManager:i,balanceManager:n,balanceTransactionManager:a}},view:function(t,o){var r=n.extend({},o,t);return e("#balance-area",[e.component(Ln,r),e(".divider"),e.component(Yn,r),e(".u-marginbottom-40"),e(".w-section.section.card-terciary.before-footer")])}},$n={controller:function(t){var r=e.prop(t.following||!1),n=o.filtersVM({follow_id:"eq"}),a=e.prop(!1),i=e.prop(!1),s=Ne.userFollow.postOptions({follow_id:t.follow_id}),l=function(){return n.follow_id(t.follow_id),Ne.userFollow.deleteOptions(n.parameters())}(),c=function(){var e=o.loaderWithToken(s);a(!0),e.load().then(function(){r(!0),a(!1)})},d=function(){var e=o.loaderWithToken(l);a(!0),e.load().then(function(){r(!1),a(!1)})};return{following:r,follow:c,unfollow:d,loading:a,hover:i}},view:function(t,o){return t.loading()?Oe.loader():t.following()?e("a.w-button.btn.btn-medium.u-margintop-20",{onclick:t.unfollow,onmouseover:function(){return t.hover(!0)},onmouseout:function(){return t.hover(!1)}},t.hover()?"Deixar de seguir":"Seguindo"):e("a.w-button.btn.btn-medium.btn-terciary.u-margintop-20",{onclick:t.follow},"Seguir")}},Hn={controller:function(t){var o=e.prop(t.friend);return{friend:o}},view:function(t,o){var r=t.friend(),a=n.isEmpty(r.avatar)?"/assets/catarse_bootstrap/user.jpg":r.avatar;return e(".w-col.w-col-4",e(".card.card-backer.u-marginbottom-20.u-radius.u-text-center",[e("img.thumb.u-marginbottom-10.u-round[src='"+a+"']"),e(".fontsize-base.fontweight-semibold.lineheight-tight",e("a.link-hidden",{href:"/users/"+r.friend_id},r.name)),e(".fontcolor-secondary.fontsize-smallest.u-marginbottom-10",n.isNull(r.city)?"":e(".fontsize-smaller.fontcolor-secondary.u-marginbottom-10",r.city+", "+r.state)),e(".fontsize-smaller",[e("span.fontweight-semibold",r.total_contributed_projects)," apoiados ",e.trust("&nbsp;"),"| ",e.trust("&nbsp;"),e("span.fontweight-semibold",r.total_published_projects)," criados"]),e(".btn-bottom-card.w-row",[e(".w-col.w-col-3.w-col-small-4.w-col-tiny-3"),e(".w-col.w-col-6.w-col-small-4.w-col-tiny-6",e.component($n,{following:r.following,follow_id:r.friend_id})),e(".w-col.w-col-3.w-col-small-4.w-col-tiny-3")])]))}},Kn={view:function(t,o){var r=o.collection;return e(".w-col.w-col-2",[r.isLoading()?Oe.loader():r.isLastPage()?"":e("button#load-more.btn.btn-medium.btn-terciary",{onclick:r.nextPage},"Carregar mais")])}},Jn={controller:function(t){Ne.userFriend.pageSize(9);var r=o.filtersVM({user_id:"eq"}),n=t.user,a=o.paginationVM(Ne.userFriend,"following.asc,total_contributed_projects.desc",{Prefer:"count=exact"}),i=e.prop(!1),s=function(){i(!0);var e=o.loaderWithToken(Ne.followAllFriends.postOptions({}));e.load().then(function(){a.firstPage(r.parameters()),i(!1)})};return r.user_id(n.user_id),a.collection().length||a.firstPage(r.parameters()),{friendListVM:a,followAll:s,allLoading:i}},view:function(t,o){var r=t.friendListVM;return e(".w-section.bg-gray.before-footer.section",[e(".w-container",[e(".w-row.u-marginbottom-40.card.u-radius.card-terciary",[e(".w-col.w-col-7.w-col-small-6.w-col-tiny-6",[e(".fontsize-small","Comece agora! Siga todos os seus amigos ou somente alguns deles para descobrir projetos juntos!")]),e(".w-col.w-col-5.w-col-small-6.w-col-tiny-6",[t.allLoading()?Oe.loader():e("a.w-button.btn.btn-medium",{onclick:t.followAll},"Siga todos os seus "+(r.total()?r.total():"")+" amigos")])]),e(".w-row",[n.map(r.collection(),function(t){return e.component(Hn,{friend:t})})]),e(".w-section.section.bg-gray",[e(".w-container",[e(".w-row.u-marginbottom-60",[e(".w-col.w-col-5",[e(".u-marginright-20")]),e.component(Kn,{collection:r}),e(".w-col.w-col-5")])])])])])}},Xn={controller:function(t){Ne.userFollow.pageSize(9);var r=o.filtersVM({user_id:"eq"}),n=t.user,a=(e.prop(window.location.hash),o.paginationVM(Ne.userFollow,"created_at.desc",{Prefer:"count=exact"}));return r.user_id(n.user_id),a.collection().length||a.firstPage(r.parameters()),{followsListVM:a}},view:function(t,o){var r=t.followsListVM;return e(".w-section.bg-gray.before-footer.section",[e(".w-container",[e(".w-row",[n.map(r.collection(),function(t){return e.component(Hn,{friend:n.extend({},{following:!0,friend_id:t.follow_id},t.source)})})]),e(".w-section.section.bg-gray",[e(".w-container",[e(".w-row.u-marginbottom-60",[e(".w-col.w-col-5",[e(".u-marginright-20")]),e.component(Kn,{collection:r}),e(".w-col.w-col-5")])])])])])}},Qn={controller:function(e){Ne.userFollower.pageSize(9);var t=o.paginationVM(Ne.userFollower,"following.asc,created_at.desc",{Prefer:"count=exact"}),r=e.user,n=o.filtersVM({follow_id:"eq"});return n.follow_id(r.user_id),t.collection().length||t.firstPage(n.parameters()),{followersListVM:t}},view:function(t,o){var r=t.followersListVM;return e(".w-section.bg-gray.before-footer.section",[e(".w-container",[e(".w-row",[n.map(r.collection(),function(t){return e.component(Hn,{friend:n.extend({},{friend_id:t.user_id},t.source)})})]),e(".w-section.section.bg-gray",[e(".w-container",[e(".w-row.u-marginbottom-60",[e(".w-col.w-col-5",[e(".u-marginright-20")]),e.component(Kn,{collection:r}),e(".w-col.w-col-5")])])])])])}},Gn={controller:function(e){Ne.creatorSuggestion.pageSize(9);var t=o.paginationVM(Ne.creatorSuggestion,"following.asc, total_published_projects.desc, total_contributed_projects.desc",{Prefer:"count=exact"});return t.collection().length||t.firstPage(),{creatorsListVM:t}},view:function(t,o){var r=t.creatorsListVM;return e(".w-section.bg-gray.before-footer.section",[e(".w-container",[e(".w-row",[n.map(r.collection(),function(t){return e.component(Hn,{friend:n.extend({},{friend_id:t.user_id},t)})})]),e(".w-section.section.bg-gray",[e(".w-container",[e(".w-row.u-marginbottom-60",[e(".w-col.w-col-5",[e(".u-marginright-20")]),e.component(Kn,{collection:r}),e(".w-col.w-col-5")])])])])])}},Zn={controller:function(t){var o=Oe.getUser(),r=e.prop(window.location.hash),a=function(){var t={user:o},a={"#creators":e.component(Gn,t),"#friends":e.component(Jn,t),"#follows":e.component(Xn,t),"#followers":e.component(Qn,t)};return r(window.location.hash),n.isEmpty(r())||"#_=_"===r()?a["#friends"]:a[r()]};return Oe.redrawHashChange(),{user:o,displayTabContent:a}},view:function(t,o){return[e(".w-section.dashboard-header",[e(".w-container",[e(".w-row.u-margintop-20.u-marginbottom-20",[e(".w-col.w-col-1"),e(".w-col.w-col-10.u-text-center",[e(".fontsize-larger.fontweight-semibold.u-marginbottom-10","Descubra projetos com seus amigos"),e(".fontsize-small","Siga os seus amigos e nós iremos te notificar sempre que eles lançarem ou apoiarem algum projeto")]),e(".w-col.w-col-1")])])]),[e(".divider.u-margintop-30"),e(".project-nav",e(".u-text-center.w-container",[e('a[id="creators-link"][class="dashboard-nav-link '+(Oe.hashMatch("#creators")?"selected":"")+'"] [href="#creators"]',"Encontre realizadores"),e('a[id="friends-link"][class="dashboard-nav-link '+(Oe.hashMatch("#friends")||Oe.hashMatch("")?"selected":"")+'"] [href="#friends"]',"Encontre amigos"),e('a[id="follows-link"][class="dashboard-nav-link '+(Oe.hashMatch("#follows")?"selected":"")+'"] [href="#follows"]',["Seguindo",e.trust("&nbsp;"),e("span.w-hidden-small.w-hidden-tiny.badge",t.user.follows_count)]),e('a[id="followers-link"][class="dashboard-nav-link '+(Oe.hashMatch("#followers")?"selected":"")+'"] [href="#followers"]',["Seguidores",e.trust("&nbsp;"),e("span.w-hidden-small.w-hidden-tiny.badge",t.user.followers_count)])]))],t.displayTabContent()]}},ea={root:{AdminUsers:et,AdminContributions:ht,Flex:ro,Insights:Vo,Jobs:Bo,LiveStatistics:Uo,ProjectsContributionReport:Go,ProjectsDashboard:Zo,ProjectsExplore:ar,ProjectsHome:fr,ProjectsShow:Vr,UsersShow:Hr,ProjectsPayment:Pn,ProjectsReward:Mn,Publish:Tn,Start:Rn,Team:On,UsersBalance:Wn,Menu:lr,Footer:mr,FollowFoundFriends:Zn}};return ea}(m,I18n,postgrest,replaceDiacritics,_,moment,Chart);