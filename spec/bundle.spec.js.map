{"version":3,"file":"bundle.spec.js","sources":["../src/models.js","../src/h.js","../src/c/admin-external-action.js","components/admin-external-action.spec.js","../src/c/filter-main.js","../src/c/admin-filter.js","../src/c/dropdown.js","../src/c/filter-dropdown.js","../src/c/filter-number-range.js","../src/c/filter-date-range.js","components/admin-filter.spec.js","../src/c/admin-input-action.js","components/admin-input-action.spec.js","../src/c/admin-item.js","components/admin-item.spec.js","../src/c/admin-list.js","components/admin-list.spec.js","../src/c/admin-notification-history.js","components/admin-notification-history.spec.js","../src/c/admin-project-details-card.js","components/admin-project-details-card.spec.js","../src/c/admin-radio-action.js","components/admin-radio-action.spec.js","../src/c/admin-reward.js","components/admin-reward.spec.js","../src/c/admin-transaction-history.js","components/admin-transaction-history.spec.js","../src/c/admin-transaction.js","components/admin-transaction.spec.js","../src/c/admin-user.js","components/admin-user.spec.js","../src/c/category-button.js","components/category-button.spec.js","../src/c/filter-button.js","components/filter-button.spec.js","../src/c/payment-status.js","components/payment-status.spec.js","../src/c/project-reward-list.js","../src/c/project-suggested-contributions.js","../src/c/project-about.js","components/project-about.spec.js","../src/c/project-card.js","components/project-card.spec.js","../src/c/project-contributions.js","components/project-contributions.spec.js","../src/c/project-dashboard-menu.js","components/project-dashboard-menu.spec.js","../src/c/project-share-box.js","../src/c/project-highlight.js","../src/c/tooltip.js","../src/c/project-mode.js","../src/c/pop-notification.js","../src/c/project-reminder.js","../src/c/owner-message-content.js","../src/c/modal-box.js","../src/c/project-user-card.js","../src/c/project-sidebar.js","../src/c/project-header.js","components/project-header.spec.js","components/project-highlight.spec.js","components/project-mode.spec.js","../src/c/project-posts.js","components/project-posts.spec.js","../src/c/project-reminder-count.js","components/project-reminder-count.spec.js","components/project-reward-list.spec.js","../src/c/project-row.js","components/project-row.spec.js","components/project-share-box.spec.js","components/project-sidebar.spec.js","../src/c/project-tabs.js","components/project-tabs.spec.js","../src/vms/project-vm.js","../src/root/projects-dashboard.js","components/projects-dashboard.spec.js","../src/vms/contribution-list-vm.js","../src/vms/contribution-filter-vm.js","../src/c/admin-project.js","../src/c/admin-contribution.js","../src/c/admin-contribution-user.js","../src/c/admin-contribution-item.js","../src/c/admin-contribution-detail.js","../src/root/admin-contributions.js","components/root/admin-contributions.spec.js","../src/vms/user-list-vm.js","../src/vms/user-filter-vm.js","../src/c/admin-user-item.js","../src/c/admin-reset-password.js","../src/c/admin-user-detail.js","../src/root/admin-users.js","components/root/admin-users.spec.js","../src/root/live-statistics.js","components/root/live-statistics.spec.js","../src/vms/project-filters-vm.js","../src/c/search.js","../src/root/projects-explore.js","components/root/projects-explore.spec.js","../src/c/project-comments.js","../src/c/project-main.js","../src/root/projects-show.js","components/root/projects-show.spec.js","../src/c/user-balance-request-modal-content.js","../src/c/user-balance.js","../src/c/user-balance-transaction-row.js","../src/c/user-balance-transactions.js","../src/root/users-balance-main.js","components/root/users-balance.spec.js","components/search.spec.js","../src/c/slider.js","components/slider.spec.js","../src/c/team-members.js","components/team-members.spec.js","../src/c/team-total.js","components/team-total.spec.js","components/tooltip.spec.js","components/user-balance-request-modal-content.spec.js","components/user-balance-transactions.spec.js","components/user-balance.spec.js","components/vms/contribution-filter-vm.spec.js","components/vms/user-filter-vm.spec.js","../src/c/youtube-lightbox.js","components/youtube-lightbox.spec.js","../src/c/landing-signup.js","../src/c/landing-qa.js","../src/root/flex.js","../src/c/project-data-chart.js","../src/c/project-data-table.js","../src/root/insights.js","../src/root/jobs.js","../src/c/project-contribution-report-header.js","../src/c/project-contribution-report-content-card.js","../src/c/project-contribution-report-content.js","../src/vms/projects-contribution-report-vm.js","../src/root/projects-contribution-report.js","../src/vms/home-vm.js","../src/c/contribution-activities.js","../src/root/projects-home.js","../src/root/publish.js","../src/vms/start-vm.js","../src/root/start.js","../src/root/team.js","../src/c.js","../src/c/user-card.js"],"sourcesContent":["import m from 'mithril';\n\nconst models = {\n    contributionDetail: postgrest.model('contribution_details'),\n    contributionActivity: postgrest.model('contribution_activities'),\n    projectDetail: postgrest.model('project_details'),\n    userDetail: postgrest.model('user_details'),\n    balance: postgrest.model('balances'),\n    balanceTransaction: postgrest.model('balance_transactions'),\n    balanceTransfer: postgrest.model('balance_transfers'),\n    user: postgrest.model('users'),\n    bankAccount: postgrest.model('bank_accounts'),\n    rewardDetail: postgrest.model('reward_details'),\n    projectReminder: postgrest.model('project_reminders'),\n    contributions: postgrest.model('contributions'),\n    directMessage: postgrest.model('direct_messages'),\n    teamTotal: postgrest.model('team_totals'),\n    projectAccount: postgrest.model('project_accounts'),\n    projectContribution: postgrest.model('project_contributions'),\n    projectPostDetail: postgrest.model('project_posts_details'),\n    projectContributionsPerDay: postgrest.model('project_contributions_per_day'),\n    projectContributionsPerLocation: postgrest.model('project_contributions_per_location'),\n    projectContributionsPerRef: postgrest.model('project_contributions_per_ref'),\n    project: postgrest.model('projects'),\n    projectSearch: postgrest.model('rpc/project_search'),\n    category: postgrest.model('categories'),\n    categoryTotals: postgrest.model('category_totals'),\n    categoryFollower: postgrest.model('category_followers'),\n    teamMember: postgrest.model('team_members'),\n    notification: postgrest.model('notifications'),\n    statistic: postgrest.model('statistics'),\n    successfulProject: postgrest.model('successful_projects')\n};\n\nmodels.teamMember.pageSize(40);\nmodels.rewardDetail.pageSize(false);\nmodels.project.pageSize(30);\nmodels.category.pageSize(50);\nmodels.contributionActivity.pageSize(40);\nmodels.successfulProject.pageSize(9);\n\nexport default models;\n","import m from 'mithril';\nimport moment from 'moment';\nimport I18n from 'i18n-js';\n\n\nconst hashMatch = (str) => { return window.location.hash === str; },\n    paramByName = (name) => {\n        const normalName = name.replace(/[\\[]/, '\\\\[').replace(/[\\]]/, '\\\\]'),\n            regex = new RegExp('[\\\\?&]' + normalName + '=([^&#]*)'),\n            results = regex.exec(location.search);\n        return results === null ? '' : decodeURIComponent(results[1].replace(/\\+/g, ' '));\n    },\n\tselfOrEmpty = (obj, emptyState = '') => {\nreturn obj ? obj : emptyState;\n\t},\n    setMomentifyLocale = () => {\n        moment.locale('pt', {\n                monthsShort: 'jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez'.split('_')\n            });\n    },\n    existy = (x) => {\n        return x != null;\n    },\n\n    momentify = (date, format) => {\n        format = format || 'DD/MM/YYYY';\n        return date ? moment(date).locale('pt').format(format) : 'no date';\n    },\n\n    storeAction = (action) => {\n        if (!sessionStorage.getItem(action)) {\n            return sessionStorage.setItem(action, action);\n        }\n    },\n\n    callStoredAction = (action, func) => {\n        if (sessionStorage.getItem(action)) {\n            func.call();\n            return sessionStorage.removeItem(action);\n        }\n    },\n\n    discuss = (page, identifier) => {\n        const d = document,\n            s = d.createElement('script');\n        window.disqus_config = function() {\n            this.page.url = page;\n            this.page.identifier = identifier;\n        };\n        s.src = '//catarseflex.disqus.com/embed.js';\n        s.setAttribute('data-timestamp', +new Date());\n        (d.head || d.body).appendChild(s);\n        return m('');\n    },\n\n    momentFromString = (date, format) => {\n        const european = moment(date, format || 'DD/MM/YYYY');\n        return european.isValid() ? european : moment(date);\n    },\n\n    translatedTimeUnits = {\n        days: 'dias',\n        minutes: 'minutos',\n        hours: 'horas',\n        seconds: 'segundos'\n    },\n    //Object manipulation helpers\n    translatedTime = (time) => {\n        const translatedTime = translatedTimeUnits,\n            unit = () => {\n                const projUnit = translatedTime[time.unit || 'seconds'];\n\n                return (time.total <= 1) ? projUnit.slice(0, -1) : projUnit;\n            };\n\n        return {\n            unit: unit(),\n            total: time.total\n        };\n    },\n\n    //Number formatting helpers\n    generateFormatNumber = (s, c) => {\n        return (number, n, x) => {\n            if (!_.isNumber(number)) {\n                return null;\n            }\n\n            const re = '\\\\d(?=(\\\\d{' + (x || 3) + '})+' + (n > 0 ? '\\\\D' : '$') + ')',\n                num = number.toFixed(Math.max(0, ~~n));\n            return (c ? num.replace('.', c) : num).replace(new RegExp(re, 'g'), '$&' + (s || ','));\n        };\n    },\n    formatNumber = generateFormatNumber('.', ','),\n\n    toggleProp = (defaultState, alternateState) => {\n        const p = m.prop(defaultState);\n        p.toggle = () => {\n            return p(((p() === alternateState) ? defaultState : alternateState));\n        };\n\n        return p;\n    },\n\n    idVM = postgrest.filtersVM({\n        id: 'eq'\n    }),\n\n    getCurrentProject = () => {\n        const root = document.getElementById('project-show-root'),\n            data = root.getAttribute('data-parameters');\n        if (data) {\n            return JSON.parse(data);\n        } else {\n            return false;\n        }\n    },\n\n    getRdToken = () => {\n        const meta = _.first(document.querySelectorAll('[name=rd-token]'));\n\n        return meta ? meta.content : undefined;\n    },\n\n    getUser = () => {\n        const body = document.getElementsByTagName('body'),\n            data = _.first(body).getAttribute('data-user');\n        if (data) {\n            return JSON.parse(data);\n        } else {\n            return false;\n        }\n    },\n\n    locationActionMatch = (action) => {\n        const act = window.location.pathname.split('/').slice(-1)[0];\n        return action === act;\n    },\n\n    useAvatarOrDefault = (avatarPath) => {\n        return avatarPath || '/assets/catarse_bootstrap/user.jpg';\n    },\n\n    //Templates\n    loader = () => {\n        return m('.u-text-center.u-margintop-30 u-marginbottom-30', [\n            m('img[alt=\"Loader\"][src=\"https://s3.amazonaws.com/catarse.files/loader.gif\"]')\n        ]);\n    },\n\n    newFeatureBadge = () => {\n        return m('span.badge.badge-success.margin-side-5', I18n.t('projects.new_feature_badge'));\n    },\n\n    fbParse = () => {\n        const tryParse = () => {\n            try {\n                window.FB.XFBML.parse();\n            } catch (e) {\n                console.log(e);\n            }\n        };\n\n        return window.setTimeout(tryParse, 500); //use timeout to wait async of facebook\n    },\n\n    pluralize = (count, s, p) => {\n        return (count > 1 ? count + p : count + s);\n    },\n\n    simpleFormat = (str = '') => {\n        str = str.replace(/\\r\\n?/, '\\n');\n        if (str.length > 0) {\n            str = str.replace(/\\n\\n+/g, '</p><p>');\n            str = str.replace(/\\n/g, '<br />');\n            str = '<p>' + str + '</p>';\n        }\n        return str;\n    },\n\n    rewardSouldOut = (reward) => {\n        return (reward.maximum_contributions > 0 ?\n            (reward.paid_count + reward.waiting_payment_count >= reward.maximum_contributions) : false);\n    },\n\n    rewardRemaning = (reward) => {\n        return reward.maximum_contributions - (reward.paid_count + reward.waiting_payment_count);\n    },\n\n    parseUrl = (href) => {\n        const l = document.createElement('a');\n        l.href = href;\n        return l;\n    },\n\n    UIHelper = () => {\n        return (el, isInitialized) => {\n            if (!isInitialized && $) {\n                window.UIHelper.setupResponsiveIframes($(el));\n            }\n        };\n    },\n\n    toAnchor = () => {\n        return (el, isInitialized) => {\n            if (!isInitialized){\n                const hash = window.location.hash.substr(1);\n                if (hash === el.id) {\n                    window.location.hash = '';\n                    setTimeout(function(){\n                        window.location.hash = el.id;\n                    });\n                }\n            }\n        };\n    },\n\n    validateEmail = (email) => {\n        const re = /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\n        return re.test(email);\n    },\n\n    navigateToDevise = () => {\n        window.location.href = '/pt/login';\n        return false;\n    },\n\n    cumulativeOffset = (element) => {\n        let top = 0, left = 0;\n        do {\n            top += element.offsetTop  || 0;\n            left += element.offsetLeft || 0;\n            element = element.offsetParent;\n        } while (element);\n\n        return {\n            top: top,\n            left: left\n        };\n    },\n\n    closeModal = () => {\n        let el = document.getElementsByClassName('modal-close')[0];\n        if (_.isElement(el)){\n            el.onclick = (event) => {\n                event.preventDefault();\n\n                document.getElementsByClassName('modal-backdrop')[0].style.display = 'none';\n            };\n        };\n    },\n\n    closeFlash = () => {\n        let el = document.getElementsByClassName('icon-close')[0];\n        if (_.isElement(el)){\n            el.onclick = (event) => {\n                event.preventDefault();\n\n                el.parentElement.remove();\n            };\n        };\n    },\n\n    i18nScope = (scope, obj) => {\n        obj = obj || {};\n        return _.extend({}, obj, {scope: scope});\n    },\n\n    redrawHashChange = (before) => {\n        const callback = _.isFunction(before) ?\n                  () => {\n                      before();\n                      m.redraw();\n                  } : m.redraw;\n\n        window.addEventListener('hashchange', callback, false);\n    },\n\n    authenticityToken = () => {\n        const meta = _.first(document.querySelectorAll('[name=csrf-token]'));\n        return meta ? meta.content : undefined;\n    },\n    animateScrollTo = (el) => {\n        let scrolled = window.scrollY;\n\n        const offset = cumulativeOffset(el).top,\n            duration = 300,\n            dFrame = (offset - scrolled) / duration,\n            //EaseInOutCubic easing function. We'll abstract all animation funs later.\n            eased = (t) => t < .5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1,\n            animation = setInterval(() => {\n                let pos = eased(scrolled / offset) * scrolled;\n\n                window.scrollTo(0, pos);\n\n                if (scrolled >= offset) {\n                    clearInterval(animation);\n                }\n\n                scrolled = scrolled + dFrame;\n            }, 1);\n    },\n    scrollTo = () => {\n        const setTrigger = (el, anchorId) => {\n            el.onclick = () => {\n                const anchorEl = document.getElementById(anchorId);\n\n                if (_.isElement(anchorEl)) {\n                    animateScrollTo(anchorEl);\n                }\n\n                return false;\n            };\n        };\n\n        return (el, isInitialized) => {\n            if (!isInitialized) {\n                setTrigger(el, el.hash.slice(1));\n            }\n        };\n    },\n\n    RDTracker = (eventId) => {\n        return (el, isInitialized) => {\n            if (!isInitialized) {\n                const integrationScript = document.createElement('script');\n                integrationScript.type = 'text/javascript'\n                integrationScript.id = 'RDIntegration';\n\n                if (!document.getElementById(integrationScript.id)){\n                    document.body.appendChild(integrationScript);\n                    integrationScript.onload = () => RdIntegration.integrate(getRdToken(), eventId);\n                    integrationScript.src = 'https://d335luupugsy2.cloudfront.net/js/integration/stable/rd-js-integration.min.js';\n                }\n\n                return false;\n            }\n        }\n    };\n\nsetMomentifyLocale();\ncloseFlash();\ncloseModal();\n\nexport default {\n    authenticityToken,\n    cumulativeOffset,\n    discuss,\n    existy,\n    validateEmail,\n    momentify,\n    momentFromString,\n    formatNumber,\n    idVM,\n    getUser,\n    getCurrentProject,\n    toggleProp,\n    loader,\n    newFeatureBadge,\n    fbParse,\n    pluralize,\n    simpleFormat,\n    translatedTime,\n    rewardSouldOut,\n    rewardRemaning,\n    parseUrl,\n    hashMatch,\n    redrawHashChange,\n    useAvatarOrDefault,\n    locationActionMatch,\n    navigateToDevise,\n    storeAction,\n    callStoredAction,\n    UIHelper,\n    toAnchor,\n    paramByName,\n    i18nScope,\n    RDTracker,\n    selfOrEmpty,\n    scrollTo\n};\n","/**\n * window.c.AdminExternalAction component\n * Makes arbitrary ajax requests and update underlying\n * data from source endpoint.\n *\n * Example:\n * m.component(c.AdminExternalAction, {\n *     data: {},\n *     item: rowFromDatabase\n * })\n */\nimport m from 'mithril';\nimport _ from 'underscore';\nimport h from '../h';\n\nconst adminExternalAction = {\n    controller (args) {\n        let builder = args.data,\n            complete = m.prop(false),\n            error = m.prop(false),\n            fail = m.prop(false),\n            data = {},\n            item = args.item;\n\n        builder.requestOptions.config = (xhr) => {\n            if (h.authenticityToken()) {\n                xhr.setRequestHeader('X-CSRF-Token', h.authenticityToken());\n            }\n        };\n\n        const reload = _.compose(builder.model.getRowWithToken, h.idVM.id(item[builder.updateKey]).parameters),\n            l = m.prop(false);\n\n        const reloadItem = () => reload().then(updateItem);\n\n        const requestError = (err) => {\n            l(false);\n            complete(true);\n            error(true);\n        };\n\n        const updateItem = (res) => {\n            _.extend(item, res[0]);\n            complete(true);\n            error(false);\n        };\n\n        const submit = () => {\n            l(true);\n            m.request(builder.requestOptions).then(reloadItem, requestError);\n            return false;\n        };\n\n        const unload = (el, isinit, context) => {\n            context.onunload = function() {\n                complete(false);\n                error(false);\n            };\n        };\n\n        return {\n            l: l,\n            complete: complete,\n            error: error,\n            submit: submit,\n            toggler: h.toggleProp(false, true),\n            unload: unload\n        };\n    },\n    view (ctrl, args) {\n        const data = args.data,\n            btnValue = (ctrl.l()) ? 'por favor, aguarde...' : data.callToAction;\n\n        return m('.w-col.w-col-2', [\n            m('button.btn.btn-small.btn-terciary', {\n                onclick: ctrl.toggler.toggle\n            }, data.outerLabel), (ctrl.toggler()) ?\n            m('.dropdown-list.card.u-radius.dropdown-list-medium.zindex-10', {\n                config: ctrl.unload\n            }, [\n                m('form.w-form', {\n                    onsubmit: ctrl.submit\n                }, (!ctrl.complete()) ? [\n                    m('label', data.innerLabel),\n                    m('input.w-button.btn.btn-small[type=\"submit\"][value=\"' + btnValue + '\"]')\n                ] : (!ctrl.error()) ? [\n                    m('.w-form-done[style=\"display:block;\"]', [\n                        m('p', 'Requisição feita com sucesso.')\n                    ])\n                ] : [\n                    m('.w-form-error[style=\"display:block;\"]', [\n                        m('p', 'Houve um problema na requisição.')\n                    ])\n                ])\n            ]) : ''\n        ]);\n    }\n}\n\nexport default adminExternalAction;\n","import models from '../../src/models';\nimport adminExternalAction from '../../src/c/admin-external-action';\nimport postgrest from 'mithril-postgrest';\n\ndescribe('adminExternalAction', () => {\n    var testModel = postgrest.model('reloadAction'),\n        item = {\n            testKey: 'foo'\n        },\n        ctrl, $output;\n\n    var args = {\n        updateKey: 'updateKey',\n        callToAction: 'cta',\n        innerLabel: 'inner',\n        outerLabel: 'outer',\n        model: testModel,\n        requestOptions: {\n            url: 'http://external_api'\n        }\n    };\n\n    describe('view', () => {\n        beforeAll(() => {\n            jasmine.Ajax.stubRequest(args.requestOptions.url).andReturn({\n                'responseText': JSON.stringify([])\n            });\n        });\n\n        beforeEach(() => {\n            $output = mq(adminExternalAction, {\n                data: args,\n                item: item\n            });\n        });\n\n        it('shoud render the outerLabel on first render', () => {\n            expect($output.contains(args.outerLabel)).toBeTrue();\n            expect($output.contains(args.innerLabel)).toBeFalse();\n            expect($output.contains(args.placeholder)).toBeFalse();\n            expect($output.contains(args.callToAction)).toBeFalse();\n        });\n\n        describe('on button click', () => {\n            beforeEach(() => {\n                $output.click('button');\n            });\n\n            it('should render an inner label', () => {\n                expect($output.contains(args.innerLabel)).toBeTrue();\n            });\n\n            it('should render a call to action', () => {\n                expect($output.first('input[type=\"submit\"]').attrs.value).toEqual(args.callToAction);\n            });\n\n        });\n\n        describe('on form submit', () => {\n            beforeEach(() => {\n                $output.click('button');\n            });\n\n            it('should call a submit function on form submit', () => {\n                $output.trigger('form', 'submit');\n                const lastRequest = jasmine.Ajax.requests.mostRecent();\n                expect(lastRequest.url).toEqual('https://api.catarse.me/reloadAction');\n            });\n        });\n    });\n});\n","import m from 'mithril';\n\nconst filterMain = {\n    view (ctrl, args) {\n        const inputWrapperClass = args.inputWrapperClass || '.w-input.text-field.positive.medium',\n              btnClass = args.btnClass || '.btn.btn-large.u-marginbottom-10';\n\n        return m('.w-row', [\n            m('.w-col.w-col-10', [\n                m(`input${inputWrapperClass}[placeholder=\"${args.placeholder}\"][type=\"text\"]`, {\n                    onchange: m.withAttr('value', args.vm),\n                    value: args.vm()\n                })\n            ]),\n            m('.w-col.w-col-2', [\n                m(`input#filter-btn${btnClass}[type=\"submit\"][value=\"Buscar\"]`)\n            ])\n        ]);\n    }\n}\n\nexport default filterMain;\n","import m from 'mithril';\nimport _ from 'underscore';\nimport h from '../h';\nimport filterMain from './filter-main';\n\nconst adminFilter = {\n    controller () {\n        return {\n            toggler: h.toggleProp(false, true)\n        };\n    },\n    view (ctrl, args) {\n        const filterBuilder = args.filterBuilder,\n            data = args.data,\n            label = args.label || '',\n            main = _.findWhere(filterBuilder, {\n                component: filterMain\n            });\n\n        return m('#admin-contributions-filter.w-section.page-header', [\n            m('.w-container', [\n                m('.fontsize-larger.u-text-center.u-marginbottom-30', label),\n                m('.w-form', [\n                    m('form', {\n                        onsubmit: args.submit\n                    }, [\n                        main ? m.component(main.component, main.data) : '',\n                        m('.u-marginbottom-20.w-row',\n                            m('button.w-col.w-col-12.fontsize-smallest.link-hidden-light[style=\"background: none; border: none; outline: none; text-align: left;\"][type=\"button\"]', {\n                                onclick: ctrl.toggler.toggle\n                            }, 'Filtros avançados  >')), (ctrl.toggler() ?\n                            m('#advanced-search.w-row.admin-filters', [\n                                _.map(filterBuilder, function(f) {\n                                    return (f.component !== filterMain) ? m.component(f.component, f.data) : '';\n                                })\n                            ]) : ''\n                        )\n                    ])\n                ])\n            ])\n        ]);\n    }\n};\n\nexport default adminFilter;\n","import m from 'mithril';\nimport _ from 'underscore';\n\nconst dropdown = {\n    view (ctrl, args) {\n        return m(\n            `select${args.classes}[id=\"${args.id}\"]`,\n            {\n                onchange: m.withAttr('value', args.valueProp),\n                value: args.valueProp()\n            },\n            _.map(args.options, function(data) {\n                return m('option[value=\"' + data.value + '\"]', data.option);\n            })\n        );\n    }\n};\n\nexport default dropdown;\n","import m from 'mithril';\nimport dropdown from './dropdown';\n\nconst filterDropdown = {\n    view (ctrl, args) {\n        const wrapper_c = args.wrapper_class || '.w-col.w-col-3.w-col-small-6';\n        return m(wrapper_c, [\n            m('label.fontsize-smaller[for=\"' + args.index + '\"]', args.label),\n            m.component(dropdown, {\n                id: args.index,\n                classes: '.w-select.text-field.positive',\n                valueProp: args.vm,\n                options: args.options\n            })\n        ]);\n    }\n}\n\nexport default filterDropdown;\n","import m from 'mithril';\n\nconst filterNumberRange = {\n    view (ctrl, args) {\n        return m('.w-col.w-col-3.w-col-small-6', [\n            m('label.fontsize-smaller[for=\"' + args.index + '\"]', args.label),\n            m('.w-row', [\n                m('.w-col.w-col-5.w-col-small-5.w-col-tiny-5', [\n                    m('input.w-input.text-field.positive[id=\"' + args.index + '\"][type=\"text\"]', {\n                        onchange: m.withAttr('value', args.first),\n                        value: args.first()\n                    })\n                ]),\n                m('.w-col.w-col-2.w-col-small-2.w-col-tiny-2', [\n                    m('.fontsize-smaller.u-text-center.lineheight-looser', 'e')\n                ]),\n                m('.w-col.w-col-5.w-col-small-5.w-col-tiny-5', [\n                    m('input.w-input.text-field.positive[type=\"text\"]', {\n                        onchange: m.withAttr('value', args.last),\n                        value: args.last()\n                    })\n                ])\n            ])\n        ]);\n    }\n}\n\nexport default filterNumberRange;\n","import m from 'mithril';\n\nconst filterDateRange = {\n    view (ctrl, args) {\n        return m('.w-col.w-col-3.w-col-small-6', [\n            m('label.fontsize-smaller[for=\"' + args.index + '\"]', args.label),\n            m('.w-row', [\n                m('.w-col.w-col-5.w-col-small-5.w-col-tiny-5', [\n                    m('input.w-input.text-field.positive[id=\"' + args.index + '\"][type=\"text\"]', {\n                        onchange: m.withAttr('value', args.first),\n                        value: args.first()\n                    })\n                ]),\n                m('.w-col.w-col-2.w-col-small-2.w-col-tiny-2', [\n                    m('.fontsize-smaller.u-text-center.lineheight-looser', 'e')\n                ]),\n                m('.w-col.w-col-5.w-col-small-5.w-col-tiny-5', [\n                    m('input.w-input.text-field.positive[type=\"text\"]', {\n                        onchange: m.withAttr('value', args.last),\n                        value: args.last()\n                    })\n                ])\n            ])\n        ]);\n    }\n}\n\nexport default filterDateRange;\n","import m from 'mithril';\nimport adminFilter from '../../src/c/admin-filter';\nimport filterMain from '../../src/c/filter-main';\nimport filterDropdown from '../../src/c/filter-dropdown';\nimport filterNumberRange from '../../src/c/filter-number-range';\nimport filterDateRange from '../../src/c/filter-date-range';\n\ndescribe('AdminFilter', () => {\n    let ctrl, submit, fakeForm,\n        formDesc, filterDescriber,\n        $output;\n\n    describe('controller', () => {\n        beforeAll(() => {\n            ctrl = adminFilter.controller();\n        });\n\n        it('should instantiate a toggler', () => {\n            expect(ctrl.toggler).toBeDefined();\n        });\n    });\n\n    describe('view', () => {\n        beforeAll(() => {\n            spyOn(m, 'component').and.callThrough();\n            submit = jasmine.createSpy('submit');\n            filterDescriber = FilterDescriberMock(filterMain, filterDropdown, filterNumberRange, filterDateRange);\n            $output = mq(adminFilter, {\n                filterBuilder: filterDescriber,\n                data: {\n                    label: 'foo'\n                },\n                submit: submit\n            });\n        });\n\n        it('should render the main filter on render', () => {\n            expect(m.component).toHaveBeenCalledWith(filterMain, filterDescriber[0].data);\n        });\n\n        it('should build a form from a FormDescriber when clicking the advanced filter', () => {\n            $output.click('button');\n            //mithril.query calls component one time to build it, so calls.count = length + 1.\n            expect(m.component.calls.count()).toEqual(filterDescriber.length + 1);\n        });\n\n        it('should trigger a submit function when submitting the form', () => {\n            $output.trigger('form', 'submit');\n            expect(submit).toHaveBeenCalled();\n        });\n    });\n});\n","import m from 'mithril';\nimport h from '../h';\n\nconst adminInputAction = {\n    controller (args) {\n        const builder = args.data,\n            complete = m.prop(false),\n            error = m.prop(false),\n            fail = m.prop(false),\n            data = {},\n            item = args.item,\n            key = builder.property,\n            forceValue = builder.forceValue || null,\n            newValue = m.prop(forceValue);\n\n        h.idVM.id(item[builder.updateKey]);\n\n        const l = postgrest.loaderWithToken(builder.model.patchOptions(h.idVM.parameters(), data));\n\n        const updateItem = function(res) {\n            _.extend(item, res[0]);\n            complete(true);\n            error(false);\n        };\n\n        const submit = function() {\n            data[key] = newValue();\n            l.load().then(updateItem, function() {\n                complete(true);\n                error(true);\n            });\n            return false;\n        };\n\n        const unload = function(el, isinit, context) {\n            context.onunload = function() {\n                complete(false);\n                error(false);\n                newValue(forceValue);\n            };\n        };\n\n        return {\n            complete: complete,\n            error: error,\n            l: l,\n            newValue: newValue,\n            submit: submit,\n            toggler: h.toggleProp(false, true),\n            unload: unload\n        };\n    },\n    view (ctrl, args) {\n        const data = args.data,\n            btnValue = (ctrl.l()) ? 'por favor, aguarde...' : data.callToAction;\n\n        return m('.w-col.w-col-2', [\n            m('button.btn.btn-small.btn-terciary', {\n                onclick: ctrl.toggler.toggle\n            }, data.outerLabel), (ctrl.toggler()) ?\n            m('.dropdown-list.card.u-radius.dropdown-list-medium.zindex-10', {\n                config: ctrl.unload\n            }, [\n                m('form.w-form', {\n                    onsubmit: ctrl.submit\n                }, (!ctrl.complete()) ? [\n                    m('label', data.innerLabel), (data.forceValue === undefined) ?\n                    m('input.w-input.text-field[type=\"text\"][placeholder=\"' + data.placeholder + '\"]', {\n                        onchange: m.withAttr('value', ctrl.newValue),\n                        value: ctrl.newValue()\n                    }) : '',\n                    m('input.w-button.btn.btn-small[type=\"submit\"][value=\"' + btnValue + '\"]')\n                ] : (!ctrl.error()) ? [\n                    m('.w-form-done[style=\"display:block;\"]', [\n                        m('p', data.successMessage)\n                    ])\n                ] : [\n                    m('.w-form-error[style=\"display:block;\"]', [\n                        m('p', 'Houve um problema na requisição. ' + data.errorMessage)\n                    ])\n                ])\n            ]) : ''\n        ]);\n    }\n}\n\nexport default adminInputAction;\n","import m from 'mithril';\nimport postgrest from 'mithril-postgrest';\nimport adminInputAction from '../../src/c/admin-input-action';\n\ndescribe('adminInputAction', () => {\n    let testModel = postgrest.model('test'),\n        item = {\n            testKey: 'foo'\n        },\n        forced = null,\n        ctrl, $output;\n\n    let args = {\n        property: 'testKey',\n        updateKey: 'updateKey',\n        callToAction: 'cta',\n        innerLabel: 'inner',\n        outerLabel: 'outer',\n        placeholder: 'place',\n        model: testModel\n    };\n\n    describe('controller', () => {\n        beforeAll(() => {\n            ctrl = adminInputAction.controller({\n                data: args,\n                item: item\n            });\n        });\n\n        it('should instantiate a submit function', () => {\n            expect(ctrl.submit).toBeFunction();\n        });\n        it('should return a toggler prop', () => {\n            expect(ctrl.toggler).toBeFunction();\n        });\n        it('should return a value property to bind to', () => {\n            expect(ctrl.newValue).toBeFunction();\n        });\n\n        describe('when forceValue is set', () => {\n            beforeAll(() => {\n                args.forceValue = forced;\n                ctrl = adminInputAction.controller({\n                    data: args,\n                    item: item\n                });\n            });\n\n            it('should initialize newValue with forced value', () => {\n                expect(ctrl.newValue()).toEqual(forced);\n            });\n\n            afterAll(() => {\n                delete args.forceValue;\n            });\n        });\n\n    });\n\n    describe('view', () => {\n        beforeEach(() => {\n            $output = mq(adminInputAction, {\n                data: args,\n                item: item\n            });\n        });\n\n        it('shoud render the outerLabel on first render', () => {\n            expect($output.contains(args.outerLabel)).toBeTrue();\n            expect($output.contains(args.innerLabel)).toBeFalse();\n            expect($output.contains(args.placeholder)).toBeFalse();\n            expect($output.contains(args.callToAction)).toBeFalse();\n        });\n\n        describe('on button click', () => {\n            beforeEach(() => {\n                $output.click('button');\n            });\n\n            it('should render an inner label', () => {\n                expect($output.contains(args.innerLabel)).toBeTrue();\n            });\n            it('should render a placeholder', () => {\n                expect($output.has('input[placeholder=\"' + args.placeholder + '\"]')).toBeTrue();\n            });\n            it('should render a call to action', () => {\n                expect($output.first('input[type=\"submit\"]').attrs.value).toEqual(args.callToAction);\n            });\n\n            describe('when forceValue is set', () => {\n                beforeAll(() => {\n                    args.forceValue = forced;\n                    ctrl = adminInputAction.controller({\n                        data: args,\n                        item: item\n                    });\n                });\n\n                it('should initialize newValue with forced value', () => {\n                    expect(ctrl.newValue()).toEqual(forced);\n                });\n\n                afterAll(() => {\n                    delete args.forceValue;\n                });\n            });\n        });\n\n        describe('on form submit', () => {\n            beforeAll(() => {\n                spyOn(m, 'request').and.returnValue({\n                    then: function(callback) {\n                        callback([{\n                            test: true\n                        }]);\n                    }\n                });\n            });\n            beforeEach(() => {\n                $output.click('button');\n            });\n\n            it('should call a submit function on form submit', () => {\n                $output.trigger('form', 'submit');\n                expect(m.request).toHaveBeenCalled();\n            });\n        });\n    });\n});\n","import m from 'mithril';\nimport _ from 'underscore';\nimport h from '../h';\n\nconst adminItem = {\n    controller (args) {\n        return {\n            displayDetailBox : h.toggleProp(false, true)\n        }\n    },\n    view (ctrl, args) {\n        const item = args.item;\n\n        return m('.w-clearfix.card.u-radius.u-marginbottom-20.results-admin-items', [\n            m.component(args.listItem, {\n                item: item,\n                key: args.key\n            }),\n            m('button.w-inline-block.arrow-admin.fa.fa-chevron-down.fontcolor-secondary', {\n                onclick: ctrl.displayDetailBox.toggle\n            }),\n            ctrl.displayDetailBox() ? m.component(args.listDetail, {\n                item: item,\n                key: args.key\n            }) : ''\n        ]);\n    }\n};\n\nexport default adminItem;\n","import m from 'mithril';\nimport adminItem from '../../src/c/admin-item';\n\ndescribe('AdminItem', () => {\n    let item, $output, ListItemMock, ListDetailMock;\n\n    beforeAll(() => {\n        ListItemMock = {\n            view: (ctrl, args) => {\n                return m('.list-item-mock');\n            }\n        };\n        ListDetailMock = {\n            view: (ctrl, args) => {\n                return m('.list-detail-mock');\n            }\n        };\n    });\n\n    describe('view', () => {\n        beforeEach(() => {\n            $output = mq(adminItem, {\n                listItem: ListItemMock,\n                listDetail: ListDetailMock,\n                item: item\n            });\n        });\n\n        it('should render list item', () => {\n            $output.should.have('.list-item-mock');\n        });\n\n        it('should render list detail when toggle details is true', () => {\n            $output.click('button');\n            $output.should.have('.list-detail-mock');\n        });\n\n        it('should not render list detail when toggle details is false', () => {\n            $output.should.not.have('.list-detail-mock');\n        });\n    });\n\n});\n","import m from 'mithril';\nimport h from '../h';\nimport adminItem from './admin-item';\n\nconst adminList = {\n    controller (args) {\n        const list = args.vm.list;\n\n        if (!list.collection().length && list.firstPage) {\n            list.firstPage().then(null, function(serverError) {\n                args.vm.error(serverError.message);\n            });\n        }\n    },\n    view (ctrl, args) {\n        const list = args.vm.list,\n            error = args.vm.error,\n            label = args.label || '';\n\n        return m('.w-section.section', [\n            m('.w-container',\n                error() ?\n                m('.card.card-error.u-radius.fontweight-bold', error()) : [\n                    m('.w-row.u-marginbottom-20', [\n                        m('.w-col.w-col-9', [\n                            m('.fontsize-base',\n                                list.isLoading() ?\n                                `Carregando ${label.toLowerCase()}...` : [m('span.fontweight-semibold', list.total()), ` ${label.toLowerCase()} encontrados`]\n                            )\n                        ])\n                    ]),\n                    m('#admin-contributions-list.w-container', [\n                        list.collection().map((item) => {\n                            return m.component(adminItem, {\n                                listItem: args.listItem,\n                                listDetail: args.listDetail,\n                                item: item,\n                                key: item.id\n                            });\n                        }),\n                        m('.w-section.section', [\n                            m('.w-container', [\n                                m('.w-row', [\n                                    m('.w-col.w-col-2.w-col-push-5', [\n                                        list.isLoading() ?\n                                        h.loader() :\n                                        m('button#load-more.btn.btn-medium.btn-terciary', {\n                                            onclick: list.nextPage\n                                        }, 'Carregar mais'),\n                                    ])\n                                ])\n                            ])\n                        ])\n                    ])\n                ]\n            )\n        ]);\n    }\n}\n\nexport default adminList;\n","import m from 'mithril';\nimport postgrest from 'mithril-postgrest';\nimport adminList from '../../src/c/admin-list';\n\ndescribe('adminList', () => {\n    let $output, model, vm, ListItemMock, ListDetailMock,\n        results = [{\n            id: 1\n        }],\n        listParameters, endpoint;\n\n    beforeAll(() => {\n        endpoint = mockEndpoint('items', results);\n\n        ListItemMock = {\n            view: function(ctrl, args) {\n                return m('.list-item-mock');\n            }\n        };\n        ListDetailMock = {\n            view: function(ctrl, args) {\n                return m('');\n            }\n        };\n        model = postgrest.model('items');\n        vm = {\n            list: postgrest.paginationVM(model),\n            error: m.prop()\n        };\n        listParameters = {\n            vm: vm,\n            listItem: ListItemMock,\n            listDetail: ListDetailMock\n        };\n    });\n\n    describe('view', () => {\n        describe('when not loading', () => {\n            beforeEach(() => {\n                spyOn(vm.list, \"isLoading\").and.returnValue(false);\n                $output = mq(\n                    adminList,\n                    listParameters\n                );\n            });\n\n            it('should render fetched items', () => {\n                expect($output.find('.card').length).toEqual(results.length);\n            });\n\n            it('should not show a loading icon', () => {\n                $output.should.not.have('img[alt=\"Loader\"]');\n            });\n        });\n\n        describe('when loading', () => {\n            beforeEach(() => {\n                spyOn(vm.list, \"isLoading\").and.returnValue(true);\n                $output = mq(\n                    adminList,\n                    listParameters\n                );\n            });\n\n            it('should render fetched items', () => {\n                expect($output.find('.card').length).toEqual(results.length);\n            });\n\n            it('should show a loading icon', () => {\n                $output.should.have('img[alt=\"Loader\"]');\n            });\n        });\n\n        describe('when error', () => {\n            beforeEach(() => {\n                vm.error('endpoint error');\n                $output = mq(\n                    adminList,\n                    listParameters\n                );\n            });\n\n            it('should show an error info', () => {\n                expect($output.has('.card-error')).toBeTrue();\n            });\n        });\n    });\n});\n","/**\n * window.c.AdminNotificationHistory component\n * Return notifications list from an User object.\n *\n * Example:\n * m.component(c.AdminNotificationHistory, {\n *     user: user\n * })\n */\nimport m from 'mithril';\nimport _ from 'underscore';\nimport h from '../h';\nimport models from '../models';\n\nconst adminNotificationHistory = {\n    controller (args) {\n        const notifications = m.prop([]),\n            getNotifications = (user) => {\n                let notification = models.notification;\n                notification.getPageWithToken(postgrest.filtersVM({\n                    user_id: 'eq',\n                    sent_at: 'is.null'\n                })\n                .user_id(user.id)\n                .sent_at(!null)\n                .order({\n                    sent_at: 'desc'\n                })\n                .parameters())\n                .then(notifications);\n            };\n\n        getNotifications(args.user);\n\n        return {\n            notifications: notifications\n        };\n    },\n    view (ctrl) {\n        return m('.w-col.w-col-4', [\n            m('.fontweight-semibold.fontsize-smaller.lineheight-tighter.u-marginbottom-20', 'Histórico de notificações'),\n            ctrl.notifications().map((cEvent) => {\n                return m('.w-row.fontsize-smallest.lineheight-looser.date-event', [\n                    m('.w-col.w-col-24', [\n                        m('.fontcolor-secondary', h.momentify(cEvent.sent_at, 'DD/MM/YYYY, HH:mm'),\n                          ' - ', cEvent.template_name, cEvent.origin ? ' - ' + cEvent.origin : '')\n                    ]),\n                ]);\n            })\n        ]);\n    }\n};\n\nexport default adminNotificationHistory;\n","import m from 'mithril';\nimport adminNotificationHistory from '../../src/c/admin-notification-history';\n\ndescribe('AdminNotificationHistory', () => {\n    let user, historyBox,\n        ctrl, view, $output;\n\n    beforeAll(() => {\n        user = m.prop(UserDetailMockery(1));\n        $output = mq(adminNotificationHistory, {user: user()[0]});\n    });\n\n    describe('view', () => {\n        it('should render fetched notifications', () => {\n            expect($output.find('.date-event').length).toEqual(1);\n        });\n    });\n});\n","/**\n * window.c.AdminProjectDetailsCard component\n * render an box with some project statistics info\n *\n * Example:\n * m.component(c.AdminProjectDetailsCard, {\n *     resource: projectDetail Object,\n * })\n */\nimport m from 'mithril';\nimport h from '../h';\nimport moment from 'moment';\n\nconst adminProjectDetailsCard = {\n    controller (args) {\n        let project = args.resource,\n            generateStatusText = () => {\n                let statusTextObj = m.prop({}),\n                    statusText = {\n                        online: {\n                            cssClass: 'text-success',\n                            text: 'NO AR'\n                        },\n                        successful: {\n                            cssClass: 'text-success',\n                            text: 'FINANCIADO'\n                        },\n                        failed: {\n                            cssClass: 'text-error',\n                            text: 'NÃO FINANCIADO'\n                        },\n                        waiting_funds: {\n                            cssClass: 'text-waiting',\n                            text: 'AGUARDANDO'\n                        },\n                        rejected: {\n                            cssClass: 'text-error',\n                            text: 'RECUSADO'\n                        },\n                        draft: {\n                            cssClass: '',\n                            text: 'RASCUNHO'\n                        },\n                        in_analysis: {\n                            cssClass: '',\n                            text: 'EM ANÁLISE'\n                        },\n                        approved: {\n                            cssClass: 'text-success',\n                            text: 'APROVADO'\n                        }\n                    };\n\n                statusTextObj(statusText[project.state]);\n\n                return statusTextObj;\n            },\n            isFinalLap = () => {\n                // @TODO: use 8 days because timezone on js\n                return !_.isNull(project.expires_at) && moment().add(8, 'days') >= moment(project.zone_expires_at);\n            };\n        return {\n            project: project,\n            statusTextObj: generateStatusText(),\n            remainingTextObj: h.translatedTime(project.remaining_time),\n            elapsedTextObj: h.translatedTime(project.elapsed_time),\n            isFinalLap: isFinalLap\n        };\n    },\n    view (ctrl) {\n        let project = ctrl.project,\n            progress = project.progress.toFixed(2),\n            statusTextObj = ctrl.statusTextObj(),\n            remainingTextObj = ctrl.remainingTextObj,\n            elapsedTextObj = ctrl.elapsedTextObj;\n\n        return m('.project-details-card.card.u-radius.card-terciary.u-marginbottom-20', [\n            m('div', [\n                m('.fontsize-small.fontweight-semibold', [\n                    m('span.fontcolor-secondary', 'Status:'), ' ',\n                    m('span', {\n                        class: statusTextObj.cssClass\n                    }, (ctrl.isFinalLap() && project.open_for_contributions ? 'RETA FINAL' : statusTextObj.text)), ' '\n                ]), project.is_published ? [\n                    m('.meter.u-margintop-20.u-marginbottom-10', [\n                        m('.meter-fill', {\n                            style: {\n                                width: (progress > 100 ? 100 : progress) + '%'\n                            }\n                        })\n                    ]),\n                    m('.w-row', [\n                        m('.w-col.w-col-3.w-col-small-3.w-col-tiny-6', [\n                            m('.fontcolor-secondary.lineheight-tighter.fontsize-small', 'financiado'),\n                            m('.fontweight-semibold.fontsize-large.lineheight-tight', progress + '%')\n                        ]),\n                        m('.w-col.w-col-3.w-col-small-3.w-col-tiny-6', [\n                            m('.fontcolor-secondary.lineheight-tighter.fontsize-small', 'levantados'),\n                            m('.fontweight-semibold.fontsize-large.lineheight-tight', [\n                                'R$ ' + h.formatNumber(project.pledged, 2),\n                            ]),\n                        ]),\n                        m('.w-col.w-col-3.w-col-small-3.w-col-tiny-6', [\n                            m('.fontcolor-secondary.lineheight-tighter.fontsize-small', 'apoios'),\n                            m('.fontweight-semibold.fontsize-large.lineheight-tight', project.total_contributions)\n                        ]),\n                        m('.w-col.w-col-3.w-col-small-3.w-col-tiny-6', [\n                            (_.isNull(project.expires_at) ? [\n                                m('.fontcolor-secondary.lineheight-tighter.fontsize-small', 'iniciado há'),\n                                m('.fontweight-semibold.fontsize-large.lineheight-tight', elapsedTextObj.total + ' ' + elapsedTextObj.unit)\n                            ] : [\n                                 m('.fontcolor-secondary.lineheight-tighter.fontsize-small', 'restam'),\n                                 m('.fontweight-semibold.fontsize-large.lineheight-tight', remainingTextObj.total + ' ' + remainingTextObj.unit)\n                             ])\n                        ])\n                    ])\n                ] : ''\n            ])\n        ]);\n    }\n};\n\nexport default adminProjectDetailsCard;\n","import m from 'mithril';\nimport h from '../../src/h';\nimport adminProjectDetailsCard from '../../src/c/admin-project-details-card';\n\ndescribe('AdminProjectDetailsCard', () => {\n    let generateController, ctrl, projectDetail, component, view, $output;\n\n    describe('controller', () => {\n        beforeAll(() => {\n            generateController = (attrs) => {\n                projectDetail = ProjectDetailsMockery(attrs)[0];\n                component = m.component(adminProjectDetailsCard, {\n                    resource: projectDetail\n                });\n                return component.controller();\n            };\n        });\n\n        describe('project status text', () => {\n            it('when project is online', () => {\n                ctrl = generateController({\n                    state: 'online'\n                });\n                expect(ctrl.statusTextObj().text).toEqual('NO AR');\n                expect(ctrl.statusTextObj().cssClass).toEqual('text-success');\n            });\n\n            it('when project is failed', () => {\n                ctrl = generateController({\n                    state: 'failed'\n                });\n                expect(ctrl.statusTextObj().text).toEqual('NÃO FINANCIADO');\n                expect(ctrl.statusTextObj().cssClass).toEqual('text-error');\n            });\n        });\n\n        describe('project remaining time', () => {\n            it('when remaining time is in days', () => {\n                ctrl = generateController({\n                    remaining_time: {\n                        total: 10,\n                        unit: 'days'\n                    }\n                });\n                expect(ctrl.remainingTextObj.total).toEqual(10);\n                expect(ctrl.remainingTextObj.unit).toEqual('dias');\n            });\n\n            it('when remaining time is in seconds', () => {\n                ctrl = generateController({\n                    remaining_time: {\n                        total: 12,\n                        unit: 'seconds'\n                    }\n                });\n                expect(ctrl.remainingTextObj.total).toEqual(12);\n                expect(ctrl.remainingTextObj.unit).toEqual('segundos');\n            });\n\n            it('when remaining time is in hours', () => {\n                ctrl = generateController({\n                    remaining_time: {\n                        total: 2,\n                        unit: 'hours'\n                    }\n                });\n                expect(ctrl.remainingTextObj.total).toEqual(2);\n                expect(ctrl.remainingTextObj.unit).toEqual('horas');\n            });\n        });\n    });\n\n    describe('view', () => {\n        beforeAll(() => {\n            projectDetail = ProjectDetailsMockery()[0];\n            component = m.component(adminProjectDetailsCard, {\n                resource: projectDetail\n            });\n            ctrl = component.controller();\n            view = component.view(ctrl, {\n                resource: projectDetail\n            });\n            $output = mq(view);\n        });\n\n        it('should render details of the project in card', () => {\n            let remaningTimeObj = ctrl.remainingTextObj,\n                statusTextObj = ctrl.statusTextObj();\n\n            expect($output.find('.project-details-card').length).toEqual(1);\n            expect($output.contains(projectDetail.total_contributions)).toEqual(true);\n            expect($output.contains('R$ ' + h.formatNumber(projectDetail.pledged, 2))).toEqual(true);\n        });\n    });\n});\n","import m from 'mithril';\nimport _ from 'underscore';\nimport h from '../h';\n\nconst adminRadioAction = {\n    controller (args) {\n        const builder = args.data,\n            complete = m.prop(false),\n            data = {},\n            error = m.prop(false),\n            fail = m.prop(false),\n            item = args.item(),\n            description = m.prop(item.description || ''),\n            key = builder.getKey,\n            newID = m.prop(''),\n            getFilter = {},\n            setFilter = {},\n            radios = m.prop(),\n            getAttr = builder.radios,\n            getKey = builder.getKey,\n            getKeyValue = args.getKeyValue,\n            updateKey = builder.updateKey,\n            updateKeyValue = args.updateKeyValue,\n            validate = builder.validate,\n            selectedItem = builder.selectedItem || m.prop();\n\n        setFilter[updateKey] = 'eq';\n        const setVM = postgrest.filtersVM(setFilter);\n        setVM[updateKey](updateKeyValue);\n\n        getFilter[getKey] = 'eq';\n        const getVM = postgrest.filtersVM(getFilter);\n        getVM[getKey](getKeyValue);\n\n        const getLoader = postgrest.loaderWithToken(builder.getModel.getPageOptions(getVM.parameters()));\n\n        const setLoader = postgrest.loaderWithToken(builder.updateModel.patchOptions(setVM.parameters(), data));\n\n        const updateItem = (data) => {\n            if (data.length > 0) {\n                const newItem = _.findWhere(radios(), {\n                    id: data[0][builder.selectKey]\n                });\n                selectedItem(newItem);\n            } else {\n                error({\n                    message: 'Nenhum item atualizado'\n                });\n            }\n            complete(true);\n        };\n\n        const fetch = () => {\n            getLoader.load().then(radios, error);\n        };\n\n        const submit = () => {\n            if (newID()) {\n                let validation = validate(radios(), newID());\n                if (_.isUndefined(validation)) {\n                    data[builder.selectKey] = newID();\n                    setLoader.load().then(updateItem, error);\n                } else {\n                    complete(true);\n                    error({\n                        message: validation\n                    });\n                }\n            }\n            return false;\n        };\n\n        const unload = (el, isinit, context) => {\n            context.onunload = () => {\n                complete(false);\n                error(false);\n                newID('');\n            };\n        };\n\n        const setDescription = (text) => {\n            description(text);\n            m.redraw();\n        };\n\n        fetch();\n\n        return {\n            complete: complete,\n            description: description,\n            setDescription: setDescription,\n            error: error,\n            setLoader: setLoader,\n            getLoader: getLoader,\n            newID: newID,\n            submit: submit,\n            toggler: h.toggleProp(false, true),\n            unload: unload,\n            radios: radios\n        };\n    },\n    view (ctrl, args) {\n        const data = args.data,\n            item = args.item(),\n            btnValue = (ctrl.setLoader() || ctrl.getLoader()) ? 'por favor, aguarde...' : data.callToAction;\n\n        return m('.w-col.w-col-2', [\n            m('button.btn.btn-small.btn-terciary', {\n                onclick: ctrl.toggler.toggle\n            }, data.outerLabel), (ctrl.toggler()) ?\n            m('.dropdown-list.card.u-radius.dropdown-list-medium.zindex-10', {\n                config: ctrl.unload\n            }, [\n                m('form.w-form', {\n                    onsubmit: ctrl.submit\n                }, (!ctrl.complete()) ? [\n                    (ctrl.radios()) ?\n                    _.map(ctrl.radios(), (radio, index) => {\n                        const set = () => {\n                            ctrl.newID(radio.id);\n                            ctrl.setDescription(radio.description);\n                        };\n                        const selected = (radio.id === (item[data.selectKey] || item.id)) ? true : false;\n\n                        return m('.w-radio', [\n                            m('input#r-' + index + '.w-radio-input[type=radio][name=\"admin-radio\"][value=\"' + radio.id + '\"]' + ((selected) ? '[checked]' : ''), {\n                                onclick: set\n                            }),\n                            m('label.w-form-label[for=\"r-' + index + '\"]', 'R$' + radio.minimum_value)\n                        ]);\n                    }) : h.loader(),\n                    m('strong', 'Descrição'),\n                    m('p', ctrl.description()),\n                    m('input.w-button.btn.btn-small[type=\"submit\"][value=\"' + btnValue + '\"]')\n                ] : (!ctrl.error()) ? [\n                    m('.w-form-done[style=\"display:block;\"]', [\n                        m('p', 'Recompensa alterada com sucesso!')\n                    ])\n                ] : [\n                    m('.w-form-error[style=\"display:block;\"]', [\n                        m('p', ctrl.error().message)\n                    ])\n                ])\n            ]) : ''\n        ]);\n    }\n};\n\nexport default adminRadioAction;\n","import m from 'mithril';\nimport postgrest from 'mithril-postgrest';\nimport adminRadioAction from '../../src/c/admin-radio-action';\n\ndescribe('AdminRadioAction', () => {\n    const testModel = postgrest.model('reward_details'),\n        testStr = 'updated',\n        errorStr = 'error!';\n\n    let error = false,\n        item,\n        fakeData = {},\n        $output;\n\n    let args = {\n        getKey: 'project_id',\n        updateKey: 'contribution_id',\n        selectKey: 'reward_id',\n        radios: 'rewards',\n        callToAction: 'Alterar Recompensa',\n        outerLabel: 'Recompensa',\n        getModel: testModel,\n        updateModel: testModel,\n        validate: () => {\n            return undefined;\n        }\n    };\n\n    let errorArgs = _.extend({}, args, {\n        validate: () => {\n            return errorStr;\n        }\n    });\n\n    describe('view', () => {\n        beforeAll(() => {\n            item = _.first(RewardDetailsMockery());\n            args.selectedItem = m.prop(item);\n            $output = mq(adminRadioAction, {\n                data: args,\n                item: m.prop(item)\n            });\n        });\n\n        it('shoud only render the outerLabel on first render', () => {\n            expect($output.contains(args.outerLabel)).toBeTrue();\n            expect($output.contains(args.callToAction)).toBeFalse();\n        });\n\n        describe('on action button click', () => {\n            beforeAll(() => {\n                $output.click('button');\n            });\n\n            it('should render a row of radio inputs', () => {\n                const lastRequest = jasmine.Ajax.requests.mostRecent();\n                expect($output.find('input[type=\"radio\"]').length).toEqual(JSON.parse(lastRequest.responseText).length);\n            });\n\n            it('should render the description of the default selected radio', () => {\n                $output.should.contain(item.description);\n            });\n\n            it('should send an patch request on form submit', () => {\n                $output.click('#r-0');\n                $output.trigger('form', 'submit');\n                const lastRequest = jasmine.Ajax.requests.mostRecent();\n                // Should make a patch request to update item\n                expect(lastRequest.method).toEqual('PATCH');\n            });\n\n            describe('when new value is not valid', () => {\n                beforeAll(() => {\n                    $output = mq(adminRadioAction, {\n                        data: errorArgs,\n                        item: m.prop(item)\n                    });\n                    $output.click('button');\n                    $output.click('#r-0');\n\n                });\n\n                it('should present an error message when new value is invalid', () => {\n                    $output.trigger('form', 'submit');\n                    $output.should.contain(errorStr);\n                });\n            });\n        });\n    });\n});\n","import m from 'mithril';\nimport h from '../h';\n\nconst adminReward = {\n    view (ctrl, args) {\n        const reward = args.reward(),\n            available = parseInt(reward.paid_count) + parseInt(reward.waiting_payment_count);\n\n        return m('.w-col.w-col-4', [\n            m('.fontweight-semibold.fontsize-smaller.lineheight-tighter.u-marginbottom-20', 'Recompensa'),\n            m('.fontsize-smallest.lineheight-looser', reward.id ? [\n                'ID: ' + reward.id,\n                m('br'),\n                'Valor mínimo: R$' + h.formatNumber(reward.minimum_value, 2, 3),\n                m('br'),\n                m.trust('Disponíveis: ' + available + ' / ' + (reward.maximum_contributions || '&infin;')),\n                m('br'),\n                'Aguardando confirmação: ' + reward.waiting_payment_count,\n                m('br'),\n                'Descrição: ' + reward.description\n            ] : 'Apoio sem recompensa')\n        ]);\n    }\n};\n\nexport default adminReward;\n","import adminReward from '../../src/c/admin-reward';\n\ndescribe('adminReward', () => {\n    let ctrl, $output;\n\n    describe('view', () => {\n        let reward, ctrl;\n\n        describe(\"when contribution has no reward\", function() {\n            beforeAll(() => {\n                $output = mq(adminReward.view(undefined, {\n                    reward: m.prop({})\n                }));\n            });\n\n            it('should render \"no reward\" text when reward_id is null', () => {\n                $output.should.contain('Apoio sem recompensa');\n            });\n        });\n\n        describe(\"when contribution has reward\", function() {\n            let reward;\n\n            beforeAll(() => {\n                reward = m.prop(RewardDetailsMockery()[0]);\n                $output = mq(adminReward.view(undefined, {\n                    reward: reward\n                }));\n            });\n\n            it(\"should render reward description when we have a reward_id\", function() {\n                $output.should.contain(reward().description);\n            });\n        });\n    });\n});\n","import m from 'mithril';\nimport _ from 'underscore';\nimport h from '../h';\n\nconst adminTransactionHistory = {\n    controller (args) {\n        const contribution = args.contribution,\n            mapEvents = _.reduce([{\n                date: contribution.paid_at,\n                name: 'Apoio confirmado'\n            }, {\n                date: contribution.pending_refund_at,\n                name: 'Reembolso solicitado'\n            }, {\n                date: contribution.refunded_at,\n                name: 'Estorno realizado'\n            }, {\n                date: contribution.created_at,\n                name: 'Apoio criado'\n            }, {\n                date: contribution.refused_at,\n                name: 'Apoio cancelado'\n            }, {\n                date: contribution.deleted_at,\n                name: 'Apoio excluído'\n            }, {\n                date: contribution.chargeback_at,\n                name: 'Chargeback'\n            }], (memo, item) => {\n                if (item.date !== null && item.date !== undefined) {\n                    item.originalDate = item.date;\n                    item.date = h.momentify(item.date, 'DD/MM/YYYY, HH:mm');\n                    return memo.concat(item);\n                }\n\n                return memo;\n            }, []);\n\n        return {\n            orderedEvents: _.sortBy(mapEvents, 'originalDate')\n        };\n    },\n    view (ctrl) {\n        return m('.w-col.w-col-4', [\n            m('.fontweight-semibold.fontsize-smaller.lineheight-tighter.u-marginbottom-20', 'Histórico da transação'),\n            ctrl.orderedEvents.map((cEvent) => {\n                return m('.w-row.fontsize-smallest.lineheight-looser.date-event', [\n                    m('.w-col.w-col-6', [\n                        m('.fontcolor-secondary', cEvent.date)\n                    ]),\n                    m('.w-col.w-col-6', [\n                        m('div', cEvent.name)\n                    ])\n                ]);\n            })\n        ]);\n    }\n};\n\nexport default adminTransactionHistory;\n","import m from 'mithril';\nimport adminTransactionHistory from '../../src/c/admin-transaction-history';\n\ndescribe('adminTransactionHistory', () => {\n    let c = window.c,\n        contribution, historyBox,\n        ctrl, view, $output;\n\n    beforeAll(() => {\n        contribution = m.prop(ContributionDetailMockery(1));\n        historyBox = m.component(adminTransactionHistory, {\n            contribution: contribution()[0]\n        });\n        ctrl = historyBox.controller();\n        view = historyBox.view(ctrl, {\n            contribution: contribution\n        });\n        $output = mq(view);\n    });\n\n    describe('controller', () => {\n        it('should have orderedEvents', () => {\n            expect(ctrl.orderedEvents.length).toEqual(2);\n        });\n\n        it('should have formated the date on orderedEvents', () => {\n            expect(ctrl.orderedEvents[0].date).toEqual('15/01/2015, 17:25');\n        });\n    });\n\n    describe('view', () => {\n        it('should render fetched orderedEvents', () => {\n            expect($output.find('.date-event').length).toEqual(2);\n        });\n    });\n});\n","import m from 'mithril';\nimport h from '../h';\n\nconst adminTransaction = {\n    view (ctrl, args) {\n        const contribution = args.contribution;\n        return m('.w-col.w-col-4', [\n            m('.fontweight-semibold.fontsize-smaller.lineheight-tighter.u-marginbottom-20', 'Detalhes do apoio'),\n            m('.fontsize-smallest.lineheight-looser', [\n                'Valor: R$' + h.formatNumber(contribution.value, 2, 3),\n                m('br'),\n                'Taxa: R$' + h.formatNumber(contribution.gateway_fee, 2, 3),\n                m('br'),\n                'Aguardando Confirmação: ' + (contribution.waiting_payment ? 'Sim' : 'Não'),\n                m('br'),\n                'Anônimo: ' + (contribution.anonymous ? 'Sim' : 'Não'),\n                m('br'),\n                'Id pagamento: ' + contribution.gateway_id,\n                m('br'),\n                'Apoio: ' + contribution.contribution_id,\n                m('br'),\n                'Chave: \\n',\n                m('br'),\n                contribution.key,\n                m('br'),\n                'Meio: ' + contribution.gateway,\n                m('br'),\n                'Operadora: ' + (contribution.gateway_data && contribution.gateway_data.acquirer_name),\n                m('br'),\n                contribution.is_second_slip ? [m('a.link-hidden[href=\"#\"]', 'Boleto bancário'), ' ', m('span.badge', '2a via')] : ''\n            ])\n        ]);\n    }\n};\n\nexport default adminTransaction;\n","import m from 'mithril';\nimport adminTransaction from '../../src/c/admin-transaction';\n\ndescribe('AdminTransaction', () => {\n    let contribution,\n        view, $output;\n\n    beforeAll(() => {\n        contribution = m.prop(ContributionDetailMockery(1, {\n            gateway_data: null\n        }));\n\n        $output = mq(m.component(adminTransaction, {\n            contribution: contribution()[0]\n        }).view);\n    });\n\n    describe('view', () => {\n        it('should render details about contribution', () => {\n            expect($output.contains('Valor: R$50,00')).toBeTrue();\n            expect($output.contains('Meio: MoIP')).toBeTrue();\n        });\n    });\n});\n","import m from 'mithril';\nimport h from '../h';\n\nconst adminUser = {\n    view (ctrl, args) {\n        const user = args.item;\n\n        return m('.w-row.admin-user', [\n            m('.w-col.w-col-3.w-col-small-3.u-marginbottom-10', [\n                m('img.user-avatar[src=\"' + h.useAvatarOrDefault(user.profile_img_thumbnail) + '\"]')\n            ]),\n            m('.w-col.w-col-9.w-col-small-9', [\n                m('.fontweight-semibold.fontsize-smaller.lineheight-tighter.u-marginbottom-10', [\n                    m('a.alt-link[target=\"_blank\"][href=\"/users/' + user.id + '/edit\"]', user.name || user.email)\n                ]),\n                m('.fontsize-smallest', 'Usuário: ' + user.id),\n                m('.fontsize-smallest.fontcolor-secondary', 'Email: ' + user.email),\n                args.additional_data\n            ])\n        ]);\n    }\n};\n\nexport default adminUser;\n","import adminUser from '../../src/c/admin-user';\n\ndescribe('AdminUser', () => {\n    let item, $output;\n\n    describe('view', () => {\n        beforeAll(() => {\n            item = ContributionDetailMockery(1)[0];\n            $output = mq(adminUser.view(null, {\n                item: item\n            }));\n        });\n\n        it('should build an item from an item describer', () => {\n            expect($output.has('.user-avatar')).toBeTrue();\n            expect($output.contains(item.email)).toBeTrue();\n        });\n    });\n\n});\n","/**\n * window.c.CategoryButton component\n * Return a link with a btn-category class.\n * It uses a category parameter.\n *\n * Example:\n * m.component(c.CategoryButton, {\n *     category: {\n *         id: 1,\n *         name: 'Video',\n *         online_projects: 1\n *     }\n * })\n */\nimport m from 'mithril';\n\nconst categoryButton = {\n    view (ctrl, args) {\n        const category = args.category;\n        \n        return m('.w-col.w-col-2.w-col-small-6.w-col-tiny-6', [\n            m(`a.w-inline-block.btn-category${category.name.length > 13 ? '.double-line' : ''}[href='#by_category_id/${category.id}']`,\n              [\n                  m('div', [\n                      category.name,\n                      m('span.badge.explore', category.online_projects)\n                  ])\n              ])\n        ]);\n    }\n};\n\nexport default categoryButton;\n","import m from 'mithril';\nimport categoryButton from '../../src/c/category-button';\n\ndescribe('CategoryButton', () => {\n    let $output,\n        c = window.c;\n\n    describe('view', () => {\n        beforeAll(() => {\n            $output = mq(m.component(categoryButton, {\n                category: {\n                    id: 1,\n                    name: 'cat',\n                    online_projects: 1\n                }\n            }));\n        });\n\n        it('should build a link with .btn-category', function() {\n            expect($output.has('a.btn-category')).toBeTrue();\n        });\n    });\n});\n","/**\n * window.c.FilterButton component\n * Return a link with a filters class.\n * It uses a href and a title parameter.\n *\n * Example:\n * m.component(c.FilterButton, {\n *     title: 'Filter by category',\n *     href: 'filter_by_category'\n * })\n */\n\nimport m from 'mithril';\n\nconst filterButton = {\n    view (ctrl, args) {\n        const title = args.title,\n              href = args.href;\n        return m('.w-col.w-col-2.w-col-small-6.w-col-tiny-6', [\n            m(`a.w-inline-block.btn-category.filters${title.length > 13 ? '.double-line' : ''}[href='#${href}']`, [\n                m('div', [\n                    title\n                ])\n            ])\n        ]);\n    }\n};\n\nexport default filterButton;\n","import m from 'mithril';\nimport filterButton from '../../src/c/filter-button';\n\ndescribe('FilterButton', () => {\n    let $output;\n\n    describe('view', () => {\n        beforeAll(() => {\n            $output = mq(m.component(filterButton, {\n                title: 'Test',\n                href: 'test'\n            }));\n        });\n\n        it('should build a link with .filters', () => {\n            expect($output.has('a.filters')).toBeTrue();\n        });\n    });\n});\n","import m from 'mithril';\n\nconst paymentStatus = {\n    controller (args) {\n        let payment = args.item,\n            card = null,\n            displayPaymentMethod, paymentMethodClass, stateClass;\n\n        card = () => {\n            if (payment.gateway_data) {\n                switch (payment.gateway.toLowerCase()) {\n                    case 'moip':\n                        return {\n                            first_digits: payment.gateway_data.cartao_bin,\n                            last_digits: payment.gateway_data.cartao_final,\n                            brand: payment.gateway_data.cartao_bandeira\n                        };\n                    case 'pagarme':\n                        return {\n                            first_digits: payment.gateway_data.card_first_digits,\n                            last_digits: payment.gateway_data.card_last_digits,\n                            brand: payment.gateway_data.card_brand\n                        };\n                }\n            }\n        };\n\n        displayPaymentMethod = () => {\n            switch (payment.payment_method.toLowerCase()) {\n                case 'boletobancario':\n                    return m('span#boleto-detail', '');\n                case 'cartaodecredito':\n                    var cardData = card();\n                    if (cardData) {\n                        return m('#creditcard-detail.fontsize-smallest.fontcolor-secondary.lineheight-tight', [\n                            cardData.first_digits + '******' + cardData.last_digits,\n                            m('br'),\n                            cardData.brand + ' ' + payment.installments + 'x'\n                        ]);\n                    }\n                    return '';\n            }\n        };\n\n        paymentMethodClass = () => {\n            switch (payment.payment_method.toLowerCase()) {\n                case 'boletobancario':\n                    return '.fa-barcode';\n                case 'cartaodecredito':\n                    return '.fa-credit-card';\n                default:\n                    return '.fa-question';\n            }\n        };\n\n        stateClass = () => {\n            switch (payment.state) {\n                case 'paid':\n                    return '.text-success';\n                case 'refunded':\n                    return '.text-refunded';\n                case 'pending':\n                case 'pending_refund':\n                    return '.text-waiting';\n                default:\n                    return '.text-error';\n            }\n        };\n\n        return {\n            displayPaymentMethod: displayPaymentMethod,\n            paymentMethodClass: paymentMethodClass,\n            stateClass: stateClass\n        };\n    },\n    view (ctrl, args) {\n        const payment = args.item;\n\n        return m('.w-row.payment-status', [\n            m('.fontsize-smallest.lineheight-looser.fontweight-semibold', [\n                m('span.fa.fa-circle' + ctrl.stateClass()), ' ' + payment.state\n            ]),\n            m('.fontsize-smallest.fontweight-semibold', [\n                m('span.fa' + ctrl.paymentMethodClass()), ' ', m('a.link-hidden[href=\"#\"]', payment.payment_method)\n            ]),\n            m('.fontsize-smallest.fontcolor-secondary.lineheight-tight', [\n                ctrl.displayPaymentMethod()\n            ])\n        ]);\n    }\n}\n\nexport default paymentStatus;\n","import m from 'mithril';\nimport paymentStatus from '../../src/c/payment-status';\n\ndescribe('PaymentStatus', () => {\n    let c = window.c,\n        ctrl,\n        setController = (contribution) => {\n            let payment = {\n                gateway: contribution.gateway,\n                gateway_data: contribution.gateway_data,\n                installments: contribution.installments,\n                state: contribution.state,\n                payment_method: contribution.payment_method\n            };\n            ctrl = m.component(paymentStatus, {\n                item: payment\n            }).controller();\n        };\n\n    describe('stateClass function', () => {\n        it('should return a success CSS class when contribution state is paid', () => {\n            let contribution = ContributionDetailMockery(1, {\n                state: 'paid'\n            })[0];\n            setController(contribution);\n            expect(ctrl.stateClass()).toEqual('.text-success');\n        });\n        it('should return a success CSS class when contribution state is refunded', () => {\n            let contribution = ContributionDetailMockery(1, {\n                state: 'refunded'\n            })[0];\n            setController(contribution);\n            expect(ctrl.stateClass()).toEqual('.text-refunded');\n        });\n        it('should return a warning CSS class when contribution state is pending', () => {\n            let contribution = ContributionDetailMockery(1, {\n                state: 'pending'\n            })[0];\n            setController(contribution);\n            expect(ctrl.stateClass()).toEqual('.text-waiting');\n        });\n        it('should return an error CSS class when contribution state is refused', () => {\n            let contribution = ContributionDetailMockery(1, {\n                state: 'refused'\n            })[0];\n            setController(contribution);\n            expect(ctrl.stateClass()).toEqual('.text-error');\n        });\n        it('should return an error CSS class when contribution state is not known', () => {\n            let contribution = ContributionDetailMockery(1, {\n                state: 'foo'\n            })[0];\n            setController(contribution);\n            expect(ctrl.stateClass()).toEqual('.text-error');\n        });\n    });\n\n    describe('paymentMethodClass function', () => {\n        let CSSboleto = '.fa-barcode',\n            CSScreditcard = '.fa-credit-card',\n            CSSerror = '.fa-question';\n\n        it('should return a boleto CSS class when contribution payment method is boleto', () => {\n            let contribution = ContributionDetailMockery(1, {\n                payment_method: 'BoletoBancario'\n            })[0];\n            setController(contribution);\n            expect(ctrl.paymentMethodClass()).toEqual(CSSboleto);\n        });\n        it('should return a credit card CSS class when contribution payment method is credit card', () => {\n            let contribution = ContributionDetailMockery(1, {\n                payment_method: 'CartaoDeCredito'\n            })[0];\n            setController(contribution);\n            expect(ctrl.paymentMethodClass()).toEqual(CSScreditcard);\n        });\n        it('should return an error CSS class when contribution payment method is not known', () => {\n            let contribution = ContributionDetailMockery(1, {\n                payment_method: 'foo'\n            })[0];\n            setController(contribution);\n            expect(ctrl.paymentMethodClass()).toEqual(CSSerror);\n        });\n    });\n\n    describe('view', () => {\n        let getOutput = (payment_method) => {\n            let contribution = ContributionDetailMockery(1, {\n                    payment_method: payment_method\n                })[0],\n                payment = {\n                    gateway: contribution.gateway,\n                    gateway_data: contribution.gateway_data,\n                    installments: contribution.installments,\n                    state: contribution.state,\n                    payment_method: contribution.payment_method\n                };\n            return mq(m.component(paymentStatus, {\n                item: payment\n            }));\n        };\n\n        it('should return an HTML element describing a boleto when payment_method is boleto', () => {\n            expect(getOutput('BoletoBancario').has('#boleto-detail')).toBeTrue();\n        });\n        it('should return an HTML element describing a credit card when payment_method is credit card', () => {\n            expect(getOutput('CartaoDeCredito').has('#creditcard-detail')).toBeTrue();\n        });\n    });\n});\n","import m from 'mithril';\nimport _ from 'underscore';\nimport h from '../h';\n\nconst projectRewardList = {\n    view (ctrl, args) {\n        //FIXME: MISSING ADJUSTS\n        // - add draft admin modifications\n        var project = args.project;\n        return m('#rewards.u-marginbottom-30', _.map(args.rewardDetails(), (reward) => {\n            var contributionUrlWithReward = '/projects/' + project().id + '/contributions/new?reward_id=' + reward.id;\n\n            return m('a[class=\"' + (h.rewardSouldOut(reward) ? 'card-gone' : 'card-reward ' + (project().open_for_contributions ? 'clickable' : '')) + ' card card-secondary u-marginbottom-10\"][href=\"' + (project().open_for_contributions && !h.rewardSouldOut(reward) ? contributionUrlWithReward : 'js:void(0);') + '\"]', [\n                m('.u-marginbottom-20', [\n                    m('.fontsize-base.fontweight-semibold', 'Para R$ ' + h.formatNumber(reward.minimum_value) + ' ou mais'),\n                    m('.fontsize-smaller.fontweight-semibold', h.pluralize(reward.paid_count, ' apoio', ' apoios')), (reward.maximum_contributions > 0 ? [\n                        (reward.waiting_payment_count > 0 ? m('.maximum_contributions.in_time_to_confirm.clearfix', [\n                            m('.pending.fontsize-smallest.fontcolor-secondary', h.pluralize(reward.waiting_payment_count, ' apoio em prazo de confirmação', ' apoios em prazo de confirmação.'))\n                        ]) : ''), (h.rewardSouldOut(reward) ? m('.u-margintop-10', [\n                            m('span.badge.badge-gone.fontsize-smaller', 'Esgotada')\n                        ]) : m('.u-margintop-10', [\n                            m('span.badge.badge-attention.fontsize-smaller', [\n                                m('span.fontweight-bold', 'Limitada'),\n                                ' (' + h.rewardRemaning(reward) + ' de ' + reward.maximum_contributions + ' disponíveis)'\n                            ])\n                        ]))\n                    ] : ''),\n                ]),\n                m('.fontsize-smaller.u-margintop-20', m.trust(h.simpleFormat(reward.description))), (!_.isEmpty(reward.deliver_at) ?\n                    m('.fontsize-smaller', [\n                        m('b', 'Estimativa de Entrega: '),\n                        h.momentify(reward.deliver_at, 'MMM/YYYY')\n                    ]) : ''), (project().open_for_contributions && !h.rewardSouldOut(reward) ?\n                    m('.project-reward-box-hover', [\n                        m('.project-reward-box-select-text.u-text-center', 'Selecione essa recompensa')\n                    ]) : '')\n            ]);\n        }));\n    }\n};\n\nexport default projectRewardList;\n","/**\n * window.c.ProjectSuggestedContributions component\n * A Project-show page helper to show suggested amounts of contributions\n *\n * Example of use:\n * view: () => {\n *   ...\n *   m.component(c.ProjectSuggestedContributions, {project: project})\n *   ...\n * }\n */\nimport m from 'mithril';\nimport _ from 'underscore';\n\nconst projectSuggestedContributions = {\n    view (ctrl, args) {\n        const project = args.project();\n        const suggestionUrl = (amount) => {\n            return `/projects/${project.project_id}/contributions/new?amount=${amount}`;\n        }, suggestedValues = [10, 25, 50, 100];\n\n        return m('#suggestions', _.map(suggestedValues, (amount) => {\n            return m(`a[href=\"${suggestionUrl(amount)}\"].card-reward.card-big.card-secondary.u-marginbottom-20`, [\n                m('.fontsize-larger', `R$ ${amount}`)\n            ]);\n        }));\n    }\n};\n\nexport default projectSuggestedContributions;\n","import m from 'mithril';\nimport h from '../h';\nimport projectRewardList from './project-reward-list';\nimport projectSuggestedContributions from './project-suggested-contributions';\n\nconst projectAbout = {\n    view (ctrl, args) {\n        const project = args.project() || {},\n            onlineDays = () => {\n                let diff = moment(project.zone_online_date).diff(moment(project.zone_expires_at)),\n                    duration = moment.duration(diff);\n\n                return -Math.ceil(duration.asDays());\n            };\n        let fundingPeriod = () => {\n            return (project.is_published && h.existy(project.zone_expires_at)) ? m('.funding-period', [\n                m('.fontsize-small.fontweight-semibold.u-text-center-small-only', 'Período de campanha'),\n                m('.fontsize-small.u-text-center-small-only', `${h.momentify(project.zone_online_date)} - ${h.momentify(project.zone_expires_at)} (${onlineDays()} dias)`)\n            ]) : '';\n        };\n\n        return m('#project-about', [\n            m('.project-about.w-col.w-col-8', {\n                config: h.UIHelper()\n            }, [\n                m('p.fontsize-base', [\n                    m('strong', 'O projeto'),\n                ]),\n                m('.fontsize-base[itemprop=\"about\"]', m.trust(h.selfOrEmpty(project.about_html, '...'))),\n                project.budget ? [\n                    m('p.fontsize-base.fontweight-semibold', 'Orçamento'),\n                    m('p.fontsize-base', m.trust(project.budget))\n                ] : '',\n            ]),\n            m('.w-col.w-col-4.w-hidden-small.w-hidden-tiny', !_.isEmpty(args.rewardDetails()) ? [\n                m('.fontsize-base.fontweight-semibold.u-marginbottom-30', 'Recompensas'),\n                m.component(projectRewardList, {\n                    project: args.project,\n                    rewardDetails: args.rewardDetails\n                }), fundingPeriod()\n            ] : [\n                m('.fontsize-base.fontweight-semibold.u-marginbottom-30', 'Sugestões de apoio'),\n                m.component(projectSuggestedContributions, {project: args.project}),\n                fundingPeriod()\n            ])\n        ]);\n    }\n};\n\nexport default projectAbout;\n","import m from 'mithril';\nimport projectAbout from '../../src/c/project-about';\n\ndescribe('ProjectAbout', () => {\n    let $output, projectDetail, rewardDetail;\n\n    describe('view', () => {\n        beforeAll(() => {\n            projectDetail = ProjectDetailsMockery()[0];\n            rewardDetail = RewardDetailsMockery()[0];\n            let component = m.component(projectAbout, {\n                    project: m.prop(projectDetail),\n                    rewardDetails: m.prop(RewardDetailsMockery())\n                }),\n                view = component.view();\n            $output = mq(view);\n        });\n\n        it('should render project about and reward list', () => {\n            expect($output.contains(projectDetail.about_html)).toEqual(true);\n            expect($output.contains(rewardDetail.description)).toEqual(true);\n        });\n    });\n});\n","import m from 'mithril';\nimport I18n from 'i18n-js';\nimport _ from 'underscore';\nimport h from '../h';\nimport models from '../models';\n\nconst I18nScope = _.partial(h.i18nScope, 'projects.card');\nconst projectCard = {\n    view (ctrl, args) {\n        const project = args.project,\n            progress = project.progress.toFixed(2),\n            remainingTextObj = h.translatedTime(project.remaining_time),\n            link = '/' + project.permalink + (args.ref ? '?ref=' + args.ref : ''),\n            type = args.type || 'small',\n            css = (cardType) => {\n                const cssClasses = {\n                    'small': {\n                        wrapper: '.w-col.w-col-4',\n                        innerWrapper: '.card-project.card.u-radius',\n                        thumb: '.card-project-thumb',\n                        descriptionWrapper: '',\n                        description: '.card-project-description.alt',\n                        title: '.fontweight-semibold.u-text-center-small-only.lineheight-tight.u-marginbottom-10.fontsize-base',\n                        author: '.w-hidden-small.w-hidden-tiny.fontsize-smallest.fontcolor-secondary.u-marginbottom-20',\n                        headline: '.w-hidden-small.w-hidden-tiny.fontcolor-secondary.fontsize-smaller',\n                        city: '.w-hidden-small.w-hidden-tiny.card-project-author.altt'\n                    },\n                    'medium': {\n                        wrapper: '.w-col.w-col-6',\n                        innerWrapper: '.card-project.card.u-radius',\n                        thumb: '.card-project-thumb.medium',\n                        descriptionWrapper: '',\n                        description: '.card-project-description.alt',\n                        title: '.fontsize-large.fontweight-semibold.u-marginbottom-10',\n                        author: '.w-hidden-small.w-hidden-tiny.fontsize-smallest.fontcolor-secondary.u-marginbottom-20',\n                        headline: '.w-hidden-small.w-hidden-tiny.fontcolor-secondary.fontsize-smaller',\n                        city: '.w-hidden-small.w-hidden-tiny.card-project-author.altt'\n                    },\n                    'big': {\n                        wrapper: '.card.u-radius.card-project',\n                        innerWrapper: '.w-row',\n                        thumb: '.w-col.w-col-8.w-col-medium-6.card-project-thumb.big',\n                        descriptionWrapper: '.w-col.w-col-4.w-col-medium-6',\n                        description: '.card-project-description.big',\n                        title: '.fontsize-large.fontweight-semibold.u-marginbottom-10',\n                        author: '.fontsize-smallest.fontcolor-secondary.u-marginbottom-20',\n                        headline: '.fontcolor-secondary.fontsize-smaller',\n                        city: '.w-hidden'\n                    }\n                };\n\n                return cssClasses[cardType];\n            };\n\n        return m(css(type).wrapper, [\n            m(css(type).innerWrapper, [\n                m(`a${css(type).thumb}[href=\"${link}\"]`, {\n                    style: {\n                        'background-image': `url(${project.project_img})`,\n                        'display': 'block'\n                    }\n                }),\n                m(css(type).descriptionWrapper, [\n                    m(css(type).description, [\n                        m(css(type).title, [\n                            m(`a.link-hidden[href=\"${link}\"]`, project.project_name)\n                        ]),\n                        m(css(type).author, `${I18n.t('by', I18nScope())} ${project.owner_name}`),\n                        m(css(type).headline, [\n                            m(`a.link-hidden[href=\"${link}\"]`, project.headline)\n                        ])\n                    ]),\n                    m(css(type).city, [\n                        m('.fontsize-smallest.fontcolor-secondary', [m('span.fa.fa-map-marker.fa-1', ' '), ` ${project.city_name ? project.city_name : ''}, ${project.state_acronym ? project.state_acronym : ''}`])\n                    ]),\n                    m(`.card-project-meter.${project.state}`, [\n                        (_.contains(['successful', 'failed', 'waiting_funds'], project.state)) ?\n                            m('div', I18n.t('display_status.' + project.state, I18nScope())) :\n                        m('.meter', [\n                            m('.meter-fill', {\n                                style: {\n                                    width: `${(progress > 100 ? 100 : progress)}%`\n                                }\n                            })\n                        ])\n                    ]),\n                    m('.card-project-stats', [\n                        m('.w-row', [\n                            m('.w-col.w-col-4.w-col-small-4.w-col-tiny-4', [\n                                m('.fontsize-base.fontweight-semibold', `${Math.ceil(project.progress)}%`)\n                            ]),\n                            m('.w-col.w-col-4.w-col-small-4.w-col-tiny-4.u-text-center-small-only', [\n                                m('.fontsize-smaller.fontweight-semibold', `R$ ${h.formatNumber(project.pledged)}`),\n                                m('.fontsize-smallest.lineheight-tightest', 'Levantados')\n                            ]),\n                            m('.w-col.w-col-4.w-col-small-4.w-col-tiny-4.u-text-right', project.expires_at ? [\n                                m('.fontsize-smaller.fontweight-semibold', `${remainingTextObj.total} ${remainingTextObj.unit}`),\n                                m('.fontsize-smallest.lineheight-tightest', (remainingTextObj.total > 1) ? 'Restantes' : 'Restante')\n                            ] : [\n                                m('.fontsize-smallest.lineheight-tight', ['Prazo em',m('br'),'aberto'])\n                            ])\n                        ])\n                    ])\n                ])\n            ])\n        ]);\n    }\n};\n\nexport default projectCard;\n","import m from 'mithril';\nimport h from '../../src/h';\nimport projectCard from '../../src/c/project-card';\n\ndescribe('ProjectCard', () => {\n    let project, component, view, $output, $customOutput, remainingTimeObj;\n\n    describe('view', () => {\n        beforeAll(() => {\n            project = ProjectMockery()[0];\n            remainingTimeObj = h.translatedTime(project.remaining_time);\n            $output = (type) => mq(m.component(projectCard, {\n                project: project, type: type\n            }));\n        });\n\n        it('should render the project card', () => {\n            expect($output().find('.card-project').length).toEqual(1);\n            expect($output().contains(project.owner_name)).toEqual(true);\n            expect($output().contains(remainingTimeObj.unit)).toEqual(true);\n        });\n\n        it('should render a big project card when type is big', () => {\n            expect($output('big').find('.card-project-thumb.big').length).toEqual(1);\n            expect($output('big').contains(project.owner_name)).toEqual(true);\n            expect($output('big').contains(remainingTimeObj.unit)).toEqual(true);\n        });\n\n        it('should render a medium project card when type is medium', () => {\n            expect($output('medium').find('.card-project-thumb.medium').length).toEqual(1);\n            expect($output('medium').contains(project.owner_name)).toEqual(true);\n            expect($output('medium').contains(remainingTimeObj.unit)).toEqual(true);\n        });\n    });\n});\n","import m from 'mithril';\nimport _ from 'underscore';\nimport models from '../models';\nimport h from '../h';\n\nconst projectContributions = {\n    controller (args) {\n        const listVM = postgrest.paginationVM(models.projectContribution),\n            filterVM = postgrest.filtersVM({\n                project_id: 'eq',\n                waiting_payment: 'eq'\n            }),\n            toggleWaiting = (waiting = false) => {\n                return () => {\n                    filterVM.waiting_payment(waiting);\n                    listVM.firstPage(filterVM.parameters());\n                };\n            };\n\n        filterVM.project_id(args.project().id).waiting_payment(false);\n\n        if (!listVM.collection().length) {\n            listVM.firstPage(filterVM.parameters());\n        }\n\n        return {\n            listVM: listVM,\n            filterVM: filterVM,\n            toggleWaiting: toggleWaiting\n        };\n    },\n    view (ctrl, args) {\n        const list = ctrl.listVM;\n        return m('#project_contributions.content.w-col.w-col-12', [\n            (args.project().is_owner_or_admin ?\n                m('.w-row.u-marginbottom-20', [\n                    m('.w-col.w-col-1', [\n                        m('input[checked=\"checked\"][id=\"contribution_state_available_to_count\"][name=\"waiting_payment\"][type=\"radio\"][value=\"available_to_count\"]', {\n                            onclick: ctrl.toggleWaiting()\n                        })\n                    ]),\n                    m('.w-col.w-col-5', [\n                        m('label[for=\"contribution_state_available_to_count\"]', 'Confirmados')\n                    ]),\n                    m('.w-col.w-col-1', [\n                        m('input[id=\"contribution_state_waiting_confirmation\"][type=\"radio\"][name=\"waiting_payment\"][value=\"waiting_confirmation\"]', {\n                            onclick: ctrl.toggleWaiting(true)\n                        })\n                    ]),\n                    m('.w-col.w-col-5', [\n                        m('label[for=\"contribution_state_waiting_confirmation\"]', 'Pendentes')\n                    ])\n                ]) : ''),\n            m('.project-contributions', _.map(list.collection(), (contribution) => {\n                return m('.w-clearfix', [\n                    m('.w-row.u-marginbottom-20', [\n                        m('.w-col.w-col-1', [\n                            m('a[href=\"/users/' + contribution.user_id + '\"]', [\n                                m('.thumb.u-left.u-round[style=\"background-image: url(' + (!_.isEmpty(contribution.profile_img_thumbnail) ? contribution.profile_img_thumbnail : '/assets/catarse_bootstrap/user.jpg') + '); background-size: contain;\"]')\n                            ])\n                        ]),\n                        m('.w-col.w-col-11', [\n                            m('.fontsize-base.fontweight-semibold', [\n                                m('a.link-hidden-dark[href=\"/users/' + contribution.user_id + '\"]', contribution.user_name), (contribution.is_owner_or_admin ?\n                                    m('.fontsize-smaller', [\n                                        'R$ ' + h.formatNumber(contribution.value, 2, 3), (contribution.anonymous ? [m.trust('&nbsp;-&nbsp;'), m('strong', 'Apoiador anônimo')] : '')\n                                    ]) : ''),\n                                m('.fontsize-smaller', h.momentify(contribution.created_at, 'DD/MM/YYYY, HH:mm') + 'h'),\n                                m('.fontsize-smaller', (contribution.total_contributed_projects > 1 ? 'Apoiou este e mais outros ' + contribution.total_contributed_projects + ' projetos' : 'Apoiou somente este projeto até agora'))\n                            ])\n                        ])\n                    ]),\n                    m('.divider.u-marginbottom-20')\n                ]);\n            })),\n            m('.w-row', [\n                m('.w-col.w-col-2.w-col-push-5', [!list.isLoading() ?\n                    (list.isLastPage() ? '' : m('button#load-more.btn.btn-medium.btn-terciary', {\n                        onclick: list.nextPage\n                    }, 'Carregar mais')) :\n                    h.loader(),\n                ])\n            ])\n        ]);\n    }\n}\n\nexport default projectContributions;\n","import m from 'mithril';\nimport projectContributions from '../../src/c/project-contributions';\n\ndescribe('projectContributions', () => {\n    let $output, projectContribution;\n\n    describe('view', () => {\n        beforeAll(() => {\n            jasmine.Ajax.stubRequest(new RegExp('(' + apiPrefix + '\\/project_contributions)(.*)(waiting_payment)(.*)')).andReturn({\n                'responseText': JSON.stringify(ProjectContributionsMockery())\n            });\n\n            spyOn(m, 'component').and.callThrough();\n            projectContribution = ProjectContributionsMockery()[0];\n            const project = m.prop({\n                        id: 1231\n            });\n            const component = m.component(projectContributions, {\n                    project: project\n                }),\n                view = component.view(component.controller({\n                    project: project\n                }));\n\n            $output = mq(view);\n        });\n\n        it('should render project contributions list', () => {\n            expect($output.contains(projectContribution.user_name)).toEqual(true);\n        });\n    });\n});\n","/**\n * window.c.ProjectDashboardMenu component\n * build dashboard project menu for project owners\n * and admin.\n *\n * Example:\n * m.component(c.ProjectDashboardMenu, {\n *     project: projectDetail Object,\n * })\n */\nimport m from 'mithril';\nimport _ from 'underscore';\nimport I18n from 'i18n-js';\nimport h from '../h';\n\nconst I18nScope = _.partial(h.i18nScope, 'projects.dashboard_nav');\n\nconst projectDashboardMenu = {\n    controller (args) {\n        let body = document.getElementsByTagName('body')[0],\n            editLinksToggle = h.toggleProp(true, false),\n            showPublish = h.toggleProp(true, false),\n            bodyToggleForNav = h.toggleProp('body-project open', 'body-project closed');\n\n        if (args.project().is_published) {\n            editLinksToggle.toggle(false);\n        }\n\n        if (args.hidePublish) {\n            showPublish.toggle(false);\n        }\n\n        return {\n            body: body,\n            editLinksToggle: editLinksToggle,\n            showPublish: showPublish,\n            bodyToggleForNav: bodyToggleForNav\n        };\n    },\n    view (ctrl, args) {\n        const project = args.project(),\n              projectRoute = '/projects/' + project.id,\n              editRoute = projectRoute + '/edit',\n              editLinkClass = 'dashboard-nav-link-left ' + (project.is_published ? 'indent' : '');\n        let optionalOpt = (project.mode === 'flex' ? m('span.fontsize-smallest.fontcolor-secondary', ' (opcional)') : '');\n\n        ctrl.body.className = ctrl.bodyToggleForNav();\n\n        return m('#project-nav', [\n            m('.project-nav-wrapper', [\n                m('nav.w-section.dashboard-nav.side', [\n                    m('a#dashboard_preview_link.w-inline-block.dashboard-project-name[href=\"' + (project.is_published ? '/' + project.permalink : editRoute + '#preview') + '\"]', [\n                        m('img.thumb-project-dashboard[src=\"' + (_.isNull(project.large_image) ? '/assets/thumb-project.png' : project.large_image) + '\"][width=\"114\"]'),\n                        m('.fontcolor-negative.lineheight-tight.fontsize-small', project.name),\n                        m(`img.u-margintop-10[src=\"/assets/catarse_bootstrap/badge-${project.mode}-h.png\"][width=80]`)\n\n                    ]),\n                    m('#info-links', [\n                        m('a#dashboard_home_link[class=\"dashboard-nav-link-left ' + (h.locationActionMatch('insights') ? 'selected' : '') + '\"][href=\"' + projectRoute + '/insights\"]', [\n                            m('span.fa.fa-bar-chart.fa-lg.fa-fw'), I18n.t('start_tab', I18nScope())\n                        ]), (project.is_published ? [\n                            m('a#dashboard_reports_link.dashboard-nav-link-left[href=\"' + editRoute + '#reports' + '\"]', [\n                                m('span.fa.fa.fa-table.fa-lg.fa-fw'), I18n.t('reports_tab', I18nScope())\n                            ]),\n                            m('a#dashboard_reports_link.dashboard-nav-link-left.u-marginbottom-30[href=\"' + editRoute + '#posts' + '\"]', [\n                                m('span.fa.fa-bullhorn.fa-fw.fa-lg'), I18n.t('posts_tab', I18nScope()), m('span.badge', project.posts_count)\n                            ])\n                        ] : '')\n                    ]),\n                    m('.edit-project-div', [\n                        (!project.is_published ? '' : m('button#toggle-edit-menu.dashboard-nav-link-left', {\n                            onclick: ctrl.editLinksToggle.toggle\n                        }, [\n                            m('span.fa.fa-pencil.fa-fw.fa-lg'), I18n.t('edit_project', I18nScope())\n                        ])), (ctrl.editLinksToggle() ? m('#edit-menu-items', [\n                            m('#dashboard-links', [\n                                ((!project.is_published || project.is_admin_role) ? [\n                                    m('a#basics_link[class=\"' + editLinkClass + '\"][href=\"' + editRoute + '#basics' + '\"]', 'Básico'),\n                                    m('a#goal_link[class=\"' + editLinkClass + '\"][href=\"' + editRoute + '#goal' + '\"]', 'Financiamento'),\n                                ] : ''),\n                                m('a#description_link[class=\"' + editLinkClass + '\"][href=\"' + editRoute + '#description' + '\"]', 'Descrição'),\n                                m('a#video_link[class=\"' + editLinkClass + '\"][href=\"' + editRoute + '#video' + '\"]', [\n                                    'Vídeo', optionalOpt\n                                ]),\n                                m('a#budget_link[class=\"' + editLinkClass + '\"][href=\"' + editRoute + '#budget' + '\"]', 'Orçamento'),\n                                m('a#card_link[class=\"' + editLinkClass + '\"][href=\"' + editRoute + '#card' + '\"]', 'Card do projeto'),\n                                m('a#dashboard_reward_link[class=\"' + editLinkClass + '\"][href=\"' + editRoute + '#reward' + '\"]', [\n                                    'Recompensas', optionalOpt\n                                ]),\n                                m('a#dashboard_user_about_link[class=\"' + editLinkClass + '\"][href=\"' + editRoute + '#user_about' + '\"]', 'Sobre você'), (project.mode === 'flex' || (project.is_published || project.state === 'approved') || project.is_admin_role ? [\n                                    m('a#dashboard_user_settings_link[class=\"' + editLinkClass + '\"][href=\"' + editRoute + '#user_settings' + '\"]', 'Conta'),\n                                ] : ''), (!project.is_published ? [\n                                    m('a#dashboard_preview_link[class=\"' + editLinkClass + '\"][href=\"' + editRoute + '#preview' + '\"]', [\n                                        m('span.fa.fa-fw.fa-eye.fa-lg'), ' Preview'\n                                    ]),\n                                ] : '')\n                            ])\n                        ]) : ''),\n                        ((!project.is_published && ctrl.showPublish()) ? [\n                            m('.btn-send-draft-fixed',\n                              (project.mode === 'aon' ? [\n                                  (project.state === 'draft' ? m('a.btn.btn-medium[href=\"/projects/' + project.id + '/send_to_analysis\"]', I18n.t('send', I18nScope())) : ''),\n                                  (project.state === 'approved' ? m('a.btn.btn-medium[href=\"/projects/' + project.id + '/validate_publish\"]', [\n                                      I18n.t('publish', I18nScope()), m.trust('&nbsp;&nbsp;'), m('span.fa.fa-chevron-right')\n                                  ]) : '')\n                              ] : [\n                                  (project.state === 'draft' ? m('a.btn.btn-medium[href=\"/flexible_projects/' + project.flex_id + '/validate_publish\"]', [\n                                      I18n.t('publish', I18nScope()), m.trust('&nbsp;&nbsp;'), m('span.fa.fa-chevron-right')\n                                  ]) : '')\n                              ])\n                             )\n                        ] : [\n                            ((project.mode === 'flex' && project.is_published) ? [\n                                m('.btn-send-draft-fixed',\n                                  (_.isNull(project.expires_at) ? m('a.w-button.btn.btn-medium.btn-secondary-dark[href=\"/projects/' + project.id + '/edit#announce_expiration\"]', I18n.t('announce_expiration', I18nScope())) : ''))\n                            ] : '')\n                        ])\n                    ]),\n                ]),\n            ]),\n            m('a.btn-dashboard href=\"js:void(0);\"', {\n                onclick: ctrl.bodyToggleForNav.toggle\n            }, [\n                m('span.fa.fa-bars.fa-lg')\n            ])\n        ]);\n    }\n};\n\nexport default projectDashboardMenu;\n","import m from 'mithril';\nimport projectDashboardMenu from '../../src/c/project-dashboard-menu';\n\ndescribe('ProjectDashboardMenu', () => {\n    let generateContextByNewState;\n\n    describe('view', () => {\n        beforeAll(() => {\n            generateContextByNewState = (newState = {}) => {\n                let body = jasmine.createSpyObj('body', ['className']),\n                    projectDetail = m.prop(ProjectDetailsMockery(newState)[0]),\n                    component = m.component(projectDashboardMenu, {\n                        project: projectDetail\n                    }),\n                    ctrl = component.controller({\n                        project: projectDetail\n                    });\n\n                spyOn(m, 'component').and.callThrough();\n                spyOn(ctrl, 'body').and.returnValue(body);\n\n                return {\n                    output: mq(component, {\n                        project: projectDetail\n                    }),\n                    projectDetail: projectDetail\n                };\n            };\n        });\n\n        it('when project is online', () => {\n            let {\n                output, projectDetail\n            } = generateContextByNewState({\n                state: 'online'\n            });\n\n            output.should.contain(projectDetail().name);\n            output.should.have('#info-links');\n        });\n    });\n});\n","import m from 'mithril';\nimport h from '../h';\n\nconst projectShareBox = {\n    controller () {\n        return {\n            displayEmbed: h.toggleProp(false, true)\n        }\n    },\n    view (ctrl, args) {\n        return m('.pop-share', {\n            style: 'display: block;'\n        }, [\n            m('.w-hidden-main.w-hidden-medium.w-clearfix', [\n                m('a.btn.btn-small.btn-terciary.btn-inline.u-right', {\n                    onclick: args.displayShareBox.toggle\n                }, 'Fechar'),\n                m('.fontsize-small.fontweight-semibold.u-marginbottom-30', 'Compartilhe este projeto')\n            ]),\n            m('.w-widget.w-widget-facebook.w-hidden-small.w-hidden-tiny.share-block', [\n                m('iframe[allowtransparency=\"true\"][width=\"150px\"][height=\"22px\"][frameborder=\"0\"][scrolling=\"no\"][src=\"https://www.facebook.com/v2.0/plugins/share_button.php?app_id=173747042661491&channel=https%3A%2F%2Fs-static.ak.facebook.com%2Fconnect%2Fxd_arbiter%2F44OwK74u0Ie.js%3Fversion%3D41%23cb%3Df7d9b900c%26domain%3Dwww.catarse.me%26origin%3Dhttps%253A%252F%252Fwww.catarse.me%252Ff4b3ad0c8%26relation%3Dparent.parent&container_width=0&href=https%3A%2F%2Fwww.catarse.me%2Fpt%2F' + args.project().permalink + '%3Fref%3Dfacebook&layout=button_count&locale=pt_BR&sdk=joey\"]')\n            ]),\n            m('.w-widget.w-widget-twitter.w-hidden-small.w-hidden-tiny.share-block', [\n                m('iframe[allowtransparency=\"true\"][width=\"120px\"][height=\"22px\"][frameborder=\"0\"][scrolling=\"no\"][src=\"//platform.twitter.com/widgets/tweet_button.8d007ddfc184e6776be76fe9e5e52d69.en.html#_=1442425984936&count=horizontal&dnt=false&id=twitter-widget-1&lang=en&original_referer=https%3A%2F%2Fwww.catarse.me%2Fpt%2F' + args.project().permalink + '&size=m&text=Confira%20o%20projeto%20' + args.project().name + '%20no%20%40catarse&type=share&url=https%3A%2F%2Fwww.catarse.me%2Fpt%2F' + args.project().permalink + '%3Fref%3Dtwitter&via=catarse\"]')\n            ]),\n            m('a.w-hidden-small.widget-embed.w-hidden-tiny.fontsize-small.link-hidden.fontcolor-secondary[href=\"js:void(0);\"]', {\n                onclick: ctrl.displayEmbed.toggle\n            }, '< embed >'), (ctrl.displayEmbed() ? m('.embed-expanded.u-margintop-30', [\n                m('.fontsize-small.fontweight-semibold.u-marginbottom-20', 'Insira um widget em seu site'),\n                m('.w-form', [\n                    m('input.w-input[type=\"text\"][value=\"<iframe frameborder=\"0\" height=\"314px\" src=\"https://www.catarse.me/pt/projects/' + args.project().id + '/embed\" width=\"300px\" scrolling=\"no\"></iframe>\"]')\n                ]),\n                m('.card-embed', [\n                    m('iframe[frameborder=\"0\"][height=\"350px\"][src=\"/projects/' + args.project().id + '/embed\"][width=\"300px\"][scrolling=\"no\"]')\n                ])\n            ]) : ''),\n            m('a.w-hidden-main.w-hidden-medium.btn.btn-medium.btn-fb.u-marginbottom-20[href=\"http://www.facebook.com/sharer/sharer.php?u=https://www.catarse.me/' + args.project().permalink + '?ref=facebook&title=' + args.project().name + '\"][target=\"_blank\"]', [\n                m('span.fa.fa-facebook'), ' Compartilhe'\n            ]),\n            m('a.w-hidden-main.w-hidden-medium.btn.btn-medium.btn-tweet.u-marginbottom-20[href=\"http://twitter.com/?status=Acabei de apoiar o projeto ' + args.project().name + ' htts://www.catarse.me/' + args.project().permalink + '?ref=twitterr\"][target=\"_blank\"]', [\n                m('span.fa.fa-twitter'), ' Tweet'\n            ]),\n        ]);\n    }\n};\n\nexport default projectShareBox;\n","import m from 'mithril';\nimport _ from 'underscore';\nimport h from '../h';\nimport projectShareBox from './project-share-box';\n\nconst projectHighlight = {\n    controller () {\n        return {\n            displayShareBox: h.toggleProp(false, true)\n        };\n    },\n    view (ctrl, args) {\n        const project = args.project,\n            address = project().address || {state_acronym: '', city: ''};\n\n        return m('#project-highlight', [\n            (project().video_embed_url ? m('.w-embed.w-video.project-video', {\n                style: 'min-height: 240px;'\n            }, [\n                m('iframe.embedly-embed[itemprop=\"video\"][src=\"' + project().video_embed_url + '\"][frameborder=\"0\"][allowFullScreen]')\n            ]) : m('.project-image', {\n                style: 'background-image:url(' + project().original_image + ');'\n            })),\n            m('.project-blurb', project().headline),\n            m('.u-text-center-small-only.u-marginbottom-30', [\n                (!_.isNull(address) ?\n                 m(`a.btn.btn-inline.btn-small.btn-transparent.link-hidden-light.u-marginbottom-10[href=\"/pt/explore?pg_search=${address.state_acronym}\"]`, [\n                        m('span.fa.fa-map-marker'), ` ${address.city}, ${address.state_acronym}`\n                    ]) : ''\n                ),\n                m(`a.btn.btn-inline.btn-small.btn-transparent.link-hidden-light[href=\"/pt/explore#by_category_id/${project().category_id}\"]`, [\n                    m('span.fa.fa-tag'), ' ',\n                    project().category_name\n                ]),\n                m('button#share-box.btn.btn-small.btn-terciary.btn-inline', {\n                    onclick: ctrl.displayShareBox.toggle\n                }, 'Compartilhar'), (ctrl.displayShareBox() ? m.component(projectShareBox, {\n                    project: project,\n                    displayShareBox: ctrl.displayShareBox\n                }) : '')\n            ])\n        ]);\n    }\n};\n\nexport default projectHighlight;\n","/**\n * window.c.Tooltip component\n * A component that allows you to show a tooltip on\n * a specified element hover. It receives the element you want\n * to trigger the tooltip and also the text to display as tooltip.\n *\n * Example of use:\n * view: () => {\n *     let tooltip = (el) => {\n *          return m.component(c.Tooltip, {\n *              el: el,\n *              text: 'text to tooltip',\n *              width: 300\n *          })\n *     }\n *\n *     return tooltip('a#link-wth-tooltip[href=\"#\"]');\n *\n * }\n */\nimport m from 'mithril';\nimport h from '../h';\n\nconst tooltip = {\n    controller (args) {\n        let parentHeight = m.prop(0),\n            width = m.prop(args.width || 280),\n            top = m.prop(0),\n            left = m.prop(0),\n            opacity = m.prop(0),\n            parentOffset = m.prop({top: 0, left: 0}),\n            tooltip = h.toggleProp(0, 1),\n            toggle = () => {\n                tooltip.toggle();\n                m.redraw();\n            };\n\n        const setParentPosition = (el, isInitialized) => {\n            if (!isInitialized){\n                parentOffset(h.cumulativeOffset(el));\n            }\n        },\n            setPosition = (el, isInitialized) => {\n                if (!isInitialized){\n                    let elTop = el.offsetHeight + el.offsetParent.offsetHeight;\n                    let style = window.getComputedStyle(el);\n\n                    if (window.innerWidth < (el.offsetWidth + 2 * parseFloat(style.paddingLeft) + 30)){ //30 here is a safe margin\n                        el.style.width = window.innerWidth - 30; //Adding the safe margin\n                        left(-parentOffset().left + 15); //positioning center of window, considering margin\n                    } else if ((parentOffset().left + (el.offsetWidth / 2)) <= window.innerWidth && (parentOffset().left - (el.offsetWidth / 2)) >= 0){\n                        left(-el.offsetWidth / 2); //Positioning to the center\n                    } else if ((parentOffset().left + (el.offsetWidth / 2)) > window.innerWidth) {\n                        left(-el.offsetWidth + el.offsetParent.offsetWidth); //Positioning to the left\n                    } else if ((parentOffset().left - (el.offsetWidth / 2)) < 0) {\n                        left(-el.offsetParent.offsetWidth); //Positioning to the right\n                    }\n                    top(-elTop); //Setting top position\n                }\n            };\n\n        return {\n            width: width,\n            top: top,\n            left: left,\n            opacity: opacity,\n            tooltip: tooltip,\n            toggle: toggle,\n            setPosition: setPosition,\n            setParentPosition: setParentPosition\n        };\n    },\n    view (ctrl, args) {\n        let width = ctrl.width();\n        return m(args.el, {\n            onclick: ctrl.toggle,\n            config: ctrl.setParentPosition,\n            style: {cursor: 'pointer'}\n        }, ctrl.tooltip() ? [\n            m(`.tooltip.dark[style=\"width: ${width}px; top: ${ctrl.top()}px; left: ${ctrl.left()}px;\"]`, {\n                config: ctrl.setPosition\n            }, [\n                m('.fontsize-smallest', args.text)\n            ])\n        ] : '');\n    }\n};\n\nexport default tooltip;\n","/**\n * window.c.ProjectMode component\n * A simple component that displays a badge with the current project mode\n * together with a description of the mode, shown inside a tooltip.\n * It receives a project as resource\n *\n * Example:\n *  view: {\n *      return m.component(c.ProjectMode, {project: project})\n *  }\n */\n\nimport m from 'mithril';\nimport _ from 'underscore';\nimport h from '../h';\nimport tooltip from './tooltip';\n\nconst projectMode = {\n    view (ctrl, args) {\n        const project = args.project(),\n            mode = project.mode,\n            modeImgSrc = (mode === 'aon') ? '/assets/aon-badge.png' : '/assets/flex-badge.png',\n            modeTitle = (mode === 'aon') ? 'Campanha Tudo-ou-nada ' : 'Campanha Flexível ',\n            goal = (_.isNull(project.goal) ? 'não definida' : h.formatNumber(project.goal)),\n            buildTooltip = (el) => {\n                return m.component(tooltip, {\n                    el: el,\n                    text: (mode === 'aon') ? `Somente receberá os recursos se atingir ou ultrapassar a meta até o dia ${h.momentify(project.zone_expires_at, 'DD/MM/YYYY')}.` : 'O realizador receberá todos os recursos quando encerrar a campanha, mesmo que não tenha atingido esta meta.',\n                    width: 280\n                });\n            };\n\n        return m(`#${mode}.w-row`, [\n            m('.w-col.w-col-2.w-col-small-2.w-col-tiny-2', [\n                !_.isEmpty(project) ? m(`img[src=\"${modeImgSrc}\"][width='30']`) : ''\n            ]),\n            m('.w-col.w-col-10.w-col-small-10.w-col-tiny-10', [\n                m('.fontsize-base.fontweight-semibold', 'Meta R$ ' + h.selfOrEmpty(goal, '--')),\n                m('.w-inline-block.fontsize-smallest._w-inline-block', [\n                    !_.isEmpty(project) ? modeTitle : '',\n                    buildTooltip('span.w-inline-block.tooltip-wrapper.fa.fa-question-circle.fontcolor-secondary')\n                ])\n            ])\n        ]);\n    }\n};\n\nexport default projectMode;\n","import m from 'mithril';\nimport h from '../h';\n\nconst popNotification = {\n    controller () {\n        return {\n            displayNotification: h.toggleProp(true, false)\n        };\n    },\n    view (ctrl, args) {\n        return (ctrl.displayNotification() ? m('.flash.w-clearfix.card.card-notification.u-radius.zindex-20', [\n            m('img.icon-close[src=\"/assets/catarse_bootstrap/x.png\"][width=\"12\"][alt=\"fechar\"]', {\n                onclick: ctrl.displayNotification.toggle\n            }),\n            m('.fontsize-small', args.message)\n        ]) : m('span'));\n    }\n};\n\nexport default popNotification;\n","/**\n * window.c.ProjectReminder component\n * A component that displays a clickable project reminder element.\n * The component can be of two types: a 'link' or a 'button'\n *\n * Example:\n *  view: {\n *      return m.component(c.ProjectReminder, {project: project, type: 'button'})\n *  }\n */\nimport m from 'mithril';\nimport models from '../models';\nimport h from '../h';\nimport popNotification from './pop-notification';\n\nconst projectReminder = {\n    controller (args) {\n        let l = m.prop(false);\n        const project = args.project,\n            filterVM = postgrest.filtersVM({\n                project_id: 'eq'\n            }),\n            storeReminderName = 'remind_' + project().id,\n            popNotification = m.prop(false),\n            submitReminder = () => {\n                if (!h.getUser()) {\n                    h.storeAction(storeReminderName, submitReminder);\n                    return h.navigateToDevise();\n                }\n                let loaderOpts = project().in_reminder ? models.projectReminder.deleteOptions(filterVM.parameters()) : models.projectReminder.postOptions({\n                    project_id: project().id\n                });\n                l = postgrest.loaderWithToken(loaderOpts);\n\n                l.load().then(() => {\n                    project().in_reminder = !project().in_reminder;\n\n                    if (project().in_reminder) {\n                        popNotification(true);\n                        setTimeout(() => {\n                            popNotification(false);\n                            m.redraw();\n                        }, 5000);\n                    } else {\n                        popNotification(false);\n                    }\n                });\n            };\n\n        h.callStoredAction(storeReminderName, submitReminder);\n        filterVM.project_id(project().id);\n\n        return {\n            l: l,\n            submitReminder: submitReminder,\n            popNotification: popNotification\n        };\n    },\n    view (ctrl, args) {\n        const mainClass = (args.type === 'button') ? '' : '.u-text-center.u-marginbottom-30',\n            buttonClass = (args.type === 'button') ? 'w-button btn btn-terciary btn-no-border' : 'btn-link link-hidden fontsize-small',\n            hideTextOnMobile = args.hideTextOnMobile || false,\n            project = args.project;\n\n        return m(`#project-reminder${mainClass}`, [\n            m(`button[class=\"${buttonClass} ${(project().in_reminder ? 'link-hidden-success' : 'fontcolor-secondary')} fontweight-semibold\"]`, {\n                onclick: ctrl.submitReminder\n            }, [\n                (ctrl.l() ? 'aguarde ...' : m('span.fa.fa-clock-o', [\n                    m(`span${hideTextOnMobile ? '.w-hidden-medium' : ''}`, project().in_reminder ? ' Lembrete ativo' : ' Lembrar-me')\n                ]))\n            ]), (ctrl.popNotification() ? m.component(popNotification, {\n                message: 'Ok! Vamos te mandar um lembrete por e-mail 48 horas antes do fim da campanha'\n            }) : '')\n        ]);\n    }\n}\n\nexport default projectReminder;\n","/**\n * window.c.OwnerMessageContent component\n * Render project owner contact form\n *\n */\nimport m from 'mithril';\nimport _ from 'underscore';\nimport h from '../h';\nimport models from '../models';\n\nconst ownerMessageContent = {\n    controller (args) {\n        let l = m.prop(false),\n            sendSuccess = m.prop(false),\n            sendMessage = () => {\n                let loaderOpts = models.directMessage.postOptions({\n                  from_name: document.getElementById('from_name').value,\n                  from_email: document.getElementById('from_email').value,\n                  user_id: h.getUser()['user_id'],\n                  content: document.getElementById('message_content').value,\n                  project_id: h.getCurrentProject()['project_id'],\n                  to_user_id: h.getCurrentProject()['project_user_id']\n                });\n                l = postgrest.loaderWithToken(loaderOpts);\n\n                l.load().then(sendSuccess(true));\n                return false;\n            };\n\n        return {\n            sendMessage: sendMessage,\n            sendSuccess: sendSuccess,\n            userDetails: args\n        };\n    },\n    view (ctrl, args) {\n        const user = h.getUser(),\n            successMessage = m('.modal-dialog-content.u-text-center', [\n                m('.fa.fa-check-circle.fa-5x.text-success.u-marginbottom-40'),\n                m('p.fontsize-large', `Sua mensagem foi enviada com sucesso para ${_.first(ctrl.userDetails()).name}. Você vai receber uma cópia no seu email e pode seguir a conversa por lá!`)\n            ]),\n            contactForm = [\n                m('.modal-dialog-content', [\n                    m('.w-form', [\n                        m('form', { onsubmit: ctrl.sendMessage }, [\n                            m('.w-row', [\n                                m('.w-col.w-col-6.w-sub-col', [\n                                    m('label.fontsize-smaller', 'Seu nome'),\n                                    m(`input.w-input.text-field[value='${user ? user['name'] : ''}'][id='from_name'][type='text'][required]`)\n                                ]),\n                                m('.w-col.w-col-6', [\n                                    m('label.fontsize-smaller', 'Seu email'),\n                                    m(`input.w-input.text-field[value='${user ? user['email'] : ''}'][id='from_email'][type='text'][required]`)\n                                ])\n                            ]),\n                            m('label', 'Mensagem'),\n                            m('textarea.w-input.text-field.height-small[id=\\'message_content\\'][required]'),\n                            m('.fontsize-smallest.fontcolor-terciary', 'Você receberá uma cópia desta mensagem em seu email.'),\n                            m('.modal-dialog-nav-bottom',\n                                m('.w-row',\n                                    m('.w-col.w-col-6.w-col-push-3',\n                                        m('input.w-button.btn.btn-large[type=\"submit\"][value=\"Enviar mensagem\"]')\n                                    )\n                                )\n                            )\n                        ])\n                    ]),\n                ]),\n            ];\n\n            return m('div', [\n                m('.modal-dialog-header',\n                    m('.fontsize-large.u-text-center', 'Enviar mensagem')\n                ),\n                ctrl.sendSuccess() ? successMessage : contactForm\n            ]);\n    }\n};\n\nexport default ownerMessageContent;\n","/**\n * window.c.ModalBox component\n * Buils the template for using modal\n *\n * Example:\n * m.component(c.ModalBox, {\n *     displayModal: tooglePropObject,\n *     content: ['ComponentName', {argx: 'x', argy: 'y'}]\n * })\n * ComponentName structure =>  m('div', [\n *                  m('.modal-dialog-header', []),\n *                  m('.modal-dialog-content', []),\n *                  m('.modal-dialog-nav-bottom', []),\n *              ])\n */\nimport m from 'mithril';\n\nconst modalBox = {\n    view (ctrl, args) {\n        return m('.modal-backdrop', [\n            m('.modal-dialog-outer', [\n                m('.modal-dialog-inner.modal-dialog-small', [\n                    m('a.w-inline-block.modal-close.fa.fa-close.fa-lg[href=\"javascript:void(0);\"]', {\n                        onclick: args.displayModal.toggle\n                    }),\n                    m.component(args.content[0], args.content[1])\n                ]),\n            ])\n        ]);\n    }\n}\n\nexport default modalBox;\n","import m from 'mithril';\nimport _ from 'underscore';\nimport h from '../h';\nimport ownerMessageContent from './owner-message-content';\nimport modalBox from './modal-box';\n\nconst projectUserCard = {\n    controller (args) {\n        return {displayModal: h.toggleProp(false, true)};\n    },\n    view (ctrl, args) {\n        const contactModalC = [ownerMessageContent, args.userDetails];\n\n        return m('#user-card', _.map(args.userDetails(), (userDetail) => {\n            return m('.u-marginbottom-30.u-text-center-small-only', [\n                (ctrl.displayModal() ? m.component(modalBox, {\n                    displayModal: ctrl.displayModal,\n                    content: contactModalC\n                }) : ''),\n                m('.w-row', [\n                    m('.w-col.w-col-4', [\n                        m('img.thumb.u-marginbottom-30.u-round[width=\"100\"][itemprop=\"image\"][src=\"' + userDetail.profile_img_thumbnail + '\"]')\n                    ]),\n                    m('.w-col.w-col-8', [\n                        m('.fontsize-small.link-hidden.fontweight-semibold.u-marginbottom-10.lineheight-tight[itemprop=\"name\"]', [\n                            m('a.link-hidden[href=\"/users/' + userDetail.id + '\"]', userDetail.name)\n                        ]),\n                        m('.fontsize-smallest', [\n                            h.pluralize(userDetail.total_published_projects, ' criado', ' criados'),\n                            m.trust('&nbsp;&nbsp;|&nbsp;&nbsp;'),\n                            h.pluralize(userDetail.total_contributed_projects, ' apoiado', ' apoiados')\n                        ]),\n                        m('ul.w-hidden-tiny.w-hidden-small.w-list-unstyled.fontsize-smaller.fontweight-semibold.u-margintop-20.u-marginbottom-20', [\n                            (!_.isEmpty(userDetail.facebook_link) ? m('li', [\n                                m('a.link-hidden[itemprop=\"url\"][href=\"' + userDetail.facebook_link + '\"][target=\"_blank\"]', 'Perfil no Facebook')\n                            ]) : ''), (!_.isEmpty(userDetail.twitter_username) ? m('li', [\n                                m('a.link-hidden[itemprop=\"url\"][href=\"https://twitter.com/' + userDetail.twitter_username + '\"][target=\"_blank\"]', 'Perfil no Twitter')\n                            ]) : ''),\n                            _.map(userDetail.links, (link) => {\n                                var parsedLink = h.parseUrl(link);\n\n                                return (!_.isEmpty(parsedLink.hostname) ? m('li', [\n                                    m('a.link-hidden[itemprop=\"url\"][href=\"' + link + '\"][target=\"_blank\"]', parsedLink.hostname)\n                                ]) : '');\n                            })\n                        ]), (!_.isEmpty(userDetail.email) ? [m('a.w-button.btn.btn-terciary.btn-small.btn-inline[href=\\'javascript:void(0);\\']',{onclick: ctrl.displayModal.toggle}, 'Enviar mensagem')] : '')\n                    ]),\n                ]),\n            ]);\n        }));\n    }\n};\n\nexport default projectUserCard;\n","import m from 'mithril';\nimport _ from 'underscore';\nimport I18n from 'i18n-js';\nimport h from '../h';\nimport projectMode from './project-mode';\nimport projectReminder from './project-reminder';\nimport projectUserCard from './project-user-card';\n\nconst I18nScope = _.partial(h.i18nScope, 'projects.project_sidebar');\n\nconst projectSidebar = {\n    controller (args) {\n        const project = args.project,\n            animateProgress = (el, isInitialized) => {\n                if (!isInitialized) {\n                    let animation, progress = 0,\n                        pledged = 0,\n                        contributors = 0,\n                        pledgedIncrement = project().pledged / project().progress,\n                        contributorsIncrement = project().total_contributors / project().progress;\n\n                    const progressBar = document.getElementById('progressBar'),\n                        pledgedEl = document.getElementById('pledged'),\n                        contributorsEl = document.getElementById('contributors'),\n                        animate = () => {\n                            animation = setInterval(incrementProgress, 28);\n                        },\n                        incrementProgress = () => {\n                            if (progress <= parseInt(project().progress)) {\n                                progressBar.style.width = `${progress}%`;\n                                pledgedEl.innerText = `R$ ${h.formatNumber(pledged)}`;\n                                contributorsEl.innerText = `${parseInt(contributors)} pessoas`;\n                                el.innerText = `${progress}%`;\n                                pledged = pledged + pledgedIncrement;\n                                contributors = contributors + contributorsIncrement;\n                                progress = progress + 1;\n                            } else {\n                                clearInterval(animation);\n                            }\n                        };\n\n                    setTimeout(() => {\n                        animate();\n                    }, 1800);\n                }\n            };\n\n        return {\n            animateProgress: animateProgress\n        };\n    },\n    view (ctrl, args) {\n        const project = args.project,\n            elapsed = project().elapsed_time,\n            remaining = project().remaining_time,\n            displayCardClass = () => {\n                const states = {\n                    'waiting_funds': 'card-waiting',\n                    'successful': 'card-success',\n                    'failed': 'card-error',\n                    'draft': 'card-dark',\n                    'in_analysis': 'card-dark',\n                    'approved': 'card-dark'\n                };\n\n                return (states[project().state] ? 'card u-radius zindex-10 ' + states[project().state] : '');\n            },\n            displayStatusText = () => {\n                const states = {\n                    'approved': I18n.t('display_status.approved', I18nScope()),\n                    'online': h.existy(project().zone_expires_at) ? I18n.t('display_status.online', I18nScope({date: h.momentify(project().zone_expires_at)})) : '',\n                    'failed': I18n.t('display_status.failed', I18nScope({date: h.momentify(project().zone_expires_at), goal: project().goal})),\n                    'rejected': I18n.t('display_status.rejected', I18nScope()),\n                    'in_analysis': I18n.t('display_status.in_analysis', I18nScope()),\n                    'successful': I18n.t('display_status.successful', I18nScope({date: h.momentify(project().zone_expires_at)})),\n                    'waiting_funds': I18n.t('display_status.waiting_funds', I18nScope()),\n                    'draft': I18n.t('display_status.draft', I18nScope())\n                };\n\n                return states[project().state];\n            };\n\n        return m('#project-sidebar.aside', [\n            m('.project-stats', [\n                m('.project-stats-inner', [\n                    m('.project-stats-info', [\n                        m('.u-marginbottom-20', [\n                            m('#pledged.fontsize-largest.fontweight-semibold.u-text-center-small-only', `R$ ${project().pledged ? h.formatNumber(project().pledged) : '0'}`),\n                            m('.fontsize-small.u-text-center-small-only', [\n                                I18n.t('contributors_call', I18nScope()),\n                                m('span#contributors.fontweight-semibold', I18n.t('contributors_count', I18nScope({count: project().total_contributors}))),\n                                (!project().expires_at && elapsed) ? ' em ' + I18n.t('datetime.distance_in_words.x_' + elapsed.unit, {count: elapsed.total}, I18nScope()) : ''\n                            ])\n                        ]),\n                        m('.meter', [\n                            m('#progressBar.meter-fill', {\n                                style: {\n                                    width: `${project().progress}%`\n                                }\n                            })\n                        ]),\n                        m('.w-row.u-margintop-10', [\n                            m('.w-col.w-col-5.w-col-small-6.w-col-tiny-6', [\n                                m('.fontsize-small.fontweight-semibold.lineheight-tighter', `${project().progress ? parseInt(project().progress) : '0'}%`)\n                            ]),\n                            m('.w-col.w-col-7.w-col-small-6.w-col-tiny-6.w-clearfix', [\n                                m('.u-right.fontsize-small.lineheight-tighter', remaining && remaining.total ? [\n                                    m('span.fontweight-semibold', remaining.total), I18n.t('remaining_time.' + remaining.unit, I18nScope({count: remaining.total}))\n                                ] : '')\n                            ])\n                        ])\n                    ]),\n                    m('.w-row', [\n                        m.component(projectMode, {\n                            project: project\n                        })\n                    ])\n                ])\n                , (project().open_for_contributions ? m('a#contribute_project_form.btn.btn-large.u-marginbottom-20[href=\"/projects/' + project().id + '/contributions/new\"]', I18n.t('submit', I18nScope())) : ''), ((project().open_for_contributions) ? m.component(projectReminder, {\n                    project: project,\n                    type: 'link'\n                }) : ''),\n                m('div[class=\"fontsize-smaller u-marginbottom-30 ' + displayCardClass() + '\"]', displayStatusText())\n            ]),\n            m('.user-c', m.component(projectUserCard, {\n                userDetails: args.userDetails\n            }))\n        ]);\n    }\n};\n\nexport default projectSidebar;\n","import m from 'mithril';\nimport _ from 'underscore';\nimport h from '../h';\nimport projectHighlight from './project-highlight';\nimport projectSidebar from './project-sidebar';\n\nconst projectHeader = {\n    view (ctrl, args) {\n        let project = args.project;\n\n        if (_.isUndefined(project())){\n            project = m.prop({});\n        }\n\n        return m('#project-header', [\n            m('.w-section.section-product.' + project().mode),\n            m('.w-section.page-header.u-text-center', [\n                m('.w-container', [\n                    m('h1.fontsize-larger.fontweight-semibold.project-name[itemprop=\"name\"]', h.selfOrEmpty(project().name)),\n                    m('h2.fontsize-base.lineheight-looser[itemprop=\"author\"]', (project().user) ? [\n                        'por ',\n                        project().user.name\n                    ] : '')\n                ])\n            ]),\n            m('.w-section.project-main', [\n                m('.w-container', [\n                    m('.w-row.project-main', [\n                        m('.w-col.w-col-8.project-highlight', m.component(projectHighlight, {\n                            project: project\n                        })),\n                        m('.w-col.w-col-4', m.component(projectSidebar, {\n                            project: project,\n                            userDetails: args.userDetails\n                        }))\n                    ])\n                ])\n            ])\n            ]);\n    }\n}\n\nexport default projectHeader;\n","import m from 'mithril';\nimport projectHeader from '../../src/c/project-header';\n\ndescribe('ProjectHeader', () => {\n    let $output, projectDetail;\n\n    describe('view', () => {\n        beforeAll(() => {\n            projectDetail = m.prop(ProjectDetailsMockery()[0]);\n            let component = m.component(projectHeader, {\n                    project: projectDetail,\n                    userDetails: m.prop([])\n                }),\n                view = component.view(null, {\n                    project: projectDetail,\n                    userDetails: m.prop([])\n                });\n            $output = mq(view);\n        });\n\n        it('should a project header', () => {\n            expect($output.find('#project-header').length).toEqual(1);\n            expect($output.contains(projectDetail().name)).toEqual(true);\n        });\n\n        it('should render project-highlight / project-sidebar component area', () => {\n            expect($output.find('.project-highlight').length).toEqual(1);\n            expect($output.find('#project-sidebar').length).toEqual(1);\n        });\n    });\n});\n","import m from 'mithril';\nimport projectHighlight from '../../src/c/project-highlight';\n\ndescribe('ProjectHighlight', () => {\n    let $output, projectDetail;\n\n    it('when project video is not filled should render image', () => {\n        projectDetail = m.prop(_.extend({}, ProjectDetailsMockery()[0], {\n            original_image: 'original_image',\n            video_embed_url: null\n        }));\n        let component = m.component(projectHighlight, {\n                project: projectDetail\n            }),\n            view = component.view(component.controller(), {\n                project: projectDetail\n            });\n        $output = mq(view);\n\n        expect($output.find('.project-image').length).toEqual(1);\n        expect($output.find('iframe.embedly-embed').length).toEqual(0);\n    });\n\n    describe('view', () => {\n        beforeAll(() => {\n            spyOn(m, 'component').and.callThrough();\n            projectDetail = m.prop(ProjectDetailsMockery()[0]);\n            $output = mq(projectHighlight, {\n                project: projectDetail\n            });\n        });\n\n        it('should render project video, headline, category and address info', () => {\n            expect($output.find('iframe.embedly-embed').length).toEqual(1);\n            expect($output.find('span.fa.fa-map-marker').length).toEqual(1);\n            expect($output.contains(projectDetail().address.city)).toEqual(true);\n        });\n\n        it('should render project share box when click on share', () => {\n            $output.click('#share-box');\n            $output.redraw();\n            $output.should.have('.pop-share');\n        });\n    });\n});\n","import m from 'mithril';\nimport projectMode from '../../src/c/project-mode';\n\ndescribe('ProjectMode', () => {\n    let project, component, view, $output;\n\n    describe('view', () => {\n        beforeAll(() => {\n            project = m.prop(ProjectMockery()[0]);\n        });\n\n        it('should render the project mode', () => {\n            component = m.component(projectMode, {\n                project: project\n            });\n            $output = mq(component);\n            expect($output.find('.w-row').length).toEqual(1);\n        });\n\n        it('should render the project mode when goal is null', () => {\n            component = m.component(projectMode, {\n                project: m.prop(_.extend({}, project, {goal: null}))\n            });\n            $output = mq(component);\n            expect($output.find('.w-row').length).toEqual(1);\n        });\n    });\n});\n","import m from 'mithril';\nimport postgrest from 'mithril-postgrest';\nimport _ from 'underscore';\nimport models from '../models';\nimport h from '../h';\n\nconst projectPosts = {\n    controller (args) {\n        const listVM = postgrest.paginationVM(models.projectPostDetail),\n            filterVM = postgrest.filtersVM({\n                project_id: 'eq'\n            });\n\n        filterVM.project_id(args.project().id);\n\n        if (!listVM.collection().length) {\n            listVM.firstPage(filterVM.parameters());\n        }\n\n        return {\n            listVM: listVM,\n            filterVM: filterVM\n        };\n    },\n    view (ctrl, args) {\n        const list = ctrl.listVM,\n            project = args.project() || {};\n\n        return m('.project-posts.w-section', [\n            m('.w-container.u-margintop-20', [\n                (project.is_owner_or_admin ? [\n                    (!list.isLoading()) ?\n                    (_.isEmpty(list.collection()) ? m('.w-hidden-small.w-hidden-tiny', [\n                        m('.fontsize-base.u-marginbottom-30.u-margintop-20', 'Toda novidade publicada no Catarse é enviada diretamente para o email de quem já apoiou seu projeto e também fica disponível para visualização no site. Você pode optar por deixá-la pública, ou visível somente para seus apoiadores aqui nesta aba.')\n                    ]) : '') : '',\n                    m('.w-row.u-marginbottom-20', [\n                        m('.w-col.w-col-4'),\n                        m('.w-col.w-col-4', [\n                            m(`a.btn.btn-edit.btn-small[href='/pt/projects/${project.id}/edit#posts']`, 'Escrever novidade')\n                        ]),\n                        m('.w-col.w-col-4'),\n                    ])\n                ] : ''), (_.map(list.collection(), (post) => {\n                    return m('.w-row', [\n                        m('.w-col.w-col-1'),\n                        m('.w-col.w-col-10', [\n                            m('.post', [\n                                m('.u-marginbottom-60 .w-clearfix', [\n                                    m('.fontsize-small.fontcolor-secondary.u-text-center', h.momentify(post.created_at)),\n                                    m('.fontweight-semibold.fontsize-larger.u-text-center.u-marginbottom-30', post.title), (!_.isEmpty(post.comment_html) ? m('.fontsize-base', m.trust(post.comment_html)) : m('.fontsize-base', 'Post exclusivo para apoiadores.'))\n                                ]),\n                                m('.divider.u-marginbottom-60')\n                            ])\n                        ]),\n                        m('.w-col.w-col-1')\n                    ]);\n                })),\n                m('.w-row', [\n                    m('.w-col.w-col-2.w-col-push-5', [\n                        (!list.isLoading() ?\n                            (list.isLastPage() ? 'Nenhuma novidade.' : m('button#load-more.btn.btn-medium.btn-terciary', {\n                                onclick: list.nextPage\n                            }, 'Carregar mais')) :\n                            h.loader()),\n                    ])\n                ])\n            ]),\n        ]);\n    }\n};\n\nexport default projectPosts;\n","import m from 'mithril';\nimport projectPosts from '../../src/c/project-posts';\n\ndescribe('ProjectPosts', () => {\n    let $output, projectPostDetail;\n\n    describe('view', () => {\n        beforeAll(() => {\n            spyOn(m, 'component').and.callThrough();\n            projectPostDetail = ProjectPostDetailsMockery()[0];\n            const project = m.prop({id: 1231});\n            const component = m.component(projectPosts, {\n                    project: project\n                }),\n                view = component.view(component.controller({\n                    project: project\n                }));\n\n            $output = mq(view);\n        });\n\n        it('should render project post list', () => {\n            expect($output.find('.post').length).toEqual(1);\n            expect($output.contains(projectPostDetail.title)).toEqual(true);\n        });\n    });\n});\n","import m from 'mithril';\n\nconst projectReminderCount = {\n    view (ctrl, args) {\n        const project = args.resource;\n        return m('#project-reminder-count.card.u-radius.u-text-center.medium.u-marginbottom-80', [\n            m('.fontsize-large.fontweight-semibold', 'Total de pessoas que clicaram no botão Lembrar-me'),\n            m('.fontsize-smaller.u-marginbottom-30', 'Um lembrete por email é enviado 48 horas antes do término da sua campanha'),\n            m('.fontsize-jumbo', project.reminder_count)\n        ]);\n    }\n}\n\nexport default projectReminderCount;\n","import m from 'mithril';\nimport projectReminderCount from '../../src/c/project-reminder-count';\n\ndescribe('ProjectReminderCount', () => {\n    let $output, projectDetail;\n\n    describe('view', () => {\n        beforeAll(() => {\n            projectDetail = m.prop(ProjectDetailsMockery()[0]);\n            let component = m.component(projectReminderCount, {\n                    resource: projectDetail\n                }),\n                view = component.view(null, {\n                    resource: projectDetail\n                });\n            $output = mq(view);\n        });\n\n        it('should render reminder total count', () => {\n            expect($output.find('#project-reminder-count').length).toEqual(1);\n        });\n    });\n});\n","import m from 'mithril';\nimport h from '../../src/h';\nimport projectRewardList from '../../src/c/project-reward-list';\n\ndescribe('ProjectRewardList', () => {\n    let generateContextByNewState;\n\n    describe('view', () => {\n        beforeAll(() => {\n            generateContextByNewState = (newState = {}) => {\n                spyOn(m, 'component').and.callThrough();\n                let rewardDetail = RewardDetailsMockery(newState),\n                    component = m.component(projectRewardList, {\n                        project: m.prop({\n                            id: 1231\n                        }),\n                        rewardDetails: m.prop(rewardDetail)\n                    });\n\n                return {\n                    output: mq(component.view()),\n                    rewardDetail: rewardDetail[0]\n                };\n            };\n        });\n\n        it('should render card-gone when reward sould out', () => {\n            let {\n                output, rewardDetail\n            } = generateContextByNewState({\n                maximum_contributions: 4,\n                paid_count: 4\n            });\n\n            expect(output.find('.card-gone').length).toEqual(1);\n            expect(output.contains('Esgotada')).toEqual(true);\n        });\n\n        it('should render card-reward when reward is not sould out', () => {\n            let {\n                output, rewardDetail\n            } = generateContextByNewState({\n                maximum_contributions: null\n            });\n\n            expect(output.find('.card-reward').length).toEqual(1);\n            expect(output.contains('Esgotada')).toEqual(false);\n        });\n\n        it('should render card-reward stats when reward is limited', () => {\n            let {\n                output, rewardDetail\n            } = generateContextByNewState({\n                maximum_contributions: 10,\n                paid_count: 2,\n                waiting_payment_count: 5\n            });\n\n            expect(output.find('.card-reward').length).toEqual(1);\n            expect(output.contains('Limitada')).toEqual(true);\n            expect(output.contains('(3 de 10 disponíveis)')).toEqual(true);\n            expect(output.contains('2 apoios')).toEqual(true);\n            expect(output.contains('5 apoios em prazo de confirmação')).toEqual(true);\n        });\n\n        it('should render card-reward details', () => {\n            let {\n                output, rewardDetail\n            } = generateContextByNewState({\n                minimum_value: 20\n            });\n\n            expect(output.find('.card-reward').length).toEqual(1);\n            expect(output.contains('Para R$ 20 ou mais')).toEqual(true);\n            expect(output.contains('Estimativa de Entrega:')).toEqual(true);\n            expect(output.contains(h.momentify(rewardDetail.deliver_at, 'MMM/YYYY'))).toEqual(true)\n            expect(output.contains(rewardDetail.description)).toEqual(true);\n        });\n    });\n});\n","import m from 'mithril';\nimport _ from 'underscore';\nimport h from '../h';\nimport projectCard from './project-card'\n\nconst projectRow = {\n    view (ctrl, args) {\n        const collection = args.collection,\n            title = args.title || collection.title,\n            ref = args.ref,\n            wrapper = args.wrapper || '.w-section.section.u-marginbottom-40';\n\n        if (collection.loader() || collection.collection().length > 0) {\n            return m(wrapper, [\n                m('.w-container', [\n                    (!_.isUndefined(collection.title) || !_.isUndefined(collection.hash)) ? m('.w-row.u-marginbottom-30', [\n                        m('.w-col.w-col-10.w-col-small-6.w-col-tiny-6', [\n                            m('.fontsize-large.lineheight-looser', title)\n                        ]),\n                        m('.w-col.w-col-2.w-col-small-6.w-col-tiny-6', [\n                            m(`a.btn.btn-small.btn-terciary[href=\"/pt/explore?ref=${ref}#${collection.hash}\"]`, 'Ver todos')\n                        ])\n                    ]) : '',\n                    collection.loader() ? h.loader() : m('.w-row', _.map(collection.collection(), (project) => {\n                        return m.component(projectCard, {\n                            project: project,\n                            ref: ref\n                        });\n                    }))\n                ])\n            ]);\n        } else {\n            return m('div');\n        }\n    }\n}\n\nexport default projectRow;\n","import m from 'mithril';\nimport projectRow from '../../src/c/project-row';\n\ndescribe('ProjectRow', () => {\n    var $output;\n\n    describe('view', () => {\n        let collection = {\n            title: 'test collection',\n            hash: 'testhash',\n            collection: m.prop([]),\n            loader: m.prop(false)\n        };\n\n        describe('when we have a ref parameter', () => {\n            it('should not render row', () => {\n                let [project] = ProjectMockery();\n                collection.collection([project]);\n                let component = m.component(projectRow),\n                    view = component.view(null, {\n                        collection: collection,\n                        ref: 'ref_test'\n                    });\n                $output = mq(view);\n                expect($output.find('.card-project a[href=\"/' + project.permalink + '?ref=ref_test\"]').length).toEqual(3);\n            });\n        });\n\n        describe('when collection is empty and loader true', () => {\n            beforeAll(() => {\n                collection.collection([]);\n                collection.loader(true);\n                let component = m.component(projectRow),\n                    view = component.view(null, {\n                        collection: collection\n                    });\n                $output = mq(view);\n            });\n\n            it('should render loader', () => {\n                expect($output.find('img[alt=\"Loader\"]').length).toEqual(1);\n            });\n        });\n\n        describe('when collection is empty and loader false', () => {\n            beforeAll(() => {\n                collection.collection([]);\n                collection.loader(false);\n                let component = m.component(projectRow),\n                    view = component.view(null, {\n                        collection: collection\n                    });\n                $output = mq(view);\n            });\n\n            it('should render nothing', () => {\n                expect($output.find('img[alt=\"Loader\"]').length).toEqual(0);\n                expect($output.find('.w-section').length).toEqual(0);\n            });\n        });\n\n        describe('when collection has projects', () => {\n            beforeAll(() => {\n                collection.collection(ProjectMockery());\n                let component = m.component(projectRow),\n                    view = component.view(null, {\n                        collection: collection\n                    });\n                $output = mq(view);\n            });\n\n            it('should render projects in row', () => {\n                expect($output.find('.w-section').length).toEqual(1);\n            });\n        });\n\n    });\n});\n","import m from 'mithril';\nimport projectShareBox from '../../src/c/project-share-box';\n\ndescribe('ProjectShareBox', () => {\n    let $output, projectDetail;\n\n    describe('view', () => {\n        beforeAll(() => {\n            projectDetail = m.prop(ProjectDetailsMockery()[0]);\n            let args = {\n                    project: projectDetail,\n                    displayShareBox: {\n                        toggle: jasmine.any(Function)\n                    }\n                },\n                component = m.component(projectShareBox, args),\n                view = component.view(component.controller(), args);\n            $output = mq(projectShareBox, args);\n        });\n\n        it('should render project project share pop', () => {\n            $output.should.have('.pop-share');\n            $output.should.have('.w-widget-facebook');\n            $output.should.have('.w-widget-twitter');\n            $output.should.have('.widget-embed');\n        });\n\n        it('should open embed box when click on embed', () => {\n            $output.click('a.widget-embed');\n            $output.should.have('.embed-expanded');\n        });\n    });\n});\n","import m from 'mithril';\nimport projectSidebar from '../../src/c/project-sidebar';\n\ndescribe('ProjectSidebar', () => {\n    let generateContextByNewState;\n\n    describe('view', () => {\n        beforeAll(() => {\n            generateContextByNewState = (newState = {}) => {\n                spyOn(m, 'component').and.callThrough();\n                let projectDetail = m.prop(_.extend({}, ProjectDetailsMockery()[0], newState)),\n                    component = m.component(projectSidebar, {\n                        project: projectDetail,\n                        userDetails: m.prop([])\n                    }),\n                    ctrl = component.controller({\n                        project: projectDetail,\n                        userDetails: m.prop([])\n                    }),\n                    view = component.view(component.controller(), {\n                        project: projectDetail,\n                        userDetails: m.prop([])\n                    });\n\n                return {\n                    output: mq(view),\n                    ctrl: ctrl,\n                    projectDetail: projectDetail\n                };\n            };\n        });\n\n        it('should render project stats', () => {\n            let {\n                output, projectDetail\n            } = generateContextByNewState({\n                state: 'successful'\n            });\n\n            expect(output.find('#project-sidebar.aside').length).toEqual(1);\n            expect(output.find('.card-success').length).toEqual(1);\n        });\n\n        it('should render a all or nothing badge when is aon', () => {\n            let {\n                output, projectDetail\n            } = generateContextByNewState({\n                mode: 'aon'\n            });\n\n            expect(output.find('#aon').length).toEqual(1);\n        });\n\n        it('should render a flex badge when project mode is flexible', () => {\n            let {\n                output, projectDetail\n            } = generateContextByNewState({\n                mode: 'flex'\n            });\n\n            expect(output.find('#flex').length).toEqual(1);\n        });\n\n        describe('reminder', () => {\n            it('should render reminder when project is open_for_contributions and user signed in and is in_reminder', () => {\n                let {\n                    output, projectDetail\n                } = generateContextByNewState({\n                    open_for_contributions: true,\n                    user_signed_in: true,\n                    in_reminder: true\n                });\n\n                expect(output.contains('Lembrete ativo')).toEqual(true);\n                expect(output.find('#project-reminder').length).toEqual(1);\n            });\n\n            it('should render reminder when project is open_for_contributions and user signed in ant not in_reminder', () => {\n                let {\n                    output, projectDetail\n                } = generateContextByNewState({\n                    open_for_contributions: true,\n                    user_signed_in: true,\n                    in_reminder: false\n                });\n\n                expect(output.contains('Lembrar-me')).toEqual(true);\n                expect(output.find('#project-reminder').length).toEqual(1);\n            });\n\n            it('should render reminder when project is open_for_contributions and user not signed in', () => {\n                let {\n                    output, projectDetail\n                } = generateContextByNewState({\n                    open_for_contributions: true,\n                    user_signed_in: false\n                });\n\n                expect(output.find('#project-reminder').length).toEqual(1);\n            });\n\n            it('should not render reminder when project is not open_for_contributions and user signed in', () => {\n                let {\n                    output, projectDetail\n                } = generateContextByNewState({\n                    open_for_contributions: false,\n                    user_signed_in: true\n                });\n\n                expect(output.find('#project-reminder').length).toEqual(0);\n            });\n        });\n    });\n});\n","import m from 'mithril';\nimport h from '../h';\nimport projectReminder from './project-reminder';\n\nconst projectTabs = {\n    controller (args) {\n        const isFixed = m.prop(false),\n            originalPosition = m.prop(-1);\n\n        const fixOnScroll = (el) => {\n            return () => {\n                let viewportOffset = el.getBoundingClientRect();\n\n                if (window.scrollY <= originalPosition()) {\n                    originalPosition(-1);\n                    isFixed(false);\n                    m.redraw();\n                }\n\n                if (viewportOffset.top < 0 || (window.scrollY > originalPosition() && originalPosition() > 0)) {\n                    if (!isFixed()){\n                        originalPosition(window.scrollY);\n                        isFixed(true);\n                        m.redraw();\n                    }\n                }\n            };\n        };\n\n        const navDisplay = (el, isInitialized) => {\n            if (!isInitialized) {\n                const fixNavBar = fixOnScroll(el);\n                window.addEventListener('scroll', fixNavBar);\n            }\n        };\n\n        return {\n            navDisplay: navDisplay,\n            isFixed: isFixed\n        };\n    },\n    view (ctrl, args) {\n        const project = args.project,\n            rewards = args.rewardDetails;\n\n        let mainClass = (!ctrl.isFixed() || project().is_owner_or_admin) ? '.w-section.project-nav' : '.w-section.project-nav.project-nav-fixed';\n\n        return m('nav-wrapper', project() ? [\n            m(mainClass, {\n                config: ctrl.navDisplay\n            }, [\n                m('.w-container', [\n                    m('.w-row', [\n                        m('.w-col.w-col-8', [!_.isEmpty(rewards()) ?\n                            m('a[id=\"rewards-link\"][class=\"w-hidden-main w-hidden-medium dashboard-nav-link mf ' + (h.hashMatch('#rewards') ? 'selected' : '') + '\"][href=\"#rewards\"]', {\n                                style: 'float: left;'\n                            }, 'Recompensas') : m('a[id=\"rewards-link\"][class=\"w-hidden-main w-hidden-medium dashboard-nav-link mf ' + (h.hashMatch('#contribution_suggestions') ? 'selected' : '') + '\"][href=\"#contribution_suggestions\"]', {\n                                style: 'float: left;'\n                            }, 'Valores Sugeridos'),\n                            m('a[id=\"about-link\"][class=\"dashboard-nav-link mf ' + (h.hashMatch('#about') || h.hashMatch('') ? 'selected' : '') + ' \"][href=\"#about\"]', {\n                                style: 'float: left;'\n                            }, 'Sobre'),\n                            m('a[id=\"posts-link\"][class=\"dashboard-nav-link mf ' + (h.hashMatch('#posts') ? 'selected' : '') + '\"][href=\"#posts\"]', {\n                                style: 'float: left;'\n                            }, [\n                                'Novidades ',\n                                m('span.badge', project() ? project().posts_count : '')\n                            ]),\n                            m('a[id=\"contributions-link\"][class=\"w-hidden-small w-hidden-tiny dashboard-nav-link mf ' + (h.hashMatch('#contributions') ? 'selected' : '') + '\"][href=\"#contributions\"]', {\n                                style: 'float: left;'\n                            }, [\n                                'Apoios ',\n                                m('span.badge.w-hidden-small.w-hidden-tiny', project() ? project().total_contributions : '-')\n                            ]),\n                            m('a[id=\"comments-link\"][class=\"dashboard-nav-link mf ' + (h.hashMatch('#comments') ? 'selected' : '') + '\"][href=\"#comments\"]', {\n                                style: 'float: left;'\n                            }, [\n                                'Comentários ',\n                                project() ? m('fb:comments-count[href=\"http://www.catarse.me/' + project().permalink + '\"][class=\"badge project-fb-comment w-hidden-small w-hidden-tiny\"][style=\"display: inline\"]', m.trust('&nbsp;')) : '-'\n                            ]),\n                        ]),\n                        project() ? m('.w-col.w-col-4.w-hidden-small.w-hidden-tiny', project().open_for_contributions ? [\n                            m('.w-row.project-nav-back-button', [\n                                m('.w-col.w-col-6.w-col-medium-8', [\n                                    m('a.w-button.btn[href=\"/projects/' + project().id + '/contributions/new\"]', 'Apoiar ‍este projeto')\n                                ]),\n                                m('.w-col.w-col-6.w-col-medium-4', [\n                                    m.component(projectReminder, {project: project, type: 'button', hideTextOnMobile: true})\n                                ])\n                            ])\n                        ] : '') : ''\n                    ])\n                ])\n            ]),\n            (ctrl.isFixed() && !project().is_owner_or_admin) ? m('.w-section.project-nav') : ''\n        ] : '');\n    }\n};\n\nexport default projectTabs;\n","import m from 'mithril';\nimport projectTabs from '../../src/c/project-tabs';\n\ndescribe('ProjectTabs', () => {\n    let $output, projectDetail;\n\n    describe('view', () => {\n        beforeAll(() => {\n            projectDetail = m.prop(ProjectDetailsMockery()[0]);\n            let component = m.component(projectTabs, {\n                project: m.prop(projectDetail),\n                rewardDetails: m.prop([])\n            });\n            $output = mq(component);\n        });\n\n        it('should render project-tabs', () => {\n            expect($output.find('a.dashboard-nav-link').length).toEqual(5);\n            expect($output.find('a#about-link').length).toEqual(1);\n        });\n\n        it('should call hashMatch when click on some link', () => {\n            const oldHash = window.location.hash;\n            window.location.hash = 'posts';\n            $output.redraw();\n            $output.should.have('a#posts-link.selected');\n            window.location.hash = oldHash;\n        });\n    });\n});\n","import m from 'mithril';\nimport _ from 'underscore';\nimport h from '../h';\nimport models from '../models';\n\nconst projectVM = (project_id, project_user_id) => {\n    const vm = postgrest.filtersVM({\n        project_id: 'eq'\n    }),\n          idVM = h.idVM,\n          projectDetails = m.prop([]),\n          userDetails = m.prop([]),\n          rewardDetails = m.prop([]);\n\n    vm.project_id(project_id);\n    idVM.id(project_user_id);\n\n    const lProject = postgrest.loaderWithToken(models.projectDetail.getRowOptions(vm.parameters())),\n          lUser = postgrest.loaderWithToken(models.userDetail.getRowOptions(idVM.parameters())),\n          lReward = postgrest.loaderWithToken(models.rewardDetail.getPageOptions(vm.parameters())),\n          isLoading = () => { return (lProject() || lUser() || lReward()); };\n\n    lProject.load().then((data) => {\n        lUser.load().then(userDetails);\n        lReward.load().then(rewardDetails);\n\n        projectDetails(data);\n    });\n\n    return {\n        projectDetails: _.compose(_.first, projectDetails),\n        userDetails: userDetails,\n        rewardDetails: rewardDetails,\n        isLoading: isLoading\n    };\n};\n\nexport default projectVM;\n","/**\n * window.c.root.ProjectsDashboard component\n * A root component to manage projects\n *\n * Example:\n * To mount this component just create a DOM element like:\n * <div data-mithril=\"ProjectsDashboard\">\n */\nimport m from 'mithril';\nimport _ from 'underscore';\nimport h from '../h';\nimport projectVM from '../vms/project-vm';\nimport projectDashboardMenu from '../c/project-dashboard-menu';\n\nconst projectsDashboard = {\n    controller (args) {\n        return projectVM(args.project_id, args.project_user_id);\n    },\n    view (ctrl) {\n        const project = ctrl.projectDetails;\n        return project().is_owner_or_admin ?\n            m.component(projectDashboardMenu, {project: project}) : '';\n    }\n}\n\nexport default projectsDashboard;\n","import m from 'mithril';\nimport projectsDashboard from '../../src/root/projects-dashboard';\n\ndescribe('ProjectsDashboard', () => {\n    let $output, projectDetail;\n\n    describe('view', () => {\n        beforeAll(() => {\n            projectDetail = ProjectDetailsMockery()[0];\n            let component = m.component(projectsDashboard, {\n                project_id: projectDetail.project_id,\n                project_user_id: projectDetail.user.id,\n            });\n            $output = mq(component);\n        });\n\n        it('should render project about and reward list', () => {\n            expect($output.has('.project-nav-wrapper')).toBeTrue();\n        });\n    });\n});\n","import m from 'mithril';\nimport models from '../models';\n\nexport default postgrest.paginationVM(models.contributionDetail, 'id.desc', {'Prefer': 'count=exact'});\n","import m from 'mithril'\nimport h from '../h';\nimport postgrest from 'mithril-postgrest';\nimport replaceDiacritics from 'replaceDiacritics';\n\nconst vm = postgrest.filtersVM({\n        full_text_index: '@@',\n        state: 'eq',\n        gateway: 'eq',\n        value: 'between',\n        created_at: 'between'\n    }),\n\n    paramToString = function(p) {\n        return (p || '').toString().trim();\n    };\n\n// Set default values\nvm.state('');\nvm.gateway('');\nvm.order({\n    id: 'desc'\n});\n\nvm.created_at.lte.toFilter = function() {\n    var filter = paramToString(vm.created_at.lte());\n    return filter && h.momentFromString(filter).endOf('day').format('');\n};\n\nvm.created_at.gte.toFilter = function() {\n    var filter = paramToString(vm.created_at.gte());\n    return filter && h.momentFromString(filter).format();\n};\n\nvm.full_text_index.toFilter = function() {\n    var filter = paramToString(vm.full_text_index());\n    return filter && replaceDiacritics(filter) || undefined;\n};\n\nexport default vm;\n","import m from 'mithril';\nimport h from '../h';\n\nconst adminProject = {\n    view (ctrl, args) {\n        const project = args.item;\n        return m('.w-row.admin-project', [\n            m('.w-col.w-col-3.w-col-small-3.u-marginbottom-10', [\n                m('img.thumb-project.u-radius[src=' + project.project_img + '][width=50]')\n            ]),\n            m('.w-col.w-col-9.w-col-small-9', [\n                m('.fontweight-semibold.fontsize-smaller.lineheight-tighter.u-marginbottom-10', [\n                    m('a.alt-link[target=\"_blank\"][href=\"/' + project.permalink + '\"]', project.project_name)\n                ]),\n                m('.fontsize-smallest.fontweight-semibold', project.project_state),\n                m('.fontsize-smallest.fontcolor-secondary', h.momentify(project.project_online_date) + ' a ' + h.momentify(project.project_expires_at))\n            ])\n        ]);\n    }\n};\n\nexport default adminProject;\n","import m from 'mithril';\nimport h from '../h';\n\nconst adminContribution = {\n    view (ctrl, args) {\n        const contribution = args.item;\n        return m('.w-row.admin-contribution', [\n            m('.fontweight-semibold.lineheight-tighter.u-marginbottom-10.fontsize-small', 'R$' + contribution.value),\n            m('.fontsize-smallest.fontcolor-secondary', h.momentify(contribution.created_at, 'DD/MM/YYYY HH:mm[h]')),\n            m('.fontsize-smallest', [\n                'ID do Gateway: ',\n                m('a.alt-link[target=\"_blank\"][href=\"https://dashboard.pagar.me/#/transactions/' + contribution.gateway_id + '\"]', contribution.gateway_id)\n            ])\n        ]);\n    }\n}\n\nexport default adminContribution;\n","/**\n * window.c.AdminContributionUser component\n * An itembuilder component that returns additional data\n * to be included in AdminUser.\n *\n * Example:\n * controller: function() {\n *     return {\n *         itemBuilder: [{\n *             component: 'AdminContributionUser',\n *             wrapperClass: '.w-col.w-col-4'\n *         }]\n *     }\n * }\n */\nimport m from 'mithril';\nimport adminUser from './admin-user';\n\nconst adminContributionUser = {\n    view (ctrl, args) {\n        const item = args.item,\n              user = {\n                  profile_img_thumbnail: item.user_profile_img,\n                  id: item.user_id,\n                  name: item.user_name,\n                  email: item.email,\n              };\n\n        const additionalData = m('.fontsize-smallest.fontcolor-secondary', 'Gateway: ' + item.payer_email);\n        return m.component(adminUser, {item: user, additional_data: additionalData});\n    }\n};\n\nexport default adminContributionUser;\n","import m from 'mithril';\nimport h from '../h';\nimport adminProject from './admin-project';\nimport adminContribution from './admin-contribution';\nimport adminContributionUser from './admin-contribution-user';\nimport paymentStatus from './payment-status';\n\nconst adminContributionItem = {\n    controller () {\n        return {\n            itemBuilder: [{\n                component: adminContributionUser,\n                wrapperClass: '.w-col.w-col-4'\n            }, {\n                component: adminProject,\n                wrapperClass: '.w-col.w-col-4'\n            }, {\n                component: adminContribution,\n                wrapperClass: '.w-col.w-col-2'\n            }, {\n                component: paymentStatus,\n                wrapperClass: '.w-col.w-col-2'\n            }]\n        };\n    },\n    view (ctrl, args) {\n        return m(\n            '.w-row',\n            _.map(ctrl.itemBuilder, function(panel) {\n                return m(panel.wrapperClass, [\n                    m.component(panel.component, {\n                        item: args.item,\n                        key: args.key\n                    })\n                ]);\n            })\n        );\n    }\n};\n\nexport default adminContributionItem;\n","import m from 'mithril';\nimport _ from 'underscore';\nimport h from '../h';\nimport models from '../models';\nimport adminInputAction from './admin-input-action';\nimport adminRadioAction from './admin-radio-action';\nimport adminExternalAction from './admin-external-action';\nimport adminTransaction from './admin-transaction';\nimport adminTransactionHistory from './admin-transaction-history';\nimport adminReward from './admin-reward';\n\nconst adminContributionDetail = {\n    controller (args) {\n        let l;\n        const loadReward = () => {\n            const model = models.rewardDetail,\n                reward_id = args.item.reward_id,\n                opts = model.getRowOptions(h.idVM.id(reward_id).parameters()),\n                reward = m.prop({});\n\n            l = postgrest.loaderWithToken(opts);\n\n            if (reward_id) {\n                l.load().then(_.compose(reward, _.first));\n            }\n\n            return reward;\n        };\n\n        return {\n            reward: loadReward(),\n            actions: {\n                transfer: {\n                    property: 'user_id',\n                    updateKey: 'id',\n                    callToAction: 'Transferir',\n                    innerLabel: 'Id do novo apoiador:',\n                    outerLabel: 'Transferir Apoio',\n                    placeholder: 'ex: 129908',\n                    successMessage: 'Apoio transferido com sucesso!',\n                    errorMessage: 'O apoio não foi transferido!',\n                    model: models.contributionDetail\n                },\n                reward: {\n                    getKey: 'project_id',\n                    updateKey: 'contribution_id',\n                    selectKey: 'reward_id',\n                    radios: 'rewards',\n                    callToAction: 'Alterar Recompensa',\n                    outerLabel: 'Recompensa',\n                    getModel: models.rewardDetail,\n                    updateModel: models.contributionDetail,\n                    selectedItem: loadReward(),\n                    validate (rewards, newRewardID) {\n                        let reward = _.findWhere(rewards, {id: newRewardID});\n                        return (args.item.value >= reward.minimum_value) ? undefined : 'Valor mínimo da recompensa é maior do que o valor da contribuição.';\n                    }\n                },\n                refund: {\n                    updateKey: 'id',\n                    callToAction: 'Reembolso direto',\n                    innerLabel: 'Tem certeza que deseja reembolsar esse apoio?',\n                    outerLabel: 'Reembolsar Apoio',\n                    model: models.contributionDetail\n                },\n                remove: {\n                    property: 'state',\n                    updateKey: 'id',\n                    callToAction: 'Apagar',\n                    innerLabel: 'Tem certeza que deseja apagar esse apoio?',\n                    outerLabel: 'Apagar Apoio',\n                    forceValue: 'deleted',\n                    successMessage: 'Apoio removido com sucesso!',\n                    errorMessage: 'O apoio não foi removido!',\n                    model: models.contributionDetail\n                }\n            },\n            l: l\n        };\n    },\n    view (ctrl, args) {\n        let actions = ctrl.actions,\n            item = args.item,\n            reward = ctrl.reward;\n\n        const addOptions = (builder, id) => {\n            return _.extend({}, builder, {\n                requestOptions: {\n                    url: (`/admin/contributions/${id}/gateway_refund`),\n                    method: 'PUT'\n                }\n            });\n        };\n\n        return m('#admin-contribution-detail-box', [\n            m('.divider.u-margintop-20.u-marginbottom-20'),\n            m('.w-row.u-marginbottom-30', [\n                m.component(adminInputAction, {\n                    data: actions.transfer,\n                    item: item\n                }),\n                (ctrl.l()) ? h.loader :\n                m.component(adminRadioAction, {\n                    data: actions.reward,\n                    item: reward,\n                    getKeyValue: item.project_id,\n                    updateKeyValue: item.contribution_id\n                }),\n                m.component(adminExternalAction, {\n                    data: addOptions(actions.refund, item.id),\n                    item: item\n                }),\n                m.component(adminInputAction, {\n                    data: actions.remove,\n                    item: item\n                })\n            ]),\n            m('.w-row.card.card-terciary.u-radius', [\n                m.component(adminTransaction, {\n                    contribution: item\n                }),\n                m.component(adminTransactionHistory, {\n                    contribution: item\n                }),\n                (ctrl.l()) ? h.loader :\n                m.component(adminReward, {\n                    reward: reward,\n                    key: item.key\n                })\n            ])\n        ]);\n    }\n};\n\nexport default adminContributionDetail;\n","import m from 'mithril';\nimport h from '../h';\nimport contributionListVM from '../vms/contribution-list-vm';\nimport contributionFilterVM from '../vms/contribution-filter-vm';\nimport adminList from '../c/admin-list';\nimport adminFilter from '../c/admin-filter';\nimport adminContributionItem from '../c/admin-contribution-item';\nimport adminContributionDetail from '../c/admin-contribution-detail';\nimport filterMain from '../c/filter-main';\nimport filterDropdown from '../c/filter-dropdown';\nimport filterNumberRange from '../c/filter-number-range';\nimport filterDateRange from '../c/filter-date-range';\n\nconst adminContributions = {\n    controller () {\n        var listVM = contributionListVM,\n            filterVM = contributionFilterVM,\n            error = m.prop(''),\n            filterBuilder = [{ //full_text_index\n                component: filterMain,\n                data: {\n                    vm: filterVM.full_text_index,\n                    placeholder: 'Busque por projeto, email, Ids do usuário e do apoio...'\n                }\n            }, { //state\n                component: filterDropdown,\n                data: {\n                    label: 'Com o estado',\n                    name: 'state',\n                    vm: filterVM.state,\n                    options: [{\n                        value: '',\n                        option: 'Qualquer um'\n                    }, {\n                        value: 'paid',\n                        option: 'paid'\n                    }, {\n                        value: 'refused',\n                        option: 'refused'\n                    }, {\n                        value: 'pending',\n                        option: 'pending'\n                    }, {\n                        value: 'pending_refund',\n                        option: 'pending_refund'\n                    }, {\n                        value: 'refunded',\n                        option: 'refunded'\n                    }, {\n                        value: 'chargeback',\n                        option: 'chargeback'\n                    }, {\n                        value: 'deleted',\n                        option: 'deleted'\n                    }]\n                }\n            }, { //gateway\n                component: filterDropdown,\n                data: {\n                    label: 'gateway',\n                    name: 'gateway',\n                    vm: filterVM.gateway,\n                    options: [{\n                        value: '',\n                        option: 'Qualquer um'\n                    }, {\n                        value: 'Pagarme',\n                        option: 'Pagarme'\n                    }, {\n                        value: 'MoIP',\n                        option: 'MoIP'\n                    }, {\n                        value: 'PayPal',\n                        option: 'PayPal'\n                    }, {\n                        value: 'Credits',\n                        option: 'Créditos'\n                    }]\n                }\n            }, { //value\n                component: filterNumberRange,\n                data: {\n                    label: 'Valores entre',\n                    first: filterVM.value.gte,\n                    last: filterVM.value.lte\n                }\n            }, { //created_at\n                component: filterDateRange,\n                data: {\n                    label: 'Período do apoio',\n                    first: filterVM.created_at.gte,\n                    last: filterVM.created_at.lte\n                }\n            }],\n            submit = () => {\n                error(false);\n                listVM.firstPage(filterVM.parameters()).then(null, (serverError) => {\n                    error(serverError.message);\n                });\n                return false;\n            };\n\n        return {\n            filterVM: filterVM,\n            filterBuilder: filterBuilder,\n            listVM: {\n                list: listVM,\n                error: error\n            },\n            data: {\n                label: 'Apoios'\n            },\n            submit: submit\n        };\n    },\n\n    view (ctrl) {\n        return [\n            m.component(adminFilter, {\n                form: ctrl.filterVM.formDescriber,\n                filterBuilder: ctrl.filterBuilder,\n                submit: ctrl.submit\n            }),\n            m.component(adminList, {\n                vm: ctrl.listVM,\n                listItem: adminContributionItem,\n                listDetail: adminContributionDetail\n            })\n        ]\n    }\n};\n\nexport default adminContributions;\n","import adminContributions from '../../../src/root/admin-contributions';\n\nexport default describe('adminContributions', () => {\n  let ctrl, $output;\n\n  beforeAll(() => {\n    ctrl = m.component(adminContributions).controller();\n  });\n\n  describe('controller', () => {\n    it('should instantiate a list view-model', () => {\n      expect(ctrl.listVM).toBeDefined();\n    });\n\n    it('should instantiate a filter view-model', () => {\n      expect(ctrl.filterVM).toBeDefined();\n    });\n\n  });\n\n  describe('view', () => {\n    beforeAll(() => {\n      $output = mq(adminContributions);\n    });\n\n    it('should render AdminFilter nested component', () => {\n      expect($output.has('#admin-contributions-filter')).toBeTrue();\n    });\n    it('should render AdminList nested component', () => {\n      expect($output.has('#admin-contributions-list')).toBeTrue();\n    });\n  });\n});\n","import m from 'mithril';\nimport models from '../models';\n\nexport default postgrest.paginationVM(models.user, 'id.desc', {'Prefer': 'count=exact'});\n","import m from 'mithril';\nimport replaceDiacritics from 'replaceDiacritics';\n\nconst vm = postgrest.filtersVM({\n        full_text_index: '@@',\n        deactivated_at: 'is.null'\n    }),\n\n    paramToString = function(p) {\n        return (p || '').toString().trim();\n    };\n\n// Set default values\nvm.deactivated_at(null).order({\n    id: 'desc'\n});\n\nvm.deactivated_at.toFilter = function() {\n    var filter = JSON.parse(vm.deactivated_at());\n    return filter;\n};\n\nvm.full_text_index.toFilter = function() {\n    var filter = paramToString(vm.full_text_index());\n    return filter && replaceDiacritics(filter) || undefined;\n};\n\nexport default vm;\n","import m from 'mithril';\nimport h from '../h';\nimport adminUser from './admin-user';\n\nconst adminUserItem = {\n    view (ctrl, args) {\n        return m(\n            '.w-row', [\n                m('.w-col.w-col-4', [\n                    m.component(adminUser, args)\n                ])\n            ]\n        );\n    }\n};\n\nexport default adminUserItem;\n","/**\n * window.c.AdminResetPassword component\n * Makes ajax request to update User password.\n *\n * Example:\n * m.component(c.AdminResetPassword, {\n *     data: {},\n *     item: rowFromDatabase\n * })\n */\nimport m from 'mithril';\nimport _ from 'underscore';\nimport h from '../h';\n\nconst adminResetPassword = {\n    controller (args) {\n        let builder = args.data,\n            complete = m.prop(false),\n            error = m.prop(false),\n            fail = m.prop(false),\n            key = builder.property,\n            data = {},\n            item = args.item;\n\n        builder.requestOptions.config = (xhr) => {\n            if (h.authenticityToken()) {\n                xhr.setRequestHeader('X-CSRF-Token', h.authenticityToken());\n            }\n        };\n\n        const l = m.prop(false),\n            load = () => m.request(_.extend({}, {data: data}, builder.requestOptions)),\n            newPassword = m.prop(''),\n            error_message = m.prop('');\n\n        const requestError = (err) => {\n            l(false);\n            error_message(err.errors[0]);\n            complete(true);\n            error(true);\n        };\n        const updateItem = (res) => {\n            l(false);\n            _.extend(item, res[0]);\n            complete(true);\n            error(false);\n        };\n\n        const submit = () => {\n            l(true);\n            data[key] = newPassword();\n            load().then(updateItem, requestError);\n            return false;\n        };\n\n        const unload = (el, isinit, context) => {\n            context.onunload = function() {\n                complete(false);\n                error(false);\n            };\n        };\n\n        return {\n            complete: complete,\n            error: error,\n            error_message: error_message,\n            l: l,\n            newPassword: newPassword,\n            submit: submit,\n            toggler: h.toggleProp(false, true),\n            unload: unload\n        };\n    },\n    view (ctrl, args) {\n        const data = args.data,\n            btnValue = (ctrl.l()) ? 'por favor, aguarde...' : data.callToAction;\n\n        return m('.w-col.w-col-2', [\n            m('button.btn.btn-small.btn-terciary', {\n                onclick: ctrl.toggler.toggle\n            }, data.outerLabel), (ctrl.toggler()) ?\n            m('.dropdown-list.card.u-radius.dropdown-list-medium.zindex-10', {\n                config: ctrl.unload\n            }, [\n                m('form.w-form', {\n                    onsubmit: ctrl.submit\n                }, (!ctrl.complete()) ? [\n                    m('label', data.innerLabel),\n                    m('input.w-input.text-field[type=\"text\"][name=\"' + data.property + '\"][placeholder=\"' + data.placeholder + '\"]', {\n                        onchange: m.withAttr('value', ctrl.newPassword),\n                        value: ctrl.newPassword()\n                    }),\n                    m('input.w-button.btn.btn-small[type=\"submit\"][value=\"' + btnValue + '\"]')\n                ] : (!ctrl.error()) ? [\n                    m('.w-form-done[style=\"display:block;\"]', [\n                        m('p', 'Senha alterada com sucesso.')\n                    ])\n                ] : [\n                    m('.w-form-error[style=\"display:block;\"]', [\n                        m('p', ctrl.error_message())\n                    ])\n                ])\n            ]) : ''\n        ]);\n    }\n};\n\nexport default adminResetPassword;\n","/**\n * window.c.AdminUserDetail component\n * Return action inputs to be used inside AdminList component.\n *\n * Example:\n * m.component(c.AdminList, {\n *     data: {},\n *     listDetail: c.AdminUserDetail\n * })\n */\nimport m from 'mithril';\nimport _ from 'underscore';\nimport models from '../models';\nimport adminResetPassword from './admin-reset-password';\nimport adminInputAction from './admin-input-action';\nimport adminNotificationHistory from './admin-notification-history';\n\nconst adminUserDetail = {\n    controller () {\n        return {\n            actions: {\n                reset: {\n                    property: 'password',\n                    callToAction: 'Redefinir',\n                    innerLabel: 'Nova senha de Usuário:',\n                    outerLabel: 'Redefinir senha',\n                    placeholder: 'ex: 123mud@r',\n                    model: models.user\n                },\n                reactivate: {\n                    property: 'deactivated_at',\n                    updateKey: 'id',\n                    callToAction: 'Reativar',\n                    innerLabel: 'Tem certeza que deseja reativar esse usuário?',\n                    successMessage: 'Usuário reativado com sucesso!',\n                    errorMessage: 'O usuário não pôde ser reativado!',\n                    outerLabel: 'Reativar usuário',\n                    forceValue: null,\n                    model: models.user\n                }\n            }\n        };\n    },\n    view (ctrl, args) {\n        const actions = ctrl.actions,\n            item = args.item,\n            details = args.details,\n            addOptions = (builder, id) => {\n                return _.extend({}, builder, {\n                    requestOptions: {\n                        url: (`/users/${id}/new_password`),\n                        method: 'POST'\n                    }\n                });\n            };\n\n        return m('#admin-contribution-detail-box', [\n            m('.divider.u-margintop-20.u-marginbottom-20'),\n            m('.w-row.u-marginbottom-30', [\n                m.component(adminResetPassword, {\n                    data: addOptions(actions.reset, item.id),\n                    item: item\n                }),\n                (item.deactivated_at) ?\n                    m.component(adminInputAction, {data: actions.reactivate, item: item}) : ''\n            ]),\n            m('.w-row.card.card-terciary.u-radius', [\n                m.component(adminNotificationHistory, {\n                    user: item\n                }),\n            ]),\n        ]);\n    }\n}\n\nexport default adminUserDetail;\n","import m from 'mithril';\nimport h from '../h';\nimport userListVM from '../vms/user-list-vm';\nimport userFilterVM from '../vms/user-filter-vm';\nimport adminFilter from '../c/admin-filter';\nimport adminList from '../c/admin-list';\nimport adminUserItem from '../c/admin-user-item';\nimport adminUserDetail from '../c/admin-user-detail';\nimport adminUser from '../c/admin-user';\nimport filterMain from '../c/filter-main';\nimport filterDropdown from '../c/filter-dropdown';\n\nconst adminUsers = {\n    controller () {\n        const listVM = userListVM,\n            filterVM = userFilterVM,\n            error = m.prop(''),\n            itemBuilder = [{\n                component: adminUser,\n                wrapperClass: '.w-col.w-col-4'\n            }],\n            filterBuilder = [{ //name\n                component: filterMain,\n                data: {\n                    vm: filterVM.full_text_index,\n                    placeholder: 'Busque por nome, e-mail, Ids do usuário...',\n                },\n            }, { //status\n                component: filterDropdown,\n                data: {\n                    label: 'Com o estado',\n                    index: 'status',\n                    name: 'deactivated_at',\n                    vm: filterVM.deactivated_at,\n                    options: [{\n                        value: '',\n                        option: 'Qualquer um'\n                    }, {\n                        value: null,\n                        option: 'ativo'\n                    }, {\n                        value: !null,\n                        option: 'desativado'\n                    }]\n                }\n            }],\n            submit = () => {\n                listVM.firstPage(filterVM.parameters()).then(null, function(serverError) {\n                    error(serverError.message);\n                });\n                return false;\n            };\n\n        return {\n            filterVM: filterVM,\n            filterBuilder: filterBuilder,\n            listVM: {\n                list: listVM,\n                error: error\n            },\n            submit: submit\n        };\n    },\n    view (ctrl) {\n        const label = 'Usuários';\n\n        return [\n            m.component(adminFilter, {\n                form: ctrl.filterVM.formDescriber,\n                filterBuilder: ctrl.filterBuilder,\n                label: label,\n                submit: ctrl.submit\n            }),\n            m.component(adminList, {\n                vm: ctrl.listVM,\n                label: label,\n                listItem: adminUserItem,\n                listDetail: adminUserDetail\n            })\n        ];\n    }\n};\n\nexport default adminUsers;\n","import adminUsers from '../../../src/root/admin-users'\n\nexport default describe('adminUsers', () => {\n  let ctrl, $output;\n\n  beforeAll(() => {\n    ctrl = m.component(adminUsers).controller();\n  });\n\n  describe('controller', () => {\n    it('should instantiate a list view-model', () => {\n      expect(ctrl.listVM).toBeDefined();\n    });\n\n    it('should instantiate a filter view-model', () => {\n      expect(ctrl.filterVM).toBeDefined();\n    });\n\n  });\n\n  describe('view', () => {\n    beforeAll(() => {\n      $output = mq(adminUsers);\n    });\n\n    it('should render AdminFilter nested component', () => {\n      expect($output.has('#admin-contributions-filter')).toBeTrue();\n    });\n    it('should render AdminList nested component', () => {\n      expect($output.has('#admin-contributions-list')).toBeTrue();\n    });\n  });\n});\n","import m from 'mithril';\nimport _ from 'underscore';\nimport models from '../models';\nimport h from '../h';\n\nconst liveStatistics = {\n    controller (args = {}) {\n        const pageStatistics = m.prop([]),\n            notificationData = m.prop({});\n\n        models.statistic.getRow().then(pageStatistics);\n        // args.socket is a socket provided by socket.io\n        // can see there https://github.com/catarse/catarse-live/blob/master/public/index.js#L8\n        if (args.socket && _.isFunction(args.socket.on)) {\n            args.socket.on('new_paid_contributions', (msg) => {\n                notificationData(JSON.parse(msg.payload));\n                models.statistic.getRow().then(pageStatistics);\n                m.redraw();\n            });\n        }\n\n        return {\n            pageStatistics: pageStatistics,\n            notificationData: notificationData\n        };\n    },\n    view (ctrl) {\n        const data = ctrl.notificationData();\n\n        return m('.w-section.bg-stats.section.min-height-100', [\n            m('.w-container.u-text-center', _.map(ctrl.pageStatistics(), (stat) => {\n                return [m('img.u-marginbottom-60[src=\"https://daks2k3a4ib2z.cloudfront.net/54b440b85608e3f4389db387/55ada5dd11b36a52616d97df_symbol-catarse.png\"]'),\n                    m('.fontcolor-negative.u-marginbottom-40', [\n                        m('.fontsize-megajumbo.fontweight-semibold', 'R$ ' + h.formatNumber(stat.total_contributed, 2, 3)),\n                        m('.fontsize-large', 'Doados para projetos publicados por aqui')\n                    ]),\n                    m('.fontcolor-negative.u-marginbottom-60', [\n                        m('.fontsize-megajumbo.fontweight-semibold', stat.total_contributors),\n                        m('.fontsize-large', 'Pessoas já apoiaram pelo menos 1 projeto no Catarse')\n                    ])\n                ];\n            })), (!_.isEmpty(data) ? m('.w-container', [\n                m('div', [\n                    m('.card.u-radius.u-marginbottom-60.medium', [\n                        m('.w-row', [\n                            m('.w-col.w-col-4', [\n                                m('.w-row', [\n                                    m('.w-col.w-col-4.w-col-small-4', [\n                                        m('img.thumb.u-round[src=\"' + h.useAvatarOrDefault(data.user_image) + '\"]')\n                                    ]),\n                                    m('.w-col.w-col-8.w-col-small-8', [\n                                        m('.fontsize-large.lineheight-tight', data.user_name)\n                                    ])\n                                ])\n                            ]),\n                            m('.w-col.w-col-4.u-text-center.fontsize-base.u-margintop-20', [\n                                m('div', 'acabou de apoiar o')\n                            ]),\n                            m('.w-col.w-col-4', [\n                                m('.w-row', [\n                                    m('.w-col.w-col-4.w-col-small-4', [\n                                        m('img.thumb-project.u-radius[src=\"' + data.project_image + '\"][width=\"75\"]')\n                                    ]),\n                                    m('.w-col.w-col-8.w-col-small-8', [\n                                        m('.fontsize-large.lineheight-tight', data.project_name)\n                                    ])\n                                ])\n                            ])\n                        ])\n                    ])\n                ])\n            ]) : ''),\n            m('.u-text-center.fontsize-large.u-marginbottom-10.fontcolor-negative', [\n                m('a.link-hidden.fontcolor-negative[href=\"https://github.com/catarse\"][target=\"_blank\"]', [\n                    m('span.fa.fa-github', '.'), ' Open Source com orgulho! '\n                ])\n            ]),\n        ]);\n    }\n}\n\nexport default liveStatistics;\n","import liveStatistics from '../../../src/root/live-statistics';\nimport h from '../../../src/h';\n\nexport default describe('pages.LiveStatistics', () => {\n  let $output, statistic;\n\n  describe('view', () => {\n    beforeAll(() => {\n      statistic = StatisticMockery()[0];\n      let component = m.component(liveStatistics);\n      $output = mq(component.view(component.controller(), {}));\n    });\n\n    it('should render statistics', () => {\n      expect($output.contains(h.formatNumber(statistic.total_contributed, 2, 3))).toEqual(true);\n      expect($output.contains(statistic.total_contributors)).toEqual(true);\n    });\n  });\n});\n","import m from 'mithril';\nimport moment from 'moment';\nimport postgrest from 'mithril-postgrest';\n\nconst projectFiltersVM = () => {\n    const filtersVM = postgrest.filtersVM,\n        all = filtersVM({\n          state: 'eq'\n        }).state('online'),\n\n        nearMe = filtersVM({\n          near_me: 'eq',\n          open_for_contributions: 'eq'\n        }).open_for_contributions('true').near_me(true),\n\n        expiring = filtersVM({\n          expires_at: 'lte',\n          open_for_contributions: 'eq'\n        }).open_for_contributions('true').expires_at(moment().add(14, 'days').format('YYYY-MM-DD')),\n\n        recent = filtersVM({\n          online_date: 'gte',\n          open_for_contributions: 'eq'\n        }).open_for_contributions('true').online_date(moment().subtract(5, 'days').format('YYYY-MM-DD')),\n\n        score = filtersVM({\n          score: 'gte',\n          open_for_contributions: 'eq'\n        }).score('1').open_for_contributions('true'),\n\n        online = filtersVM({\n          open_for_contributions: 'eq'\n        }).open_for_contributions('true'),\n\n        successful = filtersVM({\n          state: 'eq'\n        }).state('successful'),\n\n        finished = filtersVM({}),\n\n        filters = {\n          all: {\n              title: 'Todas as Categorias',\n              filter: all,\n              nicename: 'No ar',\n              isContextual: false,\n              keyName: 'all'\n          },\n          score: {\n              title: 'Todas as Categorias',\n              filter: score,\n              nicename: 'Populares',\n              isContextual: false,\n              keyName: 'score'\n          },\n          online: {\n              title: 'No ar',\n              filter: online,\n              isContextual: false,\n              keyName: 'online'\n          },\n          expiring: {\n              title: 'Reta final',\n              filter: expiring,\n              isContextual: false,\n              keyName: 'expiring'\n          },\n          successful: {\n              title: 'Todas as Categorias',\n              filter: successful,\n              nicename: 'Financiados',\n              isContextual: false,\n              keyName: 'successful'\n          },\n          finished: {\n              title: 'Todas as Categorias',\n              filter: finished,\n              nicename: 'Finalizados',\n              isContextual: false,\n              keyName: 'finished'\n          },\n          recent: {\n              title: 'Recentes',\n              filter: recent,\n              isContextual: false,\n              keyName: 'recent'\n          },\n          near_me: {\n              title: 'Próximos a mim',\n              filter: nearMe,\n              isContextual: false,\n              keyName: 'near_me'\n          }\n        };\n\n        const setContextFilters = (contextFilters) => {\n            _.map(contextFilters, (filterKey) => filters[filterKey].isContextual = true);\n\n            return filters;\n        },\n        getContextFilters = () => {\n            return _.filter(filters, (filter) => filter.isContextual);\n        },\n        removeContextFilter = (filter) => {\n            filters[filter.keyName].isContextual = false;\n\n            return filters;\n        };\n\n        return {\n            filters: filters,\n            setContextFilters: setContextFilters,\n            getContextFilters: getContextFilters,\n            removeContextFilter: removeContextFilter\n        };\n};\n\nexport default projectFiltersVM;\n","/**\n * window.c.Search component\n * Returns a search input\n *\n * Example:\n * m.component(c.Search, {action: '/search', method: 'GET'})\n */\n\nimport m from 'mithril';\n\nconst search = {\n    view (ctrl, args = {}) {\n        const action = args.action || '/pt/explore',\n            method = args.method || 'GET';\n\n        return m('#search.w-container.w-hidden-main.w-hidden-medium', [\n            m('.w-row', [\n                m('.w-col.w-col-10.u-marginbottom-20', [\n                    m('.w-form', [\n                        m('form#email-form', {action: action, method: method}, [\n                            m('.w-row', [\n                                m('.w-col.w-col-10.w-col-small-10.w-col-tiny-10', [\n                                    m('input[type=\"text\"][name=\"pg_search\"][placeholder=\"Busque projetos\"]#pg_search_inside.w-input.text-field.negative.prefix')\n                                ]),\n                                m('.w-col.w-col-2.w-col-small-2.w-col-tiny-2', [\n                                    m('button.w-inline-block.btn.btn-dark.btn-attached.postfix', [\n                                        m('img.header-lupa[src=\"https://daks2k3a4ib2z.cloudfront.net/54b440b85608e3f4389db387/54e44178b2135fce2b6cd235_lupa.png\"]')\n                                    ])\n                                ])\n                            ])\n                        ])\n                    ])\n                ])\n            ])\n        ]);\n    }\n};\n\nexport default search;\n","/**\n * window.root.ProjectsExplore component\n * A root component to show projects according to user defined filters\n *\n * Example:\n * To mount this component just create a DOM element like:\n * <div data-mithril=\"ProjectsExplore\">\n */\nimport m from 'mithril';\nimport postgrest from 'mithril-postgrest';\nimport _ from 'underscore';\nimport moment from 'moment';\nimport h from '../h';\nimport models from '../models';\nimport projectFilters from '../vms/project-filters-vm';\nimport search from '../c/search';\nimport categoryButton from '../c/category-button';\nimport projectCard from '../c/project-card';\n\n\nconst projectsExplore = {\n    controller () {\n        const filters = postgrest.filtersVM,\n              projectFiltersVM = projectFilters(),\n              filtersMap = projectFiltersVM.filters,\n              defaultFilter = h.paramByName('filter') || 'score',\n              fallbackFilter = 'all',\n              currentFilter = m.prop(filtersMap[defaultFilter]),\n              changeFilter = (newFilter) => {\n                  currentFilter(filtersMap[newFilter]);\n                  loadRoute();\n              },\n              resetContextFilter = () => {\n                  currentFilter(filtersMap[defaultFilter]);\n                  projectFiltersVM.setContextFilters(['score', 'finished', 'all']);\n              },\n              isSearch = m.prop(false),\n              categoryCollection = m.prop([]),\n              categoryId = m.prop(),\n              findCategory = (id) => {\n                  return _.find(categoryCollection(), function(c){ return id === parseInt(id); });\n              },\n              category = _.compose(findCategory, categoryId),\n              loadCategories = () => {\n                  return models.category.getPageWithToken(filters({}).order({name: 'asc'}).parameters()).then(categoryCollection);\n              },\n              // Fake projects object to be able to render page while loadding (in case of search)\n              projects = m.prop({collection: m.prop([]), isLoading: () => { return true; }, isLastPage: () => { return true; }}),\n              loadRoute = () => {\n                  const route = window.location.hash.match(/\\#([^\\/]*)\\/?(\\d+)?/),\n                        cat = route &&\n                            route[2] &&\n                            findCategory(route[2]),\n\n                        filterFromRoute =  () => {\n                            const byCategory = filters({\n                                category_id: 'eq'\n                            });\n\n                            return route &&\n                                route[1] &&\n                                filtersMap[route[1]] ||\n                                cat &&\n                                {title: cat.name, filter: byCategory.category_id(cat.id)};\n                        },\n\n                        filter = filterFromRoute() || currentFilter(),\n                        search = h.paramByName('pg_search'),\n\n                        searchProjects = () => {\n                            const l = postgrest.loaderWithToken(models.projectSearch.postOptions({query: search})),\n                                  page = { // We build an object with the same interface as paginationVM\n                                      collection: m.prop([]),\n                                      isLoading: l,\n                                      isLastPage: () => { return true; },\n                                      nextPage: () => { return false; }\n                                  };\n                            l.load().then(page.collection);\n                            return page;\n                        },\n\n                        loadProjects = () => {\n                            const pages = postgrest.paginationVM(models.project);\n                            const parameters = _.extend({}, currentFilter().filter.parameters(), filter.filter.order({\n                                open_for_contributions: 'desc',\n                                state_order: 'asc',\n                                state: 'desc',\n                                score: 'desc',\n                                pledged: 'desc'\n                            }).parameters());\n                            pages.firstPage(parameters);\n                            return pages;\n                        },\n\n                        loadFinishedProjects = () => {\n                            const pages = postgrest.paginationVM(models.finishedProject),\n                                  parameters = _.extend({}, currentFilter().filter.parameters(), filter.filter.order({\n                                      state_order: 'asc',\n                                      state: 'desc',\n                                      pledged: 'desc'\n                                  }).parameters());\n                            pages.firstPage(parameters);\n\n                            return pages;\n                        };\n\n                  if (_.isString(search) && search.length > 0 && route === null) {\n                      isSearch(true);\n                      title('Busca ' + search);\n                      projects(searchProjects());\n                  } else if (currentFilter().keyName === 'finished') {\n                      isSearch(false);\n                      projects(loadFinishedProjects());\n                  } else {\n                      isSearch(false);\n                      title(filter.title);\n                      if (!_.isNull(route) && route[1] == 'finished') {\n                          projects(loadFinishedProjects());\n                      } else {\n                          projects(loadProjects());\n                      }\n                  }\n                  categoryId(cat && cat.id);\n                  route || (_.isString(search) && search.length > 0) ? toggleCategories(false) : toggleCategories(true);\n              },\n              title = m.prop(),\n              toggleCategories = h.toggleProp(false, true);\n\n        window.addEventListener('hashchange', () => {\n            resetContextFilter();\n            loadRoute();\n            m.redraw();\n        }, false);\n\n        // Initial loads\n        resetContextFilter();\n        models.project.pageSize(9);\n        loadCategories().then(loadRoute);\n\n        if (!currentFilter()) {\n            currentFilter(filtersMap[defaultFilter]);\n        }\n\n        return {\n            categories: categoryCollection,\n            changeFilter: changeFilter,\n            fallbackFilter: fallbackFilter,\n            projects: projects,\n            category: category,\n            title: title,\n            filtersMap: filtersMap,\n            currentFilter: currentFilter,\n            projectFiltersVM: projectFiltersVM,\n            toggleCategories: toggleCategories,\n            isSearch: isSearch\n        };\n    },\n    view (ctrl, args) {\n        if (!ctrl.projects().isLoading() && _.isEmpty(ctrl.projects().collection()) && !ctrl.isSearch()){\n            ctrl.projectFiltersVM.removeContextFilter(ctrl.currentFilter());\n            ctrl.changeFilter(ctrl.fallbackFilter);\n        }\n\n        return [\n            m('.w-section.hero-search', [\n                m.component(search),\n                m('.w-container.u-marginbottom-10', [\n                    m('.u-text-center.u-marginbottom-40', [\n                        m('a#explore-open.link-hidden-white.fontweight-light.fontsize-larger[href=\"javascript:void(0);\"]',\n                            {onclick: () => ctrl.toggleCategories.toggle()},\n                            ['Explore projetos incríveis ', m(`span#explore-btn.fa.fa-angle-down${ctrl.toggleCategories() ? '.opened' : ''}`, '')])\n                    ]),\n                    m(`#categories.category-slider${ctrl.toggleCategories() ? '.opened' : ''}`, [\n                        m('.w-row.u-marginbottom-30', [\n                            _.map(ctrl.categories(), (category) => {\n                                return m.component(categoryButton, {category: category});\n                            })\n                        ])\n                    ]),\n                ])\n            ]),\n\n            m('.w-section', [\n                m('.w-container', [\n                    m('.w-row', [\n                        m('.w-col.w-col-9.w-col-small-8.w-col-tiny-8', [\n                            m('.fontsize-larger', ctrl.title())\n                        ]),\n                        m('.w-col.w-col-3.w-col-small-4.w-col-tiny-4',\n                            !ctrl.isSearch() ? m('select.w-select.text-field.positive',\n                                {onchange: m.withAttr('value', ctrl.changeFilter)},\n                                _.map(ctrl.projectFiltersVM.getContextFilters(), (pageFilter, idx) => {\n                                    const projects = ctrl.projects(),\n                                        isSelected = ctrl.currentFilter() == pageFilter;\n\n                                    return m(`option[value=\"${pageFilter.keyName}\"]`,{ selected: isSelected },pageFilter.nicename);\n                                })\n                            ) : ''\n                        )\n                    ])\n                ])\n            ]),\n\n            m('.w-section.section', [\n                m('.w-container', [\n                    m('.w-row', [\n                        m('.w-row', _.map(ctrl.projects().collection(), (project, idx) => {\n                            let cardType = 'small',\n                                ref = 'ctrse_explore';\n\n                            if (ctrl.currentFilter().keyName === 'score' && !ctrl.isSearch()) {\n                                if (idx === 0) {\n                                    cardType = 'big';\n                                    ref = 'ctrse_explore_featured_big';\n                                } else if (idx === 1 || idx === 2) {\n                                    cardType = 'medium';\n                                    ref = 'ctrse_explore_featured_medium';\n                                } else {\n                                    ref = 'ctrse_explore_featured';\n                                }\n                            }\n\n                            return m.component(projectCard, {project: project, ref: ref, type: cardType});\n                        })),\n                        ctrl.projects().isLoading() ? h.loader() : _.isEmpty(ctrl.projects().collection()) ? m('.fontsize-base.w-col.w-col-12', 'Nenhum projeto para mostrar.') : ''\n                    ])\n                ])\n            ]),\n\n            m('.w-section.u-marginbottom-80', [\n                m('.w-container', [\n                    m('.w-row', [\n                        m('.w-col.w-col-2.w-col-push-5', [\n                          (ctrl.projects().isLastPage() || ctrl.projects().isLoading() || _.isEmpty(ctrl.projects().collection())) ? '' : m('a.btn.btn-medium.btn-terciary[href=\\'#loadMore\\']', {onclick: () => { ctrl.projects().nextPage(); return false; }}, 'Carregar mais')\n                        ]),\n                    ])\n                ])\n            ]),\n\n            m('.w-section.section-large.before-footer.u-margintop-80.bg-gray.divider', [\n                m('.w-container.u-text-center', [\n                    m('img.u-marginbottom-20.icon-hero', {src: 'https://daks2k3a4ib2z.cloudfront.net/54b440b85608e3f4389db387/56f4414d3a0fcc0124ec9a24_icon-launch-explore.png'}),\n                    m('h2.fontsize-larger.u-marginbottom-60', 'Lance sua campanha no Catarse!'),\n                    m('.w-row', [\n                        m('.w-col.w-col-4.w-col-push-4', [\n                            m('a.w-button.btn.btn-large', {href: '/start?ref=ctrse_explore'}, 'Aprenda como')\n                        ])\n                    ])\n                ])\n            ])\n        ];\n    }\n};\n\nexport default projectsExplore;\n","import projectsExplore from '../../../src/root/projects-explore'\n\nexport default describe('ProjectsExplore', () => {\n    let $output, project, component;\n\n    beforeAll(() => {\n        window.location.hash = '#by_category_id/1';\n\n        component = m.component(projectsExplore);\n        $output = mq(component);\n    });\n\n    it('should render search container', () => {\n        $output.should.have('.hero-search');\n    });\n\n});\n","import m from 'mithril';\nimport h from '../h';\n\nconst projectComments = {\n    controller () {\n        const loadComments = (el, isInitialized) => {\n            return (el, isInitialized) => {\n                if (isInitialized) {return;}\n                h.fbParse();\n            };\n        };\n\n        return {loadComments: loadComments};\n    },\n    view (ctrl, args) {\n        const project = args.project();\n        return m('.fb-comments[data-href=\"http://www.catarse.me/' + project.permalink + '\"][data-num-posts=50][data-width=\"610\"]', {config: ctrl.loadComments()});\n    }\n};\n\nexport default projectComments;\n","import m from 'mithril';\nimport _ from 'underscore';\nimport h from '../h';\nimport projectRewardList from './project-reward-list';\nimport projectSuggestedContributions from './project-suggested-contributions';\nimport projectContributions from './project-contributions';\nimport projectAbout from './project-about';\nimport projectComments from './project-comments';\nimport projectPosts from './project-posts';\n\nconst projectMain = {\n    controller (args) {\n        const project = args.project,\n              displayTabContent = () => {\n                  const hash = window.location.hash,\n                        c_opts = {\n                            project: project\n                        },\n                        tabs = {\n                            '#rewards': m('.w-col.w-col-12', m.component(projectRewardList, _.extend({}, {\n                                rewardDetails: args.rewardDetails\n                            }, c_opts))),\n                            '#contribution_suggestions': m.component(projectSuggestedContributions, c_opts),\n                            '#contributions': m.component(projectContributions, c_opts),\n                            '#about': m.component(projectAbout, _.extend({}, {\n                                rewardDetails: args.rewardDetails\n                            }, c_opts)),\n                            '#comments': m.component(projectComments, c_opts),\n                            '#posts': m.component(projectPosts, c_opts)\n                        };\n\n                  if (_.isEmpty(hash) || hash === '#_=_' || hash === '#preview') {\n                      return tabs['#about'];\n                  }\n\n                  return tabs[hash];\n              };\n\n        h.redrawHashChange();\n\n        return {\n            displayTabContent: displayTabContent\n        };\n    },\n    view (ctrl, args) {\n        return m('section.section[itemtype=\"http://schema.org/CreativeWork\"]', [\n            m('.w-container', [\n                m('.w-row', args.project() ? ctrl.displayTabContent() : '')\n            ])\n        ]);\n    }\n};\n\nexport default projectMain;\n","import m from 'mithril';\nimport _ from 'underscore';\nimport h from '../h';\nimport projectVM from '../vms/project-vm';\nimport projectHeader from '../c/project-header';\nimport projectTabs from '../c/project-tabs';\nimport projectMain from '../c/project-main';\nimport projectDashboardMenu from '../c/project-dashboard-menu';\n\nconst projectsShow = {\n    controller (args) {\n        return projectVM(args.project_id, args.project_user_id);\n    },\n    view (ctrl) {\n        const project = ctrl.projectDetails;\n\n        return m('.project-show', [\n                m.component(projectHeader, {\n                    project: project,\n                    userDetails: ctrl.userDetails\n                }),\n                m.component(projectTabs, {\n                    project: project,\n                    rewardDetails: ctrl.rewardDetails\n                }),\n                m.component(projectMain, {\n                    project: project,\n                    rewardDetails: ctrl.rewardDetails\n                }),\n                (project() && project().is_owner_or_admin ? m.component(projectDashboardMenu, {\n                    project: project\n                }) : '')\n            ]);\n    }\n};\n\nexport default projectsShow;\n","import projectsShow from '../../../src/root/projects-show';\n\nexport default describe('ProjectsShow', () => {\n  let $output, projectDetail;\n\n  beforeAll(() => {\n    window.location.hash = '';\n    projectDetail = ProjectDetailsMockery()[0];\n    let component = m.component(projectsShow, {project_id: 123, project_user_id: 1231}),\n        view = component.view(component.controller());\n    $output = mq(view);\n  });\n\n  it('should render project some details', () => {\n    expect($output.contains(projectDetail.name)).toEqual(true);\n    $output.should.have('#project-sidebar');\n    $output.should.have('#project-header');\n    $output.should.have('.project-highlight');\n    $output.should.have('.project-nav');\n    $output.should.have('#rewards');\n  });\n});\n","/**\n * window.c.UserBalanceRequestModalContent component\n * Render the current user bank account to confirm fund request\n *\n * Example:\n * m.component(c.UserBalanceRequestModelContent, {\n *     balance: {user_id: 123, amount: 123} // userBalance struct\n * })\n */\nimport m from 'mithril';\nimport _ from 'underscore';\nimport I18n from 'i18n-js';\nimport h from '../h';\nimport models from '../models';\n\nconst I18nScope = _.partial(h.i18nScope, 'users.balance');\n\nconst userBalanceRequestModelContent = {\n    controller (args) {\n        const vm = postgrest.filtersVM({user_id: 'eq'}),\n              balance = args.balance,\n              loaderOpts = models.balanceTransfer.postOptions({\n                  user_id: balance.user_id}),\n              requestLoader = postgrest.loaderWithToken(loaderOpts),\n              displayDone = h.toggleProp(false, true),\n              requestFund = () => {\n                  requestLoader.load().then((data) => {\n                      args.balanceManager.load();\n                      args.balanceTransactionManager.load();\n                      displayDone.toggle();\n                  });\n              };\n\n        args.bankAccountManager.load();\n\n        return {\n            requestLoader: requestLoader,\n            requestFund: requestFund,\n            bankAccounts: args.bankAccountManager.collection,\n            displayDone: displayDone,\n            loadBankA: args.bankAccountManager.loader\n        };\n    },\n    view (ctrl, args) {\n        const balance = args.balance;\n\n        return (ctrl.loadBankA() ? h.loader() : m('div', _.map(ctrl.bankAccounts(), (item) => {\n            return [\n                m('.modal-dialog-header', [\n                    m('.fontsize-large.u-text-center', I18n.t('withdraw', I18nScope()))\n                ]),\n                (ctrl.displayDone() ? m('.modal-dialog-content.u-text-center', [\n                    m('.fa.fa-check-circle.fa-5x.text-success.u-marginbottom-40'),\n                    m('p.fontsize-large', I18n.t('sucess_message', I18nScope()))\n                ]) : m('.modal-dialog-content', [\n                    m('.fontsize-base.u-marginbottom-20', [\n                        m('span.fontweight-semibold', 'Valor:'),\n                        m.trust('&nbsp;'),\n                        m('span.text-success', `R$ ${h.formatNumber(balance.amount, 2, 3)}`)\n                    ]),\n                    m('.fontsize-base.u-marginbottom-10', [\n                        m('span', {style: {'font-weight': ' 600'}}, I18n.t('bank.account', I18nScope()))\n                    ]),\n                    m('.fontsize-small.u-marginbottom-10', [\n                        m('div', [\n                            m('span.fontcolor-secondary', I18n.t('bank.name', I18nScope())),\n                            m.trust('&nbsp;'),\n                            item.owner_name\n                        ]),\n                        m('div', [\n                            m('span.fontcolor-secondary', I18n.t('bank.cpf_cnpj', I18nScope())),\n                            m.trust('&nbsp;'),\n                            item.owner_document\n                        ]),\n                        m('div', [\n                            m('span.fontcolor-secondary', I18n.t('bank.bank_name', I18nScope())),\n                            m.trust('&nbsp;'),\n                            item.bank_name\n                        ]),\n                        m('div', [\n                            m('span.fontcolor-secondary', I18n.t('bank.agency', I18nScope())),\n                            m.trust('&nbsp;'),\n                            `${item.agency}-${item.agency_digit}`\n                        ]),\n                        m('div', [\n                            m('span.fontcolor-secondary', I18n.t('bank.account', I18nScope())),\n                            m.trust('&nbsp;'),\n                            `${item.account}-${item.account_digit}`\n                        ])\n                    ])\n                 ])),\n                (!ctrl.displayDone() ?\n                 m('.modal-dialog-nav-bottom', [\n                     m('.w-row', [\n                         m('.w-col.w-col-3'),\n                         m('.w-col.w-col-6', [\n                             (ctrl.requestLoader() ?\n                              h.loader()\n                              : m('a.btn.btn-large.btn-request-fund[href=\"js:void(0);\"]',\n                                  {onclick: ctrl.requestFund},\n                                  'Solicitar saque'))\n                         ]),\n                         m('.w-col.w-col-3')\n                     ])\n                 ]) : '')\n            ];\n        })));\n    }\n};\n\nexport default userBalanceRequestModelContent;\n","/**\n * window.c.UserBalance component\n * Render the current user total balance and request fund action\n *\n * Example:\n * m.component(c.UserBalance, {\n *     user_id: 123,\n * })\n */\nimport m from 'mithril';\nimport _ from 'underscore';\nimport models from '../models';\nimport h from '../h';\nimport modalBox from './modal-box';\nimport userBalanceRequestModalContent from './user-balance-request-modal-content';\n\nconst I18nScope = _.partial(h.i18nScope, 'users.balance');\n\nconst userBalance = {\n    controller (args) {\n        args.balanceManager.load();\n\n        return {\n            userBalances: args.balanceManager.collection,\n            displayModal: h.toggleProp(false, true)\n        };\n    },\n    view (ctrl, args) {\n        const balance = _.first(ctrl.userBalances()),\n            balanceRequestModalC = [\n                userBalanceRequestModalContent,\n                _.extend({}, {balance: balance}, args)\n            ];\n\n        return m('.w-section.section.user-balance-section', [\n            (ctrl.displayModal() ? m.component(modalBox, {\n                displayModal: ctrl.displayModal,\n                content: balanceRequestModalC\n            }) : ''),\n            m('.w-container', [\n                m('.w-row', [\n                    m('.w-col.w-col-8.u-text-center-small-only.u-marginbottom-20', [\n                        m('.fontsize-larger', [\n                            I18n.t('totals', I18nScope()),\n                            m('span.text-success', `R$ ${h.formatNumber(balance.amount, 2, 3)}`)\n                        ])\n                    ]),\n                    m('.w-col.w-col-4', [\n                        m(`a[class=\"r-fund-btn w-button btn btn-medium u-marginbottom-10 ${(balance.amount <= 0 ? 'btn-inactive' : '')}\"][href=\"js:void(0);\"]`,\n                          {onclick: (balance.amount > 0 ? ctrl.displayModal.toggle : 'js:void(0);')},\n                          I18n.t('withdraw_cta', I18nScope()))\n                    ])\n                ])\n            ])\n        ]);\n    }\n};\n\nexport default userBalance;\n","import m from 'mithril';\nimport h from '../h';\n\nconst I18nScope = _.partial(h.i18nScope, 'users.balance');\n\nconst userBalanceTrasactionRow = {\n    controller (args) {\n        const expanded = h.toggleProp(false, true);\n\n        if (args.index == 0) {\n            expanded.toggle();\n        }\n\n        return {\n            expanded: expanded\n        };\n    },\n    view (ctrl, args) {\n        const item = args.item,\n              createdAt = h.momentFromString(item.created_at, 'YYYY-MM-DD');\n\n        return m(`div[class='balance-card ${(ctrl.expanded() ? 'card-detailed-open' : '')}']`,\n                 m('.w-clearfix.card.card-clickable', [\n                     m('.w-row', [\n                         m('.w-col.w-col-2.w-col-tiny-2', [\n                             m('.fontsize-small.lineheight-tightest', createdAt.format('D MMM')),\n                             m('.fontsize-smallest.fontcolor-terciary', createdAt.format('YYYY'))\n                         ]),\n                         m('.w-col.w-col-10.w-col-tiny-10', [\n                             m('.w-row', [\n                                 m('.w-col.w-col-4', [\n                                     m('div', [\n                                         m('span.fontsize-smaller.fontcolor-secondary', I18n.t('debit', I18nScope())),\n                                         m.trust('&nbsp;'),\n                                         m('span.fontsize-base.text-error', `R$ ${h.formatNumber(Math.abs(item.debit), 2, 3)}`)\n                                     ])\n                                 ]),\n                                 m('.w-col.w-col-4', [\n                                     m('div', [\n                                         m('span.fontsize-smaller.fontcolor-secondary', I18n.t('credit', I18nScope())),\n                                         m.trust('&nbsp;'),\n                                         m('span.fontsize-base.text-success', `R$ ${h.formatNumber(item.credit, 2, 3)}`)\n                                     ])\n                                 ]),\n                                 m('.w-col.w-col-4', [\n                                     m('div', [\n                                         m('span.fontsize-smaller.fontcolor-secondary', I18n.t('totals', I18nScope())),\n                                         m.trust('&nbsp;'),\n                                         m('span.fontsize-base', `R$ ${h.formatNumber(item.total_amount, 2, 3)}`)\n                                     ])\n                                 ])\n                             ])\n                         ])\n                     ]),\n                     m(`a.w-inline-block.arrow-admin.${(ctrl.expanded() ? 'arrow-admin-opened' : '')}.fa.fa-chevron-down.fontcolor-secondary[href=\"js:(void(0));\"]`, {onclick: ctrl.expanded.toggle})\n                 ]),\n                 (ctrl.expanded() ? m('.card', _.map(item.source, (transaction) => {\n                     let pos = transaction.amount >= 0;\n\n                     return m('div',[\n                         m('.w-row.fontsize-small.u-marginbottom-10', [\n                             m('.w-col.w-col-2', [\n                                 m(`.text-${(pos ? 'success' : 'error')}`, `${pos ? '+' : '-'} R$ ${h.formatNumber(Math.abs(transaction.amount), 2, 3)}`)\n                             ]),\n                             m('.w-col.w-col-10', [\n                                 m('div', `${transaction.event_name} ${transaction.origin_object.name}`)\n                             ])\n                         ]),\n                         m('.divider.u-marginbottom-10')\n                     ]);\n                 })) : '')\n                );\n    }\n};\n\nexport default userBalanceTrasactionRow;\n","import m from 'mithril';\nimport _ from 'underscore';\nimport h from '../h';\nimport models from '../models';\nimport userBalanceTransactionRow from './user-balance-transaction-row';\n\nconst userBalanceTransactions = {\n    controller (args) {\n        args.balanceTransactionManager.load();\n\n        return {\n            list: args.balanceTransactionManager.list\n        };\n    },\n    view (ctrl, args) {\n        const list = ctrl.list;\n\n        return m('.w-section.section.card-terciary.before-footer.balance-transactions-area', [\n            m('.w-container', _.map(list.collection(), (item, index) => {\n                return m.component(\n                    userBalanceTransactionRow, {item: item, index: index});\n            })),\n            m('.container', [\n                m('.w-row.u-margintop-40', [\n                    m('.w-col.w-col-2.w-col-push-5', [\n                        !list.isLoading() ? (\n                            list.isLastPage() ? '' : m('button#load-more.btn.btn-medium.btn-terciary', {\n                                onclick: list.nextPage\n                            }, 'Carregar mais')\n                        ) :\n                        h.loader()\n                    ])\n                ])\n            ])\n        ]);\n    }\n}\n\nexport default userBalanceTransactions;\n","/**\n * window.c.root.Balance component\n * A root component to show user balance and transactions\n *\n * Example:\n * To mount this component just create a DOM element like:\n * <div data-mithril=\"UsersBalance\" data-parameters=\"{'user_id': 10}\">\n */\nimport m from 'mithril';\nimport postgrest from 'mithril-postgrest';\nimport _ from 'underscore';\nimport models from '../models';\nimport userBalance from '../c/user-balance';\nimport userBalanceTransactions from '../c/user-balance-transactions';\n\nconst userBalanceMain = {\n    controller (args) {\n        const userIdVM = postgrest.filtersVM({user_id: 'eq'});\n\n        userIdVM.user_id(args.user_id);\n\n        // Handles with user balance request data\n        const balanceManager = (() => {\n            const collection = m.prop([{amount: 0, user_id: args.user_id}]),\n                  load = () => {\n                      models.balance.getRowWithToken(userIdVM.parameters()).then(collection);\n                  };\n\n            return {\n                collection: collection,\n                load: load\n            };\n        })(),\n\n              // Handles with user balance transactions list data\n              balanceTransactionManager = (() => {\n                  const listVM = postgrest.paginationVM(\n                      models.balanceTransaction, 'created_at.desc'),\n                        load = () => {\n                            listVM.firstPage(userIdVM.parameters());\n                        };\n\n                  return {\n                      load: load,\n                      list: listVM\n                  };\n              })(),\n\n              // Handles with bank account to check\n              bankAccountManager = (() => {\n                  const collection = m.prop([]),\n                        loader = (() => {\n                            return postgrest.loaderWithToken(\n                                models.bankAccount.getRowOptions(\n                                    userIdVM.parameters()));\n                        })(),\n                        load = () => {\n                            loader.load().then(collection);\n                        };\n\n                  return {\n                      collection: collection,\n                      load: load,\n                      loader: loader\n                  };\n              })();\n\n        return {\n            bankAccountManager: bankAccountManager,\n            balanceManager: balanceManager,\n            balanceTransactionManager: balanceTransactionManager\n        };\n    },\n    view (ctrl, args) {\n        const opts = _.extend({}, args, ctrl);\n        return m('#balance-area', [\n            m.component(userBalance, opts),\n            m('.divider'),\n            m.component(userBalanceTransactions, opts),\n            m('.u-marginbottom-40'),\n            m('.w-section.section.card-terciary.before-footer')\n        ]);\n    }\n}\n\nexport default userBalanceMain;\n","import usersBalanceMain from '../../../src/root/users-balance-main'\n\nexport default describe('UsersBalanceMain', () => {\n    let $output, component;\n\n    beforeAll(() => {\n        component = m.component(usersBalanceMain, {user_id: 1});\n        $output = mq(component);\n    });\n\n    it('should render user balance area', () => {\n        $output.should.have('.user-balance-section');\n    });\n\n    it('should render user balance transactions area', () => {\n        $output.should.have('.balance-transactions-area');\n    });\n});\n","import search from '../../src/c/search';\n\ndescribe('Search', () => {\n    let $output,\n        action = '/test',\n        method = 'POST';\n\n    describe('view', () => {\n        beforeEach(() => {\n            $output = mq(search.view({}, {action: action, method: method}));\n        });\n\n        it('should render the search form', () => {\n            expect($output.find('form').length).toEqual(1);\n            expect($output.find('input[type=\"text\"]').length).toEqual(1);\n            expect($output.find('button').length).toEqual(1);\n        });\n        it('should set the given action', () => {\n            expect($output.find(`form[action=\"${action}\"]`).length).toEqual(1);\n        });\n        it('should set the given method', () => {\n            expect($output.find(`form[method=\"${method}\"]`).length).toEqual(1);\n        });\n    });\n});\n","/**\n * window.c.Slider component\n * Build a slider from any array of mithril elements\n *\n * Example of use:\n * view: () => {\n *     ...\n *     m.component(c.Slider, {\n *         slides: [m('slide1'), m('slide2'), m('slide3')],\n *         title: 'O que estão dizendo por aí...'\n *     })\n *     ...\n * }\n */\n\nimport m from 'mithril';\nimport _ from 'underscore';\n\nconst slider = {\n    controller (args) {\n        let interval;\n        const selectedSlideIdx = m.prop(0),\n            translationSize = m.prop(1600),\n            sliderTime = args.sliderTime || 6500,\n            decrementSlide = () => {\n                if (selectedSlideIdx() > 0) {\n                    selectedSlideIdx(selectedSlideIdx() - 1);\n                } else {\n                    selectedSlideIdx(args.slides.length - 1);\n                }\n            },\n            incrementSlide = () => {\n                if (selectedSlideIdx() < (args.slides.length - 1)) {\n                    selectedSlideIdx(selectedSlideIdx() + 1);\n                } else {\n                    selectedSlideIdx(0);\n                }\n            },\n            startSliderTimer = () => {\n                interval = setInterval(() => {\n                    incrementSlide();\n                    m.redraw();\n                }, sliderTime);\n            },\n            resetSliderTimer = () => {\n                clearInterval(interval);\n                startSliderTimer();\n            },\n            config = (el, isInitialized, context) => {\n                if (!isInitialized){\n                    translationSize(Math.max(document.documentElement.clientWidth, window.innerWidth || 0));\n                    m.redraw();\n                };\n\n                context.onunload = () => clearInterval(interval);\n            };\n\n        startSliderTimer();\n\n        return {\n            config: config,\n            selectedSlideIdx: selectedSlideIdx,\n            translationSize: translationSize,\n            decrementSlide: decrementSlide,\n            incrementSlide: incrementSlide,\n            resetSliderTimer: resetSliderTimer\n        };\n    },\n    view (ctrl, args) {\n        const slideClass = args.slideClass || '',\n            wrapperClass = args.wrapperClass || '',\n            effect = args.effect || 'slide',\n            sliderClick = (fn, param) => {\n                fn(param);\n                ctrl.resetSliderTimer();\n            },\n            effectStyle = (idx, translateStr) => {\n                const slideFx = `transform: ${translateStr}; -webkit-transform: ${translateStr}; -ms-transform:${translateStr}`,\n                    fadeFx = idx === ctrl.selectedSlideIdx() ? 'opacity: 1; visibility: visible;' : 'opacity: 0; visibility: hidden;';\n\n                return effect === 'fade' ? fadeFx : slideFx;\n            };\n\n        return m(`.w-slider.${wrapperClass}`, {\n            config: ctrl.config\n        }, [\n            m('.fontsize-larger', args.title),\n            m('.w-slider-mask', [\n                _.map(args.slides, (slide, idx) => {\n                    let translateValue = (idx - ctrl.selectedSlideIdx()) * ctrl.translationSize(),\n                        translateStr = `translate3d(${translateValue}px, 0, 0)`;\n\n                    return m(`.slide.w-slide.${slideClass}`, {\n                        style: `${effectStyle(idx, translateStr)} ${slide.customStyle}`\n                    }, [\n                        m('.w-container', [\n                            m('.w-row', [\n                                m('.w-col.w-col-8.w-col-push-2', slide.content)\n                            ])\n                        ])\n                    ]);\n                }),\n                m('#slide-prev.w-slider-arrow-left.w-hidden-small.w-hidden-tiny', {\n                    onclick: () => sliderClick(ctrl.decrementSlide)\n                },[\n                    m('.w-icon-slider-left.fa.fa-lg.fa-angle-left.fontcolor-terciary')\n                ]),\n                m('#slide-next.w-slider-arrow-right.w-hidden-small.w-hidden-tiny', {\n                    onclick: () => sliderClick(ctrl.incrementSlide)\n                },[\n                    m('.w-icon-slider-right.fa.fa-lg.fa-angle-right.fontcolor-terciary')\n                ]),\n                m('.w-slider-nav.w-slider-nav-invert.w-round.slide-nav', _(args.slides.length).times((idx) => {\n                    return m(`.slide-bullet.w-slider-dot${ctrl.selectedSlideIdx() === idx ? '.w-active' : ''}`, {\n                        onclick: () => sliderClick(ctrl.selectedSlideIdx, idx)\n                    });\n                }))\n            ])\n        ]);\n    }\n};\n\nexport default slider;\n","import slider from '../../src/c/slider';\n\ndescribe('Slider', () => {\n    let $output, title = 'TitleSample',\n        defaultDocumentWidth = 1600,\n        slides = [\n            m('h1', 'teste'),\n            m('h1', 'teste'),\n            m('h1', 'teste'),\n            m('h1', 'teste')\n        ];\n\n    describe('view', () => {\n        beforeEach(() => {\n            $output = mq(slider, {title: title, slides: slides});\n        });\n\n        it('should render all the slides', () => {\n            expect($output.find('.slide').length).toEqual(slides.length);\n        });\n        it('should render one bullet for each slide', () => {\n            expect($output.find('.slide-bullet').length).toEqual(slides.length);\n        });\n        it('should move to next slide on slide next click', () => {\n            $output.click('#slide-next');\n            let firstSlide = $output.first('.slide');\n            expect(firstSlide.attrs.style.indexOf(`-${defaultDocumentWidth}px`)).toBeGreaterThan(-1);\n        });\n        it('should move to previous slide on slide prev click', () => {\n            $output.click('#slide-next');\n            $output.click('#slide-prev');\n            let firstSlide = $output.first('.slide');\n            expect(firstSlide.attrs.style.indexOf('0px')).toBeGreaterThan(-1);\n        });\n    });\n});\n","import m from 'mithril';\nimport _ from 'underscore';\nimport models from '../models';\n\nconst teamMembers = {\n    controller () {\n        const vm = {\n                collection: m.prop([])\n            },\n\n            groupCollection = (collection, groupTotal) => {\n                return _.map(_.range(Math.ceil(collection.length / groupTotal)), (i) => {\n                    return collection.slice(i * groupTotal, (i + 1) * groupTotal);\n                });\n            };\n\n        models.teamMember.getPage().then((data) => {\n            vm.collection(groupCollection(data, 4));\n        });\n\n        return {\n            vm: vm\n        };\n    },\n    view (ctrl) {\n        return m('#team-members-static.w-section.section', [\n            m('.w-container', [\n                _.map(ctrl.vm.collection(), (group) => {\n                    return m('.w-row.u-text-center', [\n                        _.map(group, (member) => {\n                            return m('.team-member.w-col.w-col-3.w-col-small-3.w-col-tiny-6.u-marginbottom-40', [\n                                m('a.alt-link[href=\"/users/' + member.id + '\"]', [\n                                    m('img.thumb.big.u-round.u-marginbottom-10[src=\"' + member.img + '\"]'),\n                                    m('.fontweight-semibold.fontsize-base', member.name)\n                                ]),\n                                m('.fontsize-smallest.fontcolor-secondary', 'Apoiou ' + member.total_contributed_projects + ' projetos')\n                            ]);\n                        })\n                    ]);\n                })\n            ])\n        ]);\n    }\n}\n\nexport default teamMembers;\n","import teamMembers from '../../src/c/team-members';\n\ndescribe('TeamMembers', () => {\n    let $output;\n\n    describe('view', () => {\n        beforeAll(() => {\n            $output = mq(teamMembers);\n        });\n\n        it('should render fetched team members', () => {\n            expect($output.has('#team-members-static')).toEqual(true);\n            expect($output.find('.team-member').length).toEqual(TeamMembersMockery(10).length);\n        });\n    });\n});\n","import m from 'mithril';\nimport h from '../h';\nimport models from '../models';\n\nconst teamTotal = {\n    controller () {\n        const vm = {\n            collection: m.prop([])\n        };\n\n        models.teamTotal.getRow().then((data) => {\n            vm.collection(data);\n        });\n\n        return {\n            vm: vm\n        };\n    },\n    view (ctrl, args) {\n        return m('#team-total-static.w-section.section-one-column.section.u-margintop-40.u-text-center.u-marginbottom-20', [\n            ctrl.vm.collection().map((teamTotal) => {\n                return m('.w-container', [\n                    m('.w-row', [\n                        m('.w-col.w-col-2'),\n                        m('.w-col.w-col-8', [\n                            m('.fontsize-base.u-marginbottom-30',\n                                'Hoje somos ' + teamTotal.member_count + ' pessoas espalhadas por ' + teamTotal.total_cities + ' cidades em ' + teamTotal.countries.length +\n                                ' países (' + teamTotal.countries.toString() + ')! O Catarse é independente, sem investidores, de código aberto e construído com amor. Nossa paixão é construir um ambiente onde cada vez mais projetos possam ganhar vida.'),\n                            m('.fontsize-larger.lineheight-tight.text-success',\n                                'Nossa equipe, junta, já apoiou R$' + h.formatNumber(teamTotal.total_amount) + ' para ' + teamTotal.total_contributed_projects + ' projetos!')\n                        ]),\n                        m('.w-col.w-col-2')\n                    ])\n                ]);\n            })\n        ]);\n    }\n}\n\nexport default teamTotal;\n","import teamTotal from '../../src/c/team-total';\n\ndescribe('TeamTotal', () => {\n    let $output;\n\n    describe('view', () => {\n        beforeAll(() => {\n            $output = mq(teamTotal);\n        });\n\n        it('should render fetched team total info', () => {\n            expect($output.find('#team-total-static').length).toEqual(1);\n        });\n    });\n});\n","import m from 'mithril';\nimport tooltip from '../../src/c/tooltip';\n\ndescribe('Tooltip', () => {\n    let $output,\n        element = 'a#tooltip-trigger[href=\"#\"]',\n        text = 'tooltipText',\n        tooltipEl = (el) => {\n            return m.component(tooltip, {\n                el: el,\n                text: text,\n                width: 320\n            });\n        };\n\n    describe('view', () => {\n        beforeEach(() => {\n            $output = mq(tooltipEl(element));\n        });\n\n        it('should not render the tooltip at first', () => {\n            expect($output.find('.tooltip').length).toEqual(0);\n        });\n        it('should render the tooltip on element mouseenter', () => {\n            $output.click('#tooltip-trigger');\n            expect($output.find('.tooltip').length).toEqual(1);\n            expect($output.contains(text)).toBeTrue();\n        });\n        it('should hide the tooltip again on element mouseleave', () => {\n            $output.click('#tooltip-trigger');\n            $output.click('#tooltip-trigger');\n            expect($output.find('.tooltip').length).toEqual(0);\n        });\n    });\n});\n","import m from 'mithril';\nimport userBalanceRequestModalContent from '../../src/c/user-balance-request-modal-content';\nimport usersBalanceMain from '../../src/root/users-balance-main';\n\ndescribe('UserBalanceRequestModalContent', () => {\n    let $output, component, parentComponent;\n\n    beforeAll(() => {\n        parentComponent = m.component(usersBalanceMain, {user_id: 1});\n        component = m.component(userBalanceRequestModalContent, _.extend(\n            {},\n            parentComponent.controller(),\n            {\n                balance: {\n                    amount: 205,\n                    user_id: 1\n                }\n            }));\n        $output = mq(component);\n    });\n\n    it('should call bank account endpoint', () => {\n        const lastRequest = jasmine.Ajax.requests.mostRecent();\n        expect(lastRequest.url).toEqual(apiPrefix + '/bank_accounts?user_id=eq.1');\n        expect(lastRequest.method).toEqual('GET');\n    });\n\n    it('should render user bank account / amount data', () => {\n        expect($output.contains('R$ 205,00')).toEqual(true);\n        expect($output.contains('Banco XX')).toEqual(true);\n        $output.should.have('.btn-request-fund');\n    });\n\n    it('should call balance transfer endpoint when click on request fund btn and show success message', () => {\n        $output.click('.btn-request-fund');\n        $output.should.have('.fa-check-circle');\n\n        const lastRequest = jasmine.Ajax.requests.filter(/balance_transfers/)[0];\n        expect(lastRequest.url).toEqual(apiPrefix + '/balance_transfers');\n        expect(lastRequest.method).toEqual('POST');\n    });\n});\n","import m from 'mithril';\nimport usersBalanceMain from '../../src/root/users-balance-main';\nimport userBalanceTransactions from '../../src/c/user-balance-transactions';\n\ndescribe('UserBalanceTransactions', () => {\n    let $output, component, parentComponent;\n\n    beforeAll(() => {\n        parentComponent = m.component(usersBalanceMain, {user_id: 1});\n        component = m.component(userBalanceTransactions, _.extend({}, parentComponent.controller(), {user_id: 1}));\n        $output = mq(component);\n    });\n\n    it('should call balance transactions endpoint', () => {\n        const lastRequest = jasmine.Ajax.requests.mostRecent();\n        expect(lastRequest.url).toEqual(apiPrefix + '/balance_transactions?order=created_at.desc&user_id=eq.1');\n        expect(lastRequest.method).toEqual('GET');\n    });\n\n    it('should render user balance transactions', () => {\n        $output.should.have('.card-detailed-open');\n        expect($output.contains('R$ 604,50')).toEqual(true);\n        expect($output.contains('R$ 0,00')).toEqual(true);\n        expect($output.contains('R$ -604,50')).toEqual(true);\n        expect($output.contains('Project x')).toEqual(true);\n    });\n});\n","import m from 'mithril';\nimport usersBalanceMain from '../../src/root/users-balance-main';\nimport userBalance from '../../src/c/user-balance';\n\ndescribe('UserBalance', () => {\n    let $output, component, parentComponent;\n\n    beforeAll(() => {\n        parentComponent = m.component(usersBalanceMain, {user_id: 1});\n        component = m.component(userBalance, _.extend({}, parentComponent.controller(), {user_id: 1}));\n        $output = mq(component);\n    });\n\n    it('should call balances endpoint', () => {\n        const lastRequest = jasmine.Ajax.requests.mostRecent();\n        expect(lastRequest.url).toEqual(apiPrefix + '/balances?user_id=eq.1');\n        expect(lastRequest.method).toEqual('GET');\n    });\n\n    it('should render user balance', () => {\n        expect($output.contains('R$ 205,00')).toEqual(true);\n    });\n\n    it('should render request fund btn', () => {\n        $output.should.have('.r-fund-btn');\n    });\n\n    it('should call bank_account endpoint when click on request fund btn and show modal', () => {\n        $output.click('.r-fund-btn');\n        $output.should.have('.modal-dialog-inner');\n        expect($output.contains('Banco XX')).toEqual(true);\n\n        const lastRequest = jasmine.Ajax.requests.mostRecent();\n        expect(lastRequest.url).toEqual(apiPrefix + '/bank_accounts?user_id=eq.1');\n        expect(lastRequest.method).toEqual('GET');\n    });\n});\n","import contributionFilterVM from '../../../src/vms/contribution-filter-vm';\nimport h from '../../../src/h';\n\ndescribe('admin.contributionFilterVM', function() {\n  var vm = contributionFilterVM,\n      momentFromString = h.momentFromString;\n\n  describe(\"created_at.lte.toFilter\", function() {\n    it(\"should use end of the day timestamp to send filter\", function() {\n      vm.created_at.lte('21/12/1999');\n      expect(vm.created_at.lte.toFilter()).toEqual(momentFromString(vm.created_at.lte()).endOf('day').format());\n    });\n  });\n\n  describe(\"full_text_index.toFilter\", function() {\n    it(\"should remove all diacritics to send filter\", function() {\n      vm.full_text_index('rémoção dos acêntüs');\n      expect(vm.full_text_index.toFilter()).toEqual('remocao dos acentus');\n    });\n  });\n});\n","import userFilterVM from '../../../src/vms/user-filter-vm';\n\ndescribe('admin.userFilterVM', function() {\n  var vm = userFilterVM;\n\n  describe(\"deactivated_at.toFilter\", function() {\n    it(\"should parse string inputs to json objects to send filter\", function() {\n      vm.deactivated_at('null');\n      expect(vm.deactivated_at.toFilter()).toEqual(null);\n    });\n  });\n\n  describe(\"full_text_index.toFilter\", function() {\n    it(\"should remove all diacritics to send filter\", function() {\n      vm.full_text_index('rémoção dos acêntüs');\n      expect(vm.full_text_index.toFilter()).toEqual('remocao dos acentus');\n    });\n  });\n});\n","/**\n * window.c.youtubeLightbox component\n * A visual component that displays a lightbox with a youtube video\n *\n * Example:\n * view: () => {\n *      ...\n *      m.component(c.youtubeLightbox, {src: 'https://www.youtube.com/watch?v=FlFTcDSKnLM'})\n *      ...\n *  }\n */\n\nimport m from 'mithril';\nimport models from '../models';\nimport h from '../h';\n\nconst youtubeLightbox = {\n    controller (args) {\n        let player;\n        const showLightbox = h.toggleProp(false, true),\n            setYoutube = (el, isInitialized) => {\n                if (!isInitialized) {\n                    const tag = document.createElement('script'),\n                        firstScriptTag = document.getElementsByTagName('script')[0];\n                    tag.src = 'https://www.youtube.com/iframe_api';\n                    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n                    window.onYouTubeIframeAPIReady = createPlayer;\n                }\n            },\n            closeVideo = () => {\n                if (!_.isUndefined(player)) {\n                    player.pauseVideo();\n                }\n\n                showLightbox.toggle();\n\n                return false;\n            },\n            createPlayer = () => {\n                player = new YT.Player('ytvideo', {\n                    height: '528',\n                    width: '940',\n                    videoId: args.src,\n                    playerVars: {\n                        showInfo: 0,\n                        modestBranding: 0\n                    },\n                    events: {\n                        'onStateChange': (state) => (state.data === 0) ? closeVideo() : false\n                    }\n                });\n            };\n\n        return {\n            showLightbox: showLightbox,\n            setYoutube: setYoutube,\n            closeVideo: closeVideo\n        };\n    },\n    view (ctrl, args) {\n        return m('#youtube-lightbox', [\n            m('a#youtube-play.w-lightbox.w-inline-block.fa.fa-play-circle.fontcolor-negative.fa-5x[href=\\'javascript:void(0);\\']', {\n                onclick: ctrl.showLightbox.toggle\n            }),\n            m(`#lightbox.w-lightbox-backdrop[style=\"display:${ctrl.showLightbox() ? 'block' : 'none'}\"]`, [\n                m('.w-lightbox-container', [\n                    m('.w-lightbox-content', [\n                        m('.w-lightbox-view', [\n                            m('.w-lightbox-frame', [\n                                m('figure.w-lightbox-figure', [\n                                    m('img.w-lightbox-img.w-lightbox-image[src=\\'data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%22940%22%20height=%22528%22/%3E\\']'),\n                                    m('#ytvideo.embedly-embed.w-lightbox-embed', {config: ctrl.setYoutube})\n                                ])\n                            ])\n                        ]),\n                        m('.w-lightbox-spinner.w-lightbox-hide'),\n                        m('.w-lightbox-control.w-lightbox-left.w-lightbox-inactive'),\n                        m('.w-lightbox-control.w-lightbox-right.w-lightbox-inactive'),\n                        m('#youtube-close.w-lightbox-control.w-lightbox-close', {onclick: ctrl.closeVideo})\n                    ]),\n                    m('.w-lightbox-strip')\n                ])\n            ])\n        ]);\n    }\n};\n\nexport default youtubeLightbox;\n","import youtubeLightbox from '../../src/c/youtube-lightbox';\n\ndescribe('YoutubeLightbox', () => {\n    let $output,\n        visibleStyl = 'display:block',\n        invisibleStyl = 'display:none';\n\n    describe('view', () => {\n        beforeEach(() => {\n            $output = mq(youtubeLightbox, {src: 'FlFTcDSKnLM'});\n        });\n\n        it('should not render the lightbox at first', () => {\n            expect($output.find('#lightbox')[0].attrs.style).toEqual(invisibleStyl);\n        });\n        it('should render the lightbox on play button click', () => {\n            $output.click('#youtube-play');\n            expect($output.find('#lightbox')[0].attrs.style).toEqual(visibleStyl);\n        });\n        it('should close the lightbox on close button click', () => {\n            $output.click('#youtube-play');\n            $output.click('#youtube-close');\n            expect($output.find('#lightbox')[0].attrs.style).toEqual(invisibleStyl);\n        });\n    });\n});\n","/**\n * window.c.landingSignup component\n * A visual component that displays signup email typically used on landing pages.\n * It accepts a custom form action to attach to third-party services like Mailchimp\n *\n * Example:\n * view: () => {\n *      ...\n *      m.component(c.landingSignup, {\n *          builder: {\n *              customAction: 'http://formendpoint.com'\n *          }\n *      })\n *      ...\n *  }\n */\nimport m from 'mithril';\nimport h from '../h';\n\nconst landingSignup = {\n    controller (args) {\n        const builder = args.builder,\n            email = m.prop(''),\n            error = m.prop(false),\n            submit = () => {\n                if (h.validateEmail(email())){\n                    return true;\n                } else {\n                    error(true);\n                    return false;\n                }\n            };\n        return {\n            email: email,\n            submit: submit,\n            error: error\n        };\n    },\n    view (ctrl, args) {\n        let errorClasses = (!ctrl.error) ? '.positive.error' : '';\n        return m('form.w-form[id=\"email-form\"][method=\"post\"][action=\"' + args.builder.customAction + '\"]',{\n            onsubmit: ctrl.submit\n        },[\n            m('.w-col.w-col-5', [\n                m(`input${errorClasses}.w-input.text-field.medium[name=\"EMAIL\"][placeholder=\"Digite seu email\"][type=\"text\"]`, {\n                    config: h.RDTracker('landing-flex'),\n                    onchange: m.withAttr('value', ctrl.email),\n                    value: ctrl.email()\n                }),\n                (ctrl.error() ? m('span.fontsize-smaller.text-error', 'E-mail inválido') : '')\n            ]),\n            m('.w-col.w-col-3', [\n                m('input.w-button.btn.btn-large[type=\"submit\"][value=\"Cadastrar\"]')\n            ])\n        ]);\n    }\n};\n\nexport default landingSignup;\n","/**\n * window.c.landingQA component\n * A visual component that displays a question/answer box with toggle\n *\n * Example:\n * view: () => {\n *      ...\n *      m.component(c.landingQA, {\n *          question: 'Whats your name?',\n *          answer: 'Darth Vader.'\n *      })\n *      ...\n *  }\n */\nimport m from 'mithril';\nimport h from '../h';\n\nconst landingQA = {\n    controller (args) {\n        return {\n            showAnswer: h.toggleProp(false, true)\n        };\n    },\n    view (ctrl, args) {\n        return m('.card.qa-card.u-marginbottom-20.u-radius.btn-terciary',[\n            m('.fontsize-base', {\n                onclick: ctrl.showAnswer.toggle\n            }, args.question),\n            ctrl.showAnswer() ? m('p.u-margintop-20.fontsize-small', m.trust(args.answer)) : ''\n        ]);\n    }\n};\n\nexport default landingQA;\n","import m from 'mithril';\nimport postgrest from 'mithril-postgrest';\nimport h from '../h';\nimport models from '../models';\nimport landingSignup from '../c/landing-signup';\nimport projectRow from '../c/project-row';\nimport landingQA from '../c/landing-qa';\n\nconst Flex = {\n    controller () {\n        const stats = m.prop([]),\n            projects = m.prop([]),\n            l = m.prop(),\n            sample3 = _.partial(_.sample, _, 3),\n            builder = {\n                customAction: 'http://fazum.catarse.me/obrigado-landing-catarse-flex'\n            },\n            addDisqus = (el, isInitialized) => {\n                if (!isInitialized) {\n                    h.discuss('https://catarse.me/flex', 'flex_page');\n                }\n            },\n            flexVM = postgrest.filtersVM({\n                mode: 'eq',\n                state: 'eq',\n                recommended: 'eq'\n            }),\n            statsLoader = postgrest.loaderWithToken(models.statistic.getRowOptions());\n\n        flexVM.mode('flex').state('online').recommended(true);\n\n        const projectsLoader = postgrest.loader(models.project.getPageOptions(flexVM.parameters()));\n\n        statsLoader.load().then(stats);\n\n        projectsLoader.load().then(_.compose(projects, sample3));\n\n        return {\n            addDisqus: addDisqus,\n            builder: builder,\n            statsLoader: statsLoader,\n            stats: stats,\n            projectsLoader: projectsLoader,\n            projects: {\n                loader: projectsLoader,\n                collection: projects\n            }\n        };\n    },\n    view (ctrl, args) {\n        let stats = _.first(ctrl.stats());\n\n        return [\n            m('.w-section.hero-full.hero-zelo', [\n                m('.w-container.u-text-center', [\n                    m('img.logo-flex-home[src=\\'/assets/logo-flex.png\\'][width=\\'359\\']'),\n                    m('.w-row', [\n                        m('.w-col.fontsize-large.u-marginbottom-60.w-col-push-2.w-col-8', 'Vamos construir uma nova modalidade de crowdfunding! Cadastre seu email e saiba como inscrever o seu projeto no flex!')\n                    ]),\n                    m('.w-row', [\n                        m('.w-col.w-col-2'),\n                        m.component(landingSignup, {\n                            builder: ctrl.builder\n                        }),\n                        m('.w-col.w-col-2')\n                    ])\n                ])\n            ]), [\n                m('.section', [\n                    m('.w-container', [\n                        m('.fontsize-largest.u-margintop-40.u-text-center', 'Pra quem será?'), m('.fontsize-base.u-text-center.u-marginbottom-60', 'Iniciaremos a fase de testes com categorias de projetos específicas'), m('div', [\n                            m('.w-row.u-marginbottom-60', [\n                                m('.w-col.w-col-6', [\n                                    m('.u-text-center.u-marginbottom-20', [\n                                        m('img[src=\\'https://daks2k3a4ib2z.cloudfront.net/54b440b85608e3f4389db387/560e393a01b66e250aca67cb_icon-zelo-com.png\\'][width=\\'210\\']'), m('.fontsize-largest.lineheight-loose', 'Causas')\n                                    ]), m('p.fontsize-base', 'Flexibilidade para causas de impacto! Estaremos abertos a campanhas de organizações ou pessoas físicas para arrecadação de recursos para causas pessoais, projetos assistenciais, saúde, ajudas humanitárias, proteção aos animais, empreendedorismo socioambiental, ativismo ou qualquer coisa que una as pessoas para fazer o bem.')\n                                ]), m('.w-col.w-col-6', [\n                                    m('.u-text-center.u-marginbottom-20', [\n                                        m('img[src=\\'https://daks2k3a4ib2z.cloudfront.net/54b440b85608e3f4389db387/560e3929a0daea230a5f12cd_icon-zelo-pessoal.png\\'][width=\\'210\\']'), m('.fontsize-largest.lineheight-loose', 'Vaquinhas')\n                                    ]), m('p.fontsize-base', 'Campanhas simples que precisam de flexibilidade para arrecadar dinheiro com pessoas próximas. Estaremos abertos a uma variedade de campanhas pessoais que podem ir desde cobrir custos de estudos a ajudar quem precisa de tratamento médico. De juntar a grana para fazer aquela festa a comprar presentes para alguém com a ajuda da galera. ')\n                                ])\n                            ])\n                        ])\n                    ])\n                ]), m('.w-section.section.bg-greenlime.fontcolor-negative', [\n                    m('.w-container', [\n                        m('.fontsize-largest.u-margintop-40.u-marginbottom-60.u-text-center', 'Como funcionará?'), m('.w-row.u-marginbottom-40', [\n                            m('.w-col.w-col-6', [\n                                m('.u-text-center', [\n                                    m('img[src=\\'https://daks2k3a4ib2z.cloudfront.net/54b440b85608e3f4389db387/560e39c578b284493e2a428a_zelo-money.png\\'][width=\\'180\\']')\n                                ]), m('.fontsize-large.u-marginbottom-10.u-text-center.fontweight-semibold', 'Fique com quanto arrecadar'), m('p.u-text-center.fontsize-base', 'O flex é para impulsionar campanhas onde todo dinheiro é bem vindo! Você fica com tudo que conseguir arrecadar.')\n                            ]), m('.w-col.w-col-6', [\n                                m('.u-text-center', [\n                                    m('img[src=\\'https://daks2k3a4ib2z.cloudfront.net/54b440b85608e3f4389db387/560e39d37c013d4a3ee687d2_icon-reward.png\\'][width=\\'180\\']')\n                                ]), m('.fontsize-large.u-marginbottom-10.u-text-center.fontweight-semibold', 'Não precisa de recompensas'), m('p.u-text-center.fontsize-base', 'No flex oferecer recompensas é opcional. Você escolhe se oferecê-las faz sentido para o seu projeto e campanha.')\n                            ])\n                        ]), m('.w-row.u-marginbottom-40', [\n                            m('.w-col.w-col-6', [\n                                m('.u-text-center', [\n                                    m('img[src=\\'https://daks2k3a4ib2z.cloudfront.net/54b440b85608e3f4389db387/560e39fb01b66e250aca67e3_icon-curad.png\\'][width=\\'180\\']')\n                                ]), m('.fontsize-large.u-marginbottom-10.u-text-center.fontweight-semibold', 'Você mesmo publica seu projeto'), m('p.u-text-center.fontsize-base', 'Todos os projetos inscritos no flex entram no ar. Agilidade e facilidade para você captar recursos através da internet.')\n                            ]), m('.w-col.w-col-6', [\n                                m('.u-text-center', [\n                                    m('img[src=\\'https://daks2k3a4ib2z.cloudfront.net/54b440b85608e3f4389db387/560e39e77c013d4a3ee687d4_icon-time.png\\'][width=\\'180\\']')\n                                ]), m('.fontsize-large.u-marginbottom-10.u-text-center.fontweight-semibold', 'Encerre a campanha quando quiser'), m('p.u-text-center.fontsize-base', 'Não há limite de tempo de captação. Você escolhe  quando encerrar sua campanha e receber os valores arrecadados.')\n                            ])\n                        ])\n                    ])\n                ]),\n                m('.w-section.section', [\n                    m('.w-container', [\n                        m('.w-editable.fontsize-larger.u-margintop-40.u-margin-bottom-40.u-text-center', 'Conheça alguns dos primeiros projetos flex'),\n                        ctrl.projectsLoader() ? h.loader() : m.component(projectRow, {collection: ctrl.projects, ref: 'ctrse_flex', wrapper: '.w-row.u-margintop-40'})\n                    ])\n                ]),\n                m('.w-section.divider'),\n                m('.w-section.section', [\n                    m('.w-container', [\n                        m('.fontsize-larger.u-text-center.u-marginbottom-60.u-margintop-40', 'Dúvidas'), m('.w-row.u-marginbottom-60', [\n                            m('.w-col.w-col-6', [\n                                m.component(landingQA, {\n                                    question: 'Quais são as taxas da modalidade flexível? ',\n                                    answer: 'Como no Catarse, enviar um projeto não custa nada! A taxa cobrada no serviço Catarse flex é de 13% sobre o valor arrecadado.'\n                                }),\n                                m.component(landingQA, {\n                                    question: 'De onde vem o dinheiro do meu projeto?',\n                                    answer: 'Família, amigos, fãs e membros de comunidades que você faz parte são seus maiores colaboradores. São eles que irão divulgar sua campanha para as pessoas que eles conhecem, e assim o círculo de apoiadores vai aumentando e a sua campanha ganha força.'\n                                }),\n                                m.component(landingQA, {\n                                    question: 'Qual a diferença entre o flexível e o \"tudo ou nada\"?',\n                                    answer: 'Atualmente o Catarse utiliza apenas o modelo \"tudo ou nada\", onde você só fica com o dinheiro se bater a meta de arrecadação dentro do prazo da campanha. O modelo flexível é diferente pois permite que o realizador fique com o que arrecadar, independente de atingir ou não a meta do projeto no prazo da campanha. Não haverá limite de tempo para as campanhas. Nosso sistema flexível será algo novo em relação aos modelos que existem atualmente no mercado.'\n                                }),\n                            ]), m('.w-col.w-col-6', [\n                                m.component(landingQA, {\n                                    question: 'Posso inscrever projetos para a modalidade flexível já?',\n                                    answer: 'Sim. Cadastre seu email e saiba como inscrever o seu projeto no flex!'\n                                }),\n                                m.component(landingQA, {\n                                    question: 'Por quê vocês querem fazer o Catarse flex?',\n                                    answer: 'Acreditamos que o ambiente do crowdfunding brasileiro ainda tem espaço para muitas ações, testes e experimentações para entender de fato o que as pessoas precisam. Sonhamos com tornar o financiamento coletivo um hábito no Brasil. O Catarse flex é mais um passo nessa direção.'\n                                }),\n                                m.component(landingQA, {\n                                    question: 'Quando vocês irão lançar o Catarse flex?',\n                                    answer: 'Ainda não sabemos quando abriremos o flex para o público em geral, mas você pode cadastrar seu email nessa página e receber um material especial de como inscrever seu projeto.'\n                                })\n                            ])\n                        ])\n                    ])\n                ]),\n                m('.w-section.section-large.u-text-center.bg-purple', [\n                    m('.w-container.fontcolor-negative', [\n                        m('.fontsize-largest', 'Inscreva seu projeto!'), m('.fontsize-base.u-marginbottom-60', 'Cadastre seu email e saiba como inscrever o seu projeto no flex!'), m('.w-row', [\n                            m('.w-col.w-col-2'),\n                            m.component(landingSignup, {\n                                builder: ctrl.builder\n                            }),\n                            m('.w-col.w-col-2')\n                        ])\n                    ])\n                ]), m('.w-section.section-one-column.bg-catarse-zelo.section-large[style=\"min-height: 50vh;\"]', [\n                    m('.w-container.u-text-center', [\n                        m('.w-editable.u-marginbottom-40.fontsize-larger.lineheight-tight.fontcolor-negative', 'O flex é um experimento e iniciativa do Catarse, maior plataforma de crowdfunding do Brasil.'),\n                        m('.w-row.u-text-center', (ctrl.statsLoader()) ? h.loader() : [\n                            m('.w-col.w-col-4', [\n                                m('.fontsize-jumbo.text-success.lineheight-loose', h.formatNumber(stats.total_contributors, 0, 3)), m('p.start-stats.fontsize-base.fontcolor-negative', 'Pessoas ja apoiaram pelo menos 01 projeto no Catarse')\n                            ]),\n                            m('.w-col.w-col-4', [\n                                m('.fontsize-jumbo.text-success.lineheight-loose', h.formatNumber(stats.total_projects_success, 0, 3)), m('p.start-stats.fontsize-base.fontcolor-negative', 'Projetos ja foram financiados no Catarse')\n                            ]),\n                            m('.w-col.w-col-4', [\n                                m('.fontsize-jumbo.text-success.lineheight-loose', stats.total_contributed.toString().slice(0, 2) + ' milhões'), m('p.start-stats.fontsize-base.fontcolor-negative', 'Foram investidos em ideias publicadas no Catarse')\n                            ])\n                        ])\n                    ])\n                ]),\n                m('.w-section.section.bg-blue-one.fontcolor-negative', [\n                    m('.w-container', [\n                        m('.fontsize-large.u-text-center.u-marginbottom-20', 'Recomende o Catarse flex para amigos! '),\n                        m('.w-row', [\n                            m('.w-col.w-col-2'),\n                            m('.w-col.w-col-8', [\n                                m('.w-row', [\n                                    m('.w-col.w-col-6.w-col-small-6.w-col-tiny-6.w-sub-col-middle', [\n                                        m('div', [\n                                            m('img.icon-share-mobile[src=\\'https://daks2k3a4ib2z.cloudfront.net/54b440b85608e3f4389db387/53a3f66e05eb6144171d8edb_facebook-xxl.png\\']'),\n                                            m('a.w-button.btn.btn-large.btn-fb[href=\"http://www.facebook.com/sharer/sharer.php?u=https://www.catarse.me/flex?ref=facebook&title=' + encodeURIComponent('Conheça o novo Catarse Flex!') + '\"][target=\"_blank\"]', 'Compartilhar')\n                                        ])\n                                    ]),\n                                    m('.w-col.w-col-6.w-col-small-6.w-col-tiny-6', [\n                                        m('div', [\n                                            m('img.icon-share-mobile[src=\\'https://daks2k3a4ib2z.cloudfront.net/54b440b85608e3f4389db387/53a3f65105eb6144171d8eda_twitter-256.png\\']'),\n                                            m('a.w-button.btn.btn-large.btn-tweet[href=\"http://twitter.com/?status=' + encodeURIComponent('Vamos construir uma nova modalidade de crowdfunding para o Catarse! Junte-se a nós, inscreva seu email!') + 'https://www.catarse.me/flex?ref=twitter\"][target=\"_blank\"]', 'Tuitar')\n                                        ])\n                                    ])\n                                ])\n                            ]),\n                            m('.w-col.w-col-2')\n                        ])\n                    ])\n                ]), m('.w-section.section-large.bg-greenlime', [\n                    m('.w-container', [\n                        m('#participe-do-debate.u-text-center', {config: h.toAnchor()}, [\n                            m('h1.fontsize-largest.fontcolor-negative','Construa o flex conosco'), m('.fontsize-base.u-marginbottom-60.fontcolor-negative', 'Inicie uma conversa, pergunte, comente, critique e faça sugestões!')\n                        ]),\n                        m('#disqus_thread.card.u-radius[style=\"min-height: 50vh;\"]', {\n                            config: ctrl.addDisqus\n                        })\n                    ])\n                ])\n            ]\n        ];\n    }\n};\n\nexport default Flex;\n","/**\n * window.c.ProjectDataChart component\n * A graph builder interface to be used on project related dashboards.\n * Example:\n * m.component(c.ProjectDataChart, {\n *     collection: ctrl.contributionsPerDay,\n *     label: 'R$ arrecadados por dia',\n *     dataKey: 'total_amount'\n * })\n */\nimport m from 'mithril';\nimport _ from 'underscore';\nimport Chart from 'chartjs';\n\nconst projectDataChart = {\n    controller (args) {\n        const resource = _.first(args.collection()),\n              source = (!_.isUndefined(resource) ? resource.source : []),\n\n            mountDataset = () => {\n                return [{\n                    fillColor: 'rgba(126,194,69,0.2)',\n                    strokeColor: 'rgba(126,194,69,1)',\n                    pointColor: 'rgba(126,194,69,1)',\n                    pointStrokeColor: '#fff',\n                    pointHighlightFill: '#fff',\n                    pointHighlightStroke: 'rgba(220,220,220,1)',\n                    data: _.map(source, (item) => {\n                        return item[args.dataKey];\n                    })\n                }];\n            },\n            renderChart = (element, isInitialized) => {\n                if (!isInitialized) {\n                    const ctx = element.getContext('2d');\n\n                    new Chart(ctx).Line({\n                        labels: _.map(source, (item) => {\n                            return args.xAxis(item);\n                        }),\n                        datasets: mountDataset()\n                    });\n                }\n\n            };\n\n        return {\n            renderChart: renderChart\n        };\n    },\n    view (ctrl, args) {\n        return m('.card.u-radius.medium.u-marginbottom-30', [\n            m('.fontweight-semibold.u-marginbottom-10.fontsize-large.u-text-center', args.label),\n            m('.w-row', [\n                m('.w-col.w-col-12.overflow-auto', [\n                    m('canvas[id=\"chart\"][width=\"860\"][height=\"300\"]', {\n                        config: ctrl.renderChart\n                    })\n                ]),\n            ])\n        ]);\n    }\n};\n\nexport default projectDataChart;\n","/**\n * window.c.ProjectDataTable component\n * A table interface constructor that should be used on project related dashboards.\n * It takes an array and a lable as it's sources.\n * The first item in the array is the header descriptor and the rest of them are row data.\n * Rows may return a string or an array and this value will be used as a row output.\n * All table rows are sortable by default. If you want to use a custom value as sort parameter\n * you may set a 2D array as row. In this case, the first array value will be the custom value\n * while the other will be the actual output.\n * Example:\n * m.component(c.ProjectDataTable, {\n *      label: 'Table label',\n *      table: [\n *          ['col header 1', 'col header 2'],\n *          ['value 1x1', [3, 'value 1x2']],\n *          ['value 2x1', [1, 'value 2x2']] //We are using a custom comparator two col 2 values\n *      ],\n *      //Allows you to set a specific column to be ordered by default.\n *      //If no value is set, the first row will be the default one to be ordered.\n *      //Negative values mean that the order should be reverted\n *      defaultSortIndex: -3\n *  })\n */\nimport m from 'mithril';\nimport _ from 'underscore';\nimport models from '../models';\nimport h from '../h';\n\nconst projectDataTable = {\n    controller (args) {\n        const table = m.prop(args.table),\n            sortIndex = m.prop(-1);\n\n        const comparator = (a, b) => {\n            let idx = sortIndex(),\n                //Check if a custom comparator is used => Read component description\n                x = (_.isArray(a[idx]) && a[idx].length > 1) ? a[idx][0] : a[idx],\n                y = (_.isArray(b[idx]) && b[idx].length > 1) ? b[idx][0] : b[idx];\n\n            if (x < y){\n                return -1;\n            }\n            if (y < x){\n                return 1;\n            }\n            return 0;\n        };\n\n        const sortTable = (idx) => {\n            let header = _.first(table()),\n                body;\n            if (sortIndex() === idx){\n                body = _.rest(table()).reverse();\n            } else {\n                sortIndex(idx);\n                body = _.rest(table()).sort(comparator);\n            }\n\n            table(_.union([header],body));\n        };\n\n        sortTable(Math.abs(args.defaultSortIndex) || 0);\n\n        if (args.defaultSortIndex < 0){\n            sortTable(Math.abs(args.defaultSortIndex) || 0);\n        }\n\n        return {\n            table: table,\n            sortTable: sortTable\n        };\n    },\n    view (ctrl, args) {\n        const header = _.first(ctrl.table()),\n            body = _.rest(ctrl.table());\n        return m('.table-outer.u-marginbottom-60', [\n            m('.w-row.table-row.fontweight-semibold.fontsize-smaller.header',\n                _.map(header, (heading, idx) => {\n                    let sort = () => ctrl.sortTable(idx);\n                    return m('.w-col.w-col-4.w-col-small-4.w-col-tiny-4.table-col', [\n                        m('a.link-hidden[href=\"javascript:void(0);\"]', {\n                            onclick: sort\n                        }, [\n                            `${heading} `, m('span.fa.fa-sort')\n                        ])\n                    ]);\n                })\n            ), m('.table-inner.fontsize-small',\n                _.map(body, (rowData) => {\n                    return m('.w-row.table-row',\n                        _.map(rowData, (row) => {\n                            //Check if a custom comparator is used => Read component description\n                            row = (_.isArray(row) && row.length > 1) ? row[1] : row;\n                            return m('.w-col.w-col-4.w-col-small-4.w-col-tiny-4.table-col', [\n                                m('div', row)\n                            ]);\n                        })\n                    );\n                })\n            )\n        ]);\n    }\n}\n\nexport default projectDataTable;\n","import m from 'mithril';\nimport postgrest from 'mithril-postgrest';\nimport _ from 'underscore';\nimport I18n from 'i18n-js';\nimport h from '../h';\nimport models from '../models';\nimport tooltip from '../c/tooltip';\nimport projectDashboardMenu from '../c/project-dashboard-menu';\nimport modalBox from '../c/modal-box';\nimport adminProjectDetailsCard from '../c/admin-project-details-card';\nimport projectDataChart from '../c/project-data-chart';\nimport projectDataTable from '../c/project-data-table';\nimport projectReminderCount from '../c/project-reminder-count';\n\nconst I18nScope = _.partial(h.i18nScope, 'projects.insights');\n\nconst insights = {\n    controller (args) {\n        let filtersVM = postgrest.filtersVM({\n                project_id: 'eq'\n            }),\n            displayModal = h.toggleProp(false, true),\n            projectDetails = m.prop([]),\n            contributionsPerDay = m.prop([]),\n            contributionsPerLocation = m.prop([]),\n            loader = postgrest.loaderWithToken;\n\n        if (h.paramByName('online_success') === 'true') {\n            displayModal.toggle();\n        }\n\n        filtersVM.project_id(args.root.getAttribute('data-id'));\n\n        const l = loader(models.projectDetail.getRowOptions(filtersVM.parameters()));\n        l.load().then(projectDetails);\n\n        const lContributionsPerDay = loader(models.projectContributionsPerDay.getRowOptions(filtersVM.parameters()));\n        lContributionsPerDay.load().then(contributionsPerDay);\n\n        let contributionsPerLocationTable = [['Estado', 'Apoios', 'R$ apoiados (% do total)']];\n        const buildPerLocationTable = (contributions) => {\n            return (!_.isEmpty(contributions)) ? _.map(_.first(contributions).source, (contribution) => {\n                let column = [];\n\n                column.push(contribution.state_acronym || 'Outro/other');\n                column.push(contribution.total_contributions);\n                column.push([contribution.total_contributed,[//Adding row with custom comparator => read project-data-table description\n                    m(`input[type=\"hidden\"][value=\"${contribution.total_contributed}\"`),\n                    'R$ ',\n                    h.formatNumber(contribution.total_contributed, 2, 3),\n                    m('span.w-hidden-small.w-hidden-tiny', ' (' + contribution.total_on_percentage.toFixed(2) + '%)')\n                ]]);\n                return contributionsPerLocationTable.push(column);\n            }) : [];\n        };\n\n        const lContributionsPerLocation = loader(models.projectContributionsPerLocation.getRowOptions(filtersVM.parameters()));\n        lContributionsPerLocation.load().then(buildPerLocationTable);\n\n        let contributionsPerRefTable = [[\n            I18n.t('ref_table.header.origin', I18nScope()),\n            I18n.t('ref_table.header.contributions', I18nScope()),\n            I18n.t('ref_table.header.amount', I18nScope())\n        ]];\n        const buildPerRefTable = (contributions) => {\n            return (!_.isEmpty(contributions)) ? _.map(_.first(contributions).source, (contribution) => {\n                //Test if the string matches a word starting with ctrse_ and followed by any non-digit group of characters\n                //This allows to remove any versioned referral (i.e.: ctrse_newsletter_123) while still getting ctrse_test_ref\n                const re = /(ctrse_[\\D]*)/,\n                    test = re.exec(contribution.referral_link);\n\n                let column = [];\n\n                if (test){\n                    //Removes last underscore if it exists\n                    contribution.referral_link = test[0].substr(-1) === '_' ? test[0].substr(0, test[0].length - 1) : test[0];\n                }\n\n                column.push(contribution.referral_link ? I18n.t('referral.' + contribution.referral_link, I18nScope({defaultValue: contribution.referral_link})) : I18n.t('referral.others', I18nScope()));\n                column.push(contribution.total);\n                column.push([contribution.total_amount,[\n                    m(`input[type=\"hidden\"][value=\"${contribution.total_contributed}\"`),\n                    'R$ ',\n                    h.formatNumber(contribution.total_amount, 2, 3),\n                    m('span.w-hidden-small.w-hidden-tiny', ' (' + contribution.total_on_percentage.toFixed(2) + '%)')\n                ]]);\n                return contributionsPerRefTable.push(column);\n            }) : [];\n        };\n\n        const lContributionsPerRef = loader(models.projectContributionsPerRef.getRowOptions(filtersVM.parameters()));\n        lContributionsPerRef.load().then(buildPerRefTable);\n\n        return {\n            l: l,\n            lContributionsPerRef: lContributionsPerRef,\n            lContributionsPerLocation: lContributionsPerLocation,\n            lContributionsPerDay: lContributionsPerDay,\n            displayModal: displayModal,\n            filtersVM: filtersVM,\n            projectDetails: projectDetails,\n            contributionsPerDay: contributionsPerDay,\n            contributionsPerLocationTable: contributionsPerLocationTable,\n            contributionsPerRefTable: contributionsPerRefTable\n        };\n    },\n    view (ctrl) {\n        const project = _.first(ctrl.projectDetails()) || {\n            user: {\n                name: 'Realizador'\n            }\n        },\n            successModalC = ['OnlineSucessModalContent'],\n            buildTooltip = (el) => {\n                return m.component(tooltip, {\n                    el: el,\n                    text: [\n                        'Informa de onde vieram os apoios de seu projeto. Saiba como usar essa tabela e planejar melhor suas ações de comunicação ',\n                        m(`a[href=\"${I18n.t('ref_table.help_url', I18nScope())}\"][target='_blank']`, 'aqui.')\n                    ],\n                    width: 380\n                });\n            };\n\n        project.user.name = project.user.name || 'Realizador';\n\n        return m('.project-insights', !ctrl.l() ? [\n            (project.is_owner_or_admin ? m.component(projectDashboardMenu, {\n                project: m.prop(project)\n            }) : ''),\n            (ctrl.displayModal() ? m.component(modalBox, {\n                displayModal: ctrl.displayModal,\n                content: successModalC\n            }) : ''),\n            m('.w-container', [\n                m('.w-row.u-marginbottom-40', [\n                    m('.w-col.w-col-2'),\n                    m('.w-col.w-col-8.dashboard-header.u-text-center', [\n                        m('.fontweight-semibold.fontsize-larger.lineheight-looser.u-marginbottom-10', I18n.t('campaign_title', I18nScope())),\n                        m.component(adminProjectDetailsCard, {\n                            resource: project\n                        }),\n                        m('p.' + project.state + '-project-text.fontsize-small.lineheight-loose', [\n                            project.mode === 'flex' && _.isNull(project.expires_at) && project.state !== 'draft' ? m('span', [I18n.t('finish_explanation', I18nScope()),\n                               m('a.alt-link[href=\"http://suporte.catarse.me/hc/pt-br/articles/206507863-Catarse-flex-Principais-perguntas-e-respostas-\"][target=\"_blank\"]', I18n.t('know_more', I18nScope()))]) : m.trust(I18n.t(`campaign.${project.mode}.${project.state}`, I18nScope({username: project.user.name, expires_at: h.momentify(project.zone_expires_at), sent_to_analysis_at: h.momentify(project.sent_to_analysis_at)})))\n                        ])\n                    ]),\n                    m('.w-col.w-col-2')\n                ])\n            ]), (project.is_published) ? [\n                m('.divider'),\n                m('.w-section.section-one-column.section.bg-gray.before-footer', [\n                    m('.w-container', [\n                        m('.w-row', [\n                            m('.w-col.w-col-12.u-text-center', {\n                                style: {\n                                    'min-height': '300px'\n                                }\n                            }, [\n                                !ctrl.lContributionsPerDay() ? m.component(projectDataChart, {\n                                    collection: ctrl.contributionsPerDay,\n                                    label: I18n.t('amount_per_day_label', I18nScope()),\n                                    dataKey: 'total_amount',\n                                    xAxis: (item) => h.momentify(item.paid_at)\n                                }) : h.loader()\n                            ]),\n                        ]),\n                        m('.w-row', [\n                            m('.w-col.w-col-12.u-text-center', {\n                                style: {\n                                    'min-height': '300px'\n                                }\n                            }, [\n                                !ctrl.lContributionsPerDay() ? m.component(projectDataChart, {\n                                    collection: ctrl.contributionsPerDay,\n                                    label: I18n.t('contributions_per_day_label', I18nScope()),\n                                    dataKey: 'total',\n                                    xAxis: (item) => h.momentify(item.paid_at)\n                                }) : h.loader()\n                            ]),\n                        ]),\n                        m('.w-row', [\n                            m('.w-col.w-col-12.u-text-center', [\n                                m('.project-contributions-per-ref', [\n                                    m('.fontweight-semibold.u-marginbottom-10.fontsize-large.u-text-center', [\n                                        I18n.t('ref_origin_title', I18nScope()),\n                                        h.newFeatureBadge(),\n                                        buildTooltip('span.fontsize-smallest.tooltip-wrapper.fa.fa-question-circle.fontcolor-secondary')\n                                    ]),\n                                    !ctrl.lContributionsPerRef() ? m.component(projectDataTable, {\n                                        table: ctrl.contributionsPerRefTable,\n                                        defaultSortIndex: -2\n                                    }) : h.loader()\n                                ])\n                            ]),\n                        ]),\n                        m('.w-row', [\n                            m('.w-col.w-col-12.u-text-center', [\n                                m('.project-contributions-per-ref', [\n                                    m('.fontweight-semibold.u-marginbottom-10.fontsize-large.u-text-center', I18n.t('location_origin_title', I18nScope())),\n                                    !ctrl.lContributionsPerLocation() ? m.component(projectDataTable, {\n                                        table: ctrl.contributionsPerLocationTable,\n                                        defaultSortIndex: -2\n                                    }) : h.loader()\n                                ])\n                            ]),\n                        ]),\n                        m('.w-row', [\n                            m('.w-col.w-col-12.u-text-center', [\n                                m.component(projectReminderCount, {\n                                    resource: project\n                                })\n                            ]),\n                        ])\n                    ])\n                ])\n            ] : ''\n        ] : h.loader());\n    }\n}\n\nexport default insights;\n","import m from 'mithril';\nimport I18n from 'i18n-js';\nimport h from '../h';\n\nconst I18nScope = _.partial(h.i18nScope, 'pages.jobs');\n\nconst jobs = {\n    view (ctrl, args) {\n        return [\n            m('.w-section.hero-jobs.hero-medium', [\n                m('.w-containe.u-text-center',[\n                    m('img.icon-hero[src=\"/assets/logo-white.png\"]'),\n                    m('.u-text-center.u-marginbottom-20.fontsize-largest', I18n.t('title', I18nScope()))\n                ])\n            ]),\n            m('.w-section.section', [\n                m('.w-container.u-margintop-40', [\n                    m('.w-row', [\n                        m('.w-col.w-col-8.w-col-push-2.u-text-center', [\n                            m('.fontsize-large.u-marginbottom-30', I18n.t('info', I18nScope())),\n                            m('a[href=\"/projects/new\"].w-button.btn.btn-large.btn-inline', I18n.t('cta', I18nScope()))\n                        ])\n                    ])\n                ])\n            ])\n        ];\n    }\n};\n\nexport default jobs;\n","import m from 'mithril';\nimport _ from 'underscore';\n\nconst projectContributionReportHeader= {\n    view (ctrl, args) {\n        const filterBuilder = args.filterBuilder,\n              paymentStateFilter =  _.findWhere(filterBuilder, {label: 'payment_state'}),\n              rewardFilter = _.findWhere(filterBuilder, {label: 'reward_filter'}),\n              mainFilter = _.findWhere(filterBuilder, {component: 'FilterMain'}),\n              project_id = args.filterVM.project_id();\n\n        rewardFilter.data.options = args.mapRewardsToOptions();\n\n        return m('.w-section.dashboard-header', [\n            m('.w-container', [\n                m('.w-row', [\n                    m('.w-col.w-col-3'),\n                    m('.w-col.w-col-6', [\n                        m('.fontsize-larger.u-text-center.fontweight-semibold.lineheight-looser.u-marginbottom-30', 'Relatório de apoios')]),\n                    m('.w-col.w-col-3')\n                ]),\n                m('.w-form', [\n                    m('form', {onsubmit: args.submit}, [\n                        m('.w-row', [\n                            m('.w-col.w-col-5', [\n                                m('.w-row', [\n                                    m.component(c[paymentStateFilter.component], paymentStateFilter.data),\n                                        m.component(c[rewardFilter.component], rewardFilter.data)\n                                ])\n                            ]),\n                            m('.w-col.w-col-7.u-margintop-20', [\n                                m('.w-row', [\n                                    m('.w-col.w-col-8._w-sub-col', [\n                                        m.component(c[mainFilter.component], mainFilter.data)\n                                    ]),\n                                    m('.w-col.w-col-4.w-clearfix.w-hidden-small.w-hidden-tiny', [\n                                        m(`a.alt-link.u-right.fontsize-small.lineheight-looser[target=\"__blank\" href=\"/projects/${project_id}/edit#reports\"]`, [\n                                            m('span.fa.fa-download', '.'),\n                                            ' Baixar relatórios'\n                                        ])\n                                    ])\n                                ])\n                            ])\n                        ])\n                    ])\n                ])\n            ])\n        ]);\n    }\n};\n\nexport default projectContributionReportHeader;\n","import m from 'mithril';\nimport _ from 'underscore';\nimport h from '../h';\n\nconst projectContributionReportContentCard = {\n    controller (args) {\n        const stateClass = (state) => {\n            const classes = {\n                'paid': 'text-success',\n                'refunded': 'text-refunded',\n                'pending_refund': 'text-refunded',\n                'pending': 'text-waiting',\n                'refused': 'text-error'\n            };\n\n            return classes[state];\n        };\n\n        return {\n            stateClass: stateClass\n        };\n    },\n    view (ctrl, args) {\n        let contribution = args.contribution(),\n            profile_img = (_.isEmpty(contribution.profile_img_thumbnail) ? '/assets/catarse_bootstrap/user.jpg' : contribution.profile_img_thumbnail),\n            reward = contribution.reward || {minimum_value: 0, description: 'Nenhuma recompensa selecionada'};\n        return m('.w-clearfix.card.card-clickable', [\n            m('.w-row', [\n                m('.w-col.w-col-1.w-col-tiny-1', [\n                    m(`img.user-avatar.u-marginbottom-10[src='${profile_img}']`)\n                ]),\n                m('.w-col.w-col-11.w-col-tiny-11', [\n                    m('.w-row', [\n                        m('.w-col.w-col-3', [\n                            m('.fontweight-semibold.fontsize-smaller.lineheight-tighter', contribution.user_name),\n                            m('.fontsize-smallest.lineheight-looser', [\n                                (contribution.has_another ? [\n                                    m('a.link-hidden-light.badge.badge-light', '+1 apoio'),\n                                    m.trust('&nbsp;')\n                                ] : '' ),\n                                (contribution.anonymous ? m('span.fa.fa-eye-slash.fontcolor-secondary') : '' )\n                            ])\n                        ]),\n                        m(\".w-col.w-col-3\", [\n                            m(\".lineheight-tighter\", [\n                                m(`span.fa.fa-circle.fontsize-smallest.${ctrl.stateClass(contribution.state)}`, \".\"),\n                                \"   \",\n                                m(\"span.fontsize-large\", `R$ ${h.formatNumber(contribution.value, 2, 3)}`)\n                            ])\n                        ]),\n                         m(\".w-col.w-col-3.w-hidden-small.w-hidden-tiny\", [\n                             m(\".fontsize-smallest.fontweight-semibold\", `Recompensa: R$ ${h.formatNumber(reward.minimum_value, 2, 3)}`),\n                             m(\".fontsize-smallest\", reward.description.substring(0, 80) + '...')\n                         ])/*,\n                        m(\".w-col.w-col-2.w-hidden-small.w-hidden-tiny.u-text-center\", [\n                            m(\".fontsize-smallest.fontcolor-secondary\", \"Enviei!\"),\n                            m(\".fontsize-smallest.u-marginbottom-20.lineheight-loose\", [\n                                m(\"a.checkbox-big[href='#']\", \".\")\n                            ])\n                        ]),\n                        m(\".w-col.w-col-2\", [\n                            m(\".fontsize-smallest\", [\n                                m(\"a.link-hidden[href='#']\", \"Questionário\")\n                                ,\" \"\n                                ,m(\"span.fontweight-semibold.text-waiting\", \"enviado\")\n                            ]),\n                            m(\".fontsize-smallest.fontcolor-terciary\", \"em 29/10/2015\")\n                        ])*/\n                    ])\n                ])\n            ]),\n            //m(\"a.w-inline-block.arrow-admin.fa.fa-chevron-down.fontcolor-secondary[data-ix='show-detail-box'][href='#']\")\n        ]);\n    }\n}\n\nexport default projectContributionReportContentCard;\n","import m from 'mithril';\nimport _ from 'underscore';\nimport h from '../h';\nimport projectContributionReportContentCard from './project-contribution-report-content-card';\n\nconst projectContributionReportContent = {\n    view (ctrl, args) {\n        const list = args.list;\n        return m('.w-section.bg-gray.before-footer.section', [\n            m('.w-container', [\n                m(\".w-row.u-marginbottom-20\", [\n                    m(\".w-col.w-col-9.w-col-small-6.w-col-tiny-6\", [\n                        m(\".fontsize-base\", [\n                            m(\"span.fontweight-semibold\", (list.isLoading() ? '' : list.total())),\n                            \" apoios\"\n                        ]),\n                        //m(\".fontsize-large.fontweight-semibold\", \"R$ 12.000,00\")\n                    ]),\n                    /*\n                     TODO: ordering filter template\n                    m(\".w-col.w-col-3.w-col-small-6.w-col-tiny-6\", [\n                        m(\".w-form\", [\n                            m(\"form[data-name='Email Form 5'][id='email-form-5'][name='email-form-5']\", [\n                                m(\".fontsize-smallest.fontcolor-secondary\", \"Ordenar por:\"),\n                                m(\"select.w-select.text-field.positive.fontsize-smallest[id='field-9'][name='field-9']\", [\n                                    m(\"option[value='']\", \"Data (recentes para antigos)\"),\n                                    m(\"option[value='']\", \"Data (antigos para recentes)\"),\n                                    m(\"option[value='']\", \"Valor (maior para menor)\"),\n                                    m(\"option[value='First']\", \"Valor (menor para maior)\")\n                                ])\n                            ])\n                        ])\n                    ])*/\n                ]),\n                _.map(list.collection(), (item) => {\n                    const contribution = m.prop(item);\n                    return m.component(projectContributionReportContentCard, { contribution: contribution });\n                })\n            ]),\n            m('.w-section.section.bg-gray', [\n                m('.w-container', [\n                    m('.w-row.u-marginbottom-60', [\n                        m('.w-col.w-col-2.w-col-push-5', [\n                            (!list.isLoading() ?\n                             (list.isLastPage() ? '' : m('button#load-more.btn.btn-medium.btn-terciary', {\n                                 onclick: list.nextPage\n                             }, 'Carregar mais')) : h.loader())\n                        ])\n                    ])\n\n                ])\n            ])\n\n        ]);\n    }\n}\n\nexport default projectContributionReportContent;\n","import m from 'mithril';\nimport replaceDiacritics from 'replaceDiacritics';\nimport h from '../h';\n\nconst vm = postgrest.filtersVM({\n    full_text_index: '@@',\n    state: 'eq',\n    reward_id: 'eq',\n    project_id: 'eq'\n}),\n      paramToString = (p) => {\n          return (p||'').toString().trim();\n      };\n\nvm.state('');\nvm.order({\n    id: 'desc'\n});\n\nvm.full_text_index.toFilter = () => {\n    const filter = paramToString(vm.full_text_index());\n    return filter && replaceDiacritics(filter) || undefined;\n};\n\nexport default vm;\n","import m from 'mithril';\nimport _ from 'underscore';\nimport postgrest from 'mithril-postgrest';\nimport models from '../models';\nimport h from '../h';\nimport projectDashboardMenu from '../c/project-dashboard-menu';\nimport projectContributionReportHeader from '../c/project-contribution-report-header';\nimport projectContributionReportContent from '../c/project-contribution-report-content';\nimport projectsContributionReportVM from '../vms/projects-contribution-report-vm';\n\nconst projectContributionReport = {\n    controller (args) {\n        const listVM = postgrest.paginationVM(models.projectContribution, 'id.desc', {'Prefer': 'count=exact'}),\n              filterVM = projectsContributionReportVM,\n              project = m.prop({}),\n              rewards = m.prop([]),\n              filterBuilder = [\n                  {\n                      component: 'FilterMain',\n                      data: {\n                          inputWrapperClass: '.w-input.text-field',\n                          btnClass: '.btn.btn-medium',\n                          vm: filterVM.full_text_index,\n                          placeholder: 'Busque por nome ou email do apoiador'\n                      }\n                  }, {\n                      label: 'reward_filter',\n                      component: 'FilterDropdown',\n                      data: {\n                          label: 'Recompensa',\n                          name: 'reward_id',\n                          vm: filterVM.reward_id,\n                          wrapper_class: '.w-col.w-col-6.w-col-small-6.w-col-tiny-6._w-sub-col-middle',\n                          options: []\n                      }\n                  }, {\n                      label: 'payment_state',\n                      component: 'FilterDropdown',\n                      data: {\n                          label: 'Status do apoio',\n                          name: 'state',\n                          vm: filterVM.state,\n                          wrapper_class: '.w-col.w-col-6.w-col-small-6.w-col-tiny-6._w-sub-col-middle',\n                          options: [{\n                              value: '',\n                              option: 'Todos'\n                          }, {\n                              value: 'paid',\n                              option: 'Pago'\n                          }, {\n                              value: 'refused',\n                              option: 'Cancelado'\n                          }, {\n                              value: 'pending',\n                              option: 'Pendente'\n                          }, {\n                              value: 'pending_refund',\n                              option: 'Reembolso pendente'\n                          }, {\n                              value: 'refunded',\n                              option: 'Reembolsado'\n                          }, {\n                              value: 'chargeback',\n                              option: 'Contestado'\n                          }]\n                      }\n                  }\n              ],\n              submit = () => {\n                  listVM.firstPage(filterVM.parameters()).then(null);\n                  return false;\n              };\n\n        filterVM.project_id(args.root.getAttribute('data-id'));\n\n        const lReward = postgrest.loaderWithToken(models.rewardDetail.getPageOptions({project_id: `eq.${filterVM.project_id()}`}));\n        const lProject = postgrest.loaderWithToken(models.projectDetail.getPageOptions({project_id: `eq.${filterVM.project_id()}`}));\n\n        lReward.load().then(rewards);\n        lProject.load().then(project);\n\n        const mapRewardsToOptions = () => {\n            let options = [];\n            if(!lReward()) {\n                options = _.map(rewards(), (r) => {\n                    return {\n                        value: r.id,\n                        option: `R$ ${h.formatNumber(r.minimum_value, 2, 3)} - ${r.description.substring(0, 20)}`\n                    };\n                });\n            }\n\n            options.unshift({\n                value: '',\n                option: 'Todas'\n            });\n\n            return options;\n        };\n\n        if(!listVM.collection().length) {\n            listVM.firstPage(filterVM.parameters());\n        }\n\n        return {\n            listVM: listVM,\n            filterVM: filterVM,\n            filterBuilder: filterBuilder,\n            submit: submit,\n            lReward: lReward,\n            rewards: rewards,\n            project: project,\n            mapRewardsToOptions: mapRewardsToOptions\n        };\n    },\n    view (ctrl, args) {\n        const list = ctrl.listVM;\n\n        return [\n            m.component(projectDashboardMenu, {project: m.prop(_.first(ctrl.project()))}),\n            m.component(projectContributionReportHeader, {\n                submit: ctrl.submit,\n                filterBuilder: ctrl.filterBuilder,\n                form: ctrl.filterVM.formDescriber,\n                mapRewardsToOptions: ctrl.mapRewardsToOptions,\n                filterVM: ctrl.filterVM\n            }),\n            m('.divider.u-margintop-30'),\n            m.component(projectContributionReportContent, {\n                list: list\n            })\n        ];\n    }\n};\n\nexport default projectContributionReport;\n","import I18n from 'i18n-js';\n\nconst homeVM = () => {\n    const i18nStart = I18n.translations[I18n.currentLocale()].projects.home,\n        banners = i18nStart.banners;\n\n    return {\n        banners: banners\n    };\n};\n\nexport default homeVM;\n","/**\n * window.c.ContributionActivities component\n * Render a component that pass on confirmed contributions in 24hours interval\n *\n *\n * Example of use:\n * view: () => {\n *     ...\n *     m.component(c.ContributionActivities)\n *     ...\n * }\n */\nimport m from 'mithril';\nimport _ from 'underscore';\nimport h from '../h';\nimport models from '../models';\n\nconst contributionActivities = {\n    controller (args) {\n        let interval;\n        const collection = m.prop([]),\n              resource = m.prop(),\n              collectionIndex = m.prop(0),\n              collectionSize = m.prop(),\n              collectionL = postgrest.loader(\n                  models.contributionActivity.getPageOptions()),\n              nextResource = () => {\n                  if ((collectionIndex() + 1) > collectionSize()) {\n                      collectionIndex(0);\n                  }\n\n                  collectionIndex(collectionIndex() + 1);\n                  resource(collection()[collectionIndex()]);\n                  m.redraw();\n              },\n              startConfig = (el, isinitialized, context) => {\n                  context.onunload = () => clearInterval(interval);\n              },\n              startTimer = () => {\n                  interval = setInterval(nextResource, 15000);\n              };\n\n        collectionL.load().then((data) => {\n            collection(data);\n            collectionSize(data.length);\n            resource(_.first(data));\n        });\n\n        startTimer();\n\n        return {\n            collection: collection,\n            collectionL: collectionL,\n            resource: resource,\n            collectionSize: collectionSize\n        };\n    },\n    view (ctrl, args) {\n        if (!ctrl.collectionL() && !_.isUndefined(ctrl.resource()) && (ctrl.collectionSize() || 0) > 0) {\n            let resource = ctrl.resource(),\n                elapsed = h.translatedTime(resource.elapsed_time),\n                project_link = `https://catarse.me/${resource.permalink}?ref=ctrse_home_activities`;\n\n            return m('.w-section.section.bg-backs-carrosel', {config: ctrl.startConfig}, [\n                m('.w-container.u-text-center.fontcolor-negative', [\n                    m('.fontsize-large.u-marginbottom-30', `há ${parseInt(elapsed.total)} ${elapsed.unit}...`),\n                    m('.w-clearfix.w-inline-block.u-marginbottom-10', [\n                        m('a', {href: project_link}, [\n                            m('img.thumb-author.u-round', {src: resource.thumbnail, width: 80}),\n                        ]),\n                        m('img.thumb-author.u-round', {src: 'https://daks2k3a4ib2z.cloudfront.net/54b440b85608e3f4389db387/56d646f7710a7126338b46ff_logo-catarse-back-carrosel.png'}),\n                        m('a', {href: project_link}, [\n                            m('img.thumb-author.u-round', {src: resource.project_thumbnail, width: 80, style: 'margin-right: 0;'}),\n                        ])\n                    ]),\n                    m('.fontsize-large', `${resource.name} apoiou`),\n                    m('.fontsize-larger', [\n                        m('a.link-hidden-white', {href: project_link}, resource.project_name)\n                    ])\n                ])\n            ]);\n        } else {\n            return m('div');\n        }\n    }\n};\n\nexport default contributionActivities;\n","import m from 'mithril';\nimport _ from 'underscore';\nimport I18n from 'i18n-js';\nimport moment from 'moment';\nimport h from '../h';\nimport models from '../models';\nimport projectFilters from '../vms/project-filters-vm';\nimport homeVM from '../vms/home-vm';\nimport slider from '../c/slider';\nimport projectRow from '../c/project-row';\nimport contributionActivities from '../c/contribution-activities';\n\nconst I18nScope = _.partial(h.i18nScope, 'projects.home');\n\nconst projectsHome = {\n    controller () {\n        let sample6 = _.partial(_.sample, _, 6),\n            loader = postgrest.loader,\n            project = models.project,\n            filters = projectFilters().filters,\n            vm = homeVM();\n\n        const collections = _.map(['score'], (name) => {\n            const f = filters[name],\n                  cLoader = loader(project.getPageOptions(f.filter.parameters())),\n                  collection = m.prop([]);\n\n            cLoader.load().then(_.compose(collection, sample6));\n\n            return {\n                title: f.title,\n                hash: name,\n                collection: collection,\n                loader: cLoader\n            };\n        });\n\n        return {\n            collections: collections,\n            slidesContent: vm.banners\n        };\n    },\n    view (ctrl) {\n        const slides = () => {\n            return _.map(ctrl.slidesContent, (slide) => {\n                const customStyle = `background-image: url(${slide.image});`;\n                const content = m('.w-container.u-text-center',[\n                    m('.w-row.u-marginbottom-40', [\n                        m('h1.fontcolor-negative.fontsize-megajumbo.u-marginbottom-20', slide.title),\n                        m('h2.fontcolor-negative.fontsize-large', m.trust(slide.subtitle))\n                    ]),\n                    m('a.btn.btn-large.u-marginbottom-10.btn-inline',{href: slide.link}, slide.cta)\n                ]);\n\n                return {\n                    content: content,\n                    customStyle: customStyle\n                };\n            });\n        };\n\n        return [\n            m.component(slider, {\n                slides: slides(),\n                effect: 'fade',\n                slideClass: 'hero-slide start',\n                wrapperClass: 'hero-full hero-full-slide',\n                sliderTime: 10000\n            }),\n            _.map(ctrl.collections, (collection) => {\n                return m.component(projectRow, {\n                    collection: collection,\n                    title: I18n.t('row_title', I18nScope()),\n                    ref: `home_${collection.hash}`\n                });\n            }),\n            m.component(contributionActivities)\n        ];\n    }\n};\n\nexport default projectsHome;\n","import m from 'mithril';\nimport _ from 'underscore';\nimport I18n from 'i18n-js';\nimport models from '../models';\nimport h from '../h';\nimport projectDashboardMenu from '../c/project-dashboard-menu';\n\nconst I18nScope = _.partial(h.i18nScope, 'projects.publish');\n\nconst publish = {\n    controller (args) {\n        let filtersVM = postgrest.filtersVM({\n                project_id: 'eq'\n            }),\n            projectAccount = m.prop([]),\n            projectDetails = m.prop([]),\n            acceptTerm = m.prop([true,true,true,true,true,true,true,true,true]),\n            flexAcceptTerm = m.prop([true,true,true,true,true,true,true,true,true]),\n            showNextTerm = (index, acceptTerms) => {\n                var terms = acceptTerms();\n                if (terms[index]) {\n                    terms[index] = false;\n                    acceptTerms(terms);\n                    var nextTerm = document.getElementsByClassName('w-hidden publish-rules');\n                    if (nextTerm[0] !== undefined) {\n                        nextTerm[0].classList.remove('w-hidden');\n                    }\n                }\n                //show publish button after accepting all rules\n                if (index === terms.length - 1){\n                    document.getElementsByClassName('publish-btn-section')[0].classList.remove('w-hidden');\n                }\n            },\n            loader = postgrest.loaderWithToken;\n\n        filtersVM.project_id(args.root.getAttribute('data-id'));\n\n        const l = loader(models.projectDetail.getRowOptions(filtersVM.parameters())),\n            accountL = loader(models.projectAccount.getRowOptions(filtersVM.parameters()));\n        l.load().then(projectDetails);\n        accountL.load().then(projectAccount);\n\n        return {\n            l: l,\n            accountL: accountL,\n            filtersVM: filtersVM,\n            acceptTerm: acceptTerm,\n            flexAcceptTerm: flexAcceptTerm,\n            showNextTerm: showNextTerm,\n            projectAccount: projectAccount,\n            projectDetails: projectDetails\n        };\n    },\n    view (ctrl, args) {\n        const project = _.first(ctrl.projectDetails()),\n          account = _.first(ctrl.projectAccount()),\n          flexTerms = (project) => {\n              return [\n                  m('.w-col.w-col-11', [\n                    m('div', [\n                        m('span.fontsize-smallest.fontcolor-secondary', '1/9'),\n                        ' ',\n                      m('span.fontweight-semibold', 'Regras da modalidade FLEX')\n                    ]),\n                    m('div', 'Você escolheu a campanha flexível. Dessa maneira, você irá receber os recursos arrecadados  junto aos apoiadores ao final do prazo da campanha (descontando a taxa do Catarse) e deverá cumprir com a execução do projeto e com a entrega das recompensas oferecidas independente do quanto arrecadar.')\n                  ]),\n                  m('.w-col.w-col-11', [\n                    m('div', [\n                        m('span.fontsize-smallest.fontcolor-secondary', '2/9'),\n                        ' ',\n                      m('span.fontweight-semibold', 'Meta de arrecadação')\n                    ]),\n                    m('div', 'A meta não poderá ser alterada após o publicação do projeto.')\n                  ]),\n                  m('.w-col.w-col-11', [\n                    m('div', [\n                        m('span.fontsize-smallest.fontcolor-secondary', '3/9'),\n                        ' ',\n                      m('span.fontweight-semibold', 'Taxas')\n                    ]),\n                    m('div', [\n                      'Ao final da campanha, cobraremos 13% sobre o ',\n                      m('span.fontweight-semibold', 'valor total arrecadado.')\n                    ])\n                  ]),\n                  m('.w-col.w-col-11', [\n                    m('div', [\n                        m('span.fontsize-smallest.fontcolor-secondary', '4/9'),\n                        ' ',\n                      m('span.fontweight-semibold', 'Prazo da campanha')\n                    ]),\n                    m('div', 'Sua campanha poderá ficar até 12 meses arrecadando dentro do Catarse. Durante esse período você deverá definir um prazo de encerramento da campanha para poder receber os recursos arrecadados. Uma vez definido, o prazo de encerramento não poderá ser alterado.')\n                  ]),\n                  m('.w-col.w-col-11', [\n                    m('div', [\n                        m('span.fontsize-smallest.fontcolor-secondary', '5/9'),\n                        ' ',\n                      m('span.fontweight-semibold', 'Prazo para repasse')\n                    ]),\n                    m('div', 'Após encerrar a sua campanha e confirmar seus dados bancários, o Catarse realizará o repasse diretamente na sua conta corrente em até 10 dias úteis. O valor depositado já estará considerando o desconto de 13% da taxa.')\n                  ]),\n                  m('.w-col.w-col-11', [\n                    m('div', [\n                        m('span.fontsize-smallest.fontcolor-secondary', '6/9'),\n                        ' ',\n                      m('span.fontweight-semibold', 'O que pode e não pode alterar na página do projeto a partir da publicação?')\n                    ]),\n                  [m('div', [m('span.fontweight-semibold', 'Você não poderá:'),' alterar o nome do projeto, a URL (link) do projeto, a categoria escolhida, a meta de arrecadação, o prazo escolhido e as recompensas onde existirem apoios já efetuados.\\\n                    '                          ,m('br'),m('br'),m('span.fontweight-semibold', 'Você poderá: '),'editar o conteúdo da descrição do projeto, alterar o vídeo principal da campanha, a imagem do projeto, a frase de efeito as recompensas onde não existirem apoios efetuados, além de adicionar novas recompensas durante a arrecadação.'])]\n                  ]),\n                  m('.w-col.w-col-11', [\n                    m('div', [\n                        m('span.fontsize-smallest.fontcolor-secondary', '7/9'),\n                        ' ',\n                      m('span.fontweight-semibold', 'Responsabilidade do Catarse')\n                    ]),\n                  [m('div', [m('span.fontweight-semibold'),m('span.fontweight-semibold', 'O Catarse é responsável:'),' pelo desenvolvimento tecnológico da plataforma, atendimento de dúvidas e problemas (tanto de apoiadores quanto de realizadores), por hospedar o projeto na plataforma e por garantir a segurança das transações financeiras.\\ ',m('br'),m('br'),m('span.fontweight-semibold', 'O Catarse não é responsável:'),' pelo financiamento, divulgação e execução, nem pela entrega de recompensas dos projetos inscritos.'])]\n                  ]),\n                  m('.w-col.w-col-11', [\n                    m('div', [\n                        m('span.fontsize-smallest.fontcolor-secondary', '8/9'),\n                        ' ',\n                      m('span.fontweight-semibold', 'Suas responsabilidades')\n                    ]),\n                    m('div', [m('span.fontweight-semibold'),m('span.fontweight-semibold'),'É sua responsabilidade tudo aquilo que diz respeito a formatação do projeto, planejamento e divulgação da campanha de arrecadação, mobilização de apoiadores, execução do projeto, produção e entrega de recompensas dentro do prazo estimado e comunicação com apoiadores.'])\n                  ]),\n                  m('.w-col.w-col-11', [\n                    m('div', [\n                      m('span.fontsize-smallest.fontcolor-secondary', '9/9'),\n                      ' ',\n                      m('span', {style: {'font-weight': ' 600'}}, 'Retiradas de projetos no ar')\n                    ]),\n                    m('div', [m('span.fontweight-semibold'),'O CATARSE reserva-se o direito de, a seu exclusivo critério e uma vez notificado a respeito, cancelar projetos e encerrar as contas de CRIADORES DE PROJETOS que violem nossas ',m('a.alt-link[href=\\'http://suporte.catarse.me/hc/pt-br/articles/202387638-Diretrizes-para-cria%C3%A7%C3%A3o-de-projetos\\'][target=\\'_blank\\']', 'Regras do Jogo'),' e ',m('a.alt-link[href=\\'http://www.catarse.me/terms-of-use\\'][target=\\'_blank\\']', 'Termos de Uso'),'.'])\n                  ])\n\n          ];\n          },\n\n          terms = (project) => {\n              return [m('.w-col.w-col-11', [\n                      m('div', [\n                        m('span.fontsize-smallest.fontcolor-secondary', '1/9'),\n                        ' ',\n                        m('span.fontweight-semibold', 'Regras da modalidade Tudo-ou-nada')\n                      ]),\n                      m('div', ['Você escolheu a campanha tudo-ou-nada. Dessa maneira, você só irá receber os recursos arrecadados ',m('span.fontweight-semibold', 'caso atinja ou supere a meta de arrecadação'),'. Caso contrário, todos seus apoiadores serão reembolsados. Você será responsável pela entrega das recompensas oferecidas se seu projeto alcançar a meta de arrecadação.'])\n                    ]),\n\n                    m('.w-col.w-col-11', [\n                      m('div', [\n                        m('span.fontsize-smallest.fontcolor-secondary', '2/9'),\n                        ' ',\n                        m('span', {style: {'font-weight': ' 600'}}, 'Meta de arrecadação')\n                      ]),\n                      m('div', 'A meta não poderá ser alterada após o publicação do projeto.'),\n\n                    ]),\n\n                    m('.w-col.w-col-11', [\n                      m('div', [\n                        m('span.fontsize-smallest.fontcolor-secondary', '3/9'),\n                        ' ',\n                        m('span', {style: {'font-weight': ' 600'}}, 'Taxas')\n                      ]),\n                      m('div', [\n                        'Cobramos 13% sobre o ',\n                        m('span.fontweight-semibold', 'valor total arrecadado'),\n                        ' pelo seu projeto caso ele atinja ou supere a meta dentro do prazo da campanha. Se o projeto não atingir a meta, nenhuma taxa será cobrada.',\n                        m('span.fontweight-semibold')\n                      ])\n                    ]),\n\n                    m('.w-col.w-col-11', [\n                      m('div', [\n                        m('span.fontsize-smallest.fontcolor-secondary', '4/9'),\n                        ' ',\n                        m('span', {style: {'font-weight': ' 600'}}, 'Prazo da campanha')\n                      ]),\n                      m('div', `Seu projeto estará em arrecadação no Catarse até o dia ${h.momentify(project.zone_expires_at)} às 23h59min59s. Este prazo não poderá ser alterado após a publicação do projeto.`)\n                    ]),\n\n                    m('.w-col.w-col-11', [\n                      m('div', [\n                        m('span.fontsize-smallest.fontcolor-secondary', '5/9'),\n                        ' ',\n                        m('span', {style: {'font-weight': ' 600'}}, 'Regras do repasse e reembolso')\n                      ]),\n                      m('div', ['Após encerrar o seu projeto e confirmar seus dados bancários, o Catarse depositará o valor arrecadado, já com o desconto da taxa, na sua conta corrente em até 10 dias úteis. Caso o projeto não atinja 100% da meta dentro do prazo, o Catarse irá reembolsar os apoiadores. ',m('a.alt-link[href=\\'http://suporte.catarse.me/hc/pt-br/articles/202365507\\'][target=\\'_blank\\']', 'Saiba mais sobre o processo de reembolso'),'.'])\n                    ]),\n\n                    m('.w-col.w-col-11', [\n                      m('div', [\n                        m('span.fontsize-smallest.fontcolor-secondary', '6/9'),\n                        ' ',\n                        m('span', {style: {'font-weight': ' 600'}}, 'O que pode e não pode alterar na página do projeto a partir da publicação?')\n                      ]),\n                    [m('div', [m('span.fontweight-semibold', 'Você não poderá:'),' alterar o nome do projeto, a URL (link) do projeto, a categoria escolhida, a meta de arrecadação, o prazo escolhido e as recompensas onde existirem apoios já efetuados.\\ ',m('br'),m('br'),m('span.fontweight-semibold', 'Você poderá: '),'editar o conteúdo da descrição do projeto, alterar o vídeo principal da campanha, a imagem do projeto, a frase de efeito as recompensas onde não existirem apoios efetuados, além de adicionar novas recompensas durante a arrecadação.'])]]),\n\n                    m('.w-col.w-col-11', [\n                      m('div', [\n                        m('span.fontsize-smallest.fontcolor-secondary', '7/9'),\n                        ' ',\n                        m('span', {style: {'font-weight': ' 600'}}, 'Responsabilidade do Catarse')\n                      ]),\n                    [m('div', [m('span.fontweight-semibold'),m('span.fontweight-semibold', 'O Catarse é responsável:'),' pelo desenvolvimento tecnológico da plataforma, atendimento de dúvidas e problemas (tanto de apoiadores quanto de realizadores), por hospedar o projeto na plataforma e por garantir a segurança das transações financeiras.\\ ',m('br'),m('br'),m('span.fontweight-semibold', 'O Catarse não é responsável:'),' pelo financiamento, divulgação e execução, nem pela entrega de recompensas dos projetos inscritos.'])]]),\n\n                    m('.w-col.w-col-11', [\n                      m('div', [\n                        m('span.fontsize-smallest.fontcolor-secondary', '8/9'),\n                        ' ',\n                        m('span', {style: {'font-weight': ' 600'}}, 'Suas responsabilidades')\n                      ]),\n                      m('div', [m('span.fontweight-semibold'),m('span.fontweight-semibold'),'É sua responsabilidade tudo aquilo que diz respeito a formatação do projeto, planejamento e divulgação da campanha de arrecadação, mobilização de apoiadores, execução do projeto, produção e entrega de recompensas dentro do prazo estimado e comunicação com apoiadores.'])\n                    ]),\n\n                    m('.w-col.w-col-11', [\n                      m('div', [\n                        m('span.fontsize-smallest.fontcolor-secondary', '9/9'),\n                        ' ',\n                        m('span', {style: {'font-weight': ' 600'}}, 'Retiradas de projetos no ar')\n                      ]),\n                      m('div', [m('span.fontweight-semibold'),'O CATARSE reserva-se o direito de, a seu exclusivo critério e uma vez notificado a respeito, cancelar projetos e encerrar as contas de CRIADORES DE PROJETOS que violem nossas ',m('a.alt-link[href=\\'http://suporte.catarse.me/hc/pt-br/articles/202387638-Diretrizes-para-cria%C3%A7%C3%A3o-de-projetos\\'][target=\\'_blank\\']', 'Regras do Jogo'),' e ',m('a.alt-link[href=\\'http://www.catarse.me/terms-of-use\\'][target=\\'_blank\\']', 'Termos de Uso'),'.'])\n                    ])\n\n              ];\n          };\n\n        return [!ctrl.l() && !ctrl.accountL() ? [\n        (project.is_owner_or_admin ? m.component(projectDashboardMenu, {\n            project: m.prop(project),\n            hidePublish: true\n        }) : ''),\n        m(`.w-section.section-product.${project.mode}`),\n        m('.w-section.section', [\n          m('.w-container', [\n            m('.w-row', [\n              m('.w-col.w-col-3'),\n              m('.w-col.w-col-6', [\n                m('.u-text-center', [\n                  m('img.u-marginbottom-20[src=\\'/assets/catarse_bootstrap/launch-icon.png\\'][width=\\'94\\']'),\n                  m('.fontsize-large.fontweight-semibold.u-marginbottom-20', 'Pronto para lançar sua campanha?'),\n                  m('.fontsize-base.u-marginbottom-30', 'Preparamos uma lista com informações importantes para você checar antes de colocar seu projeto no ar!')\n                ])\n              ]),\n              m('.w-col.w-col-3')\n            ])\n          ])\n        ]),\n        m('.divider'),\n        m('.w-section.section-one-column.bg-gray.section.before-footer', [\n          m('.w-container', [\n            m('.card.medium.u-marginbottom-60.card-terciary', [\n              m('.w-row', [\n                m('.w-col.w-col-6.w-clearfix', [\n                  m('img.card-project-thumb.u-right[src=' + project.large_image + ']')\n                ]),\n                m('.w-col.w-col-6', [\n                  m('.u-marginbottom-30.fontsize-base', [\n                    m('div', [m('span.fontweight-semibold', 'Título: '), project.name]),\n                    m('div', [m('span.fontweight-semibold', 'Link: '),`www.catarse.me/${project.permalink}`]),\n                    m('div', [m('span.fontweight-semibold', 'Modalidade de financiamento: '), I18n.t(project.mode, I18nScope())]),\n                    m('div', [m('span.fontweight-semibold', 'Meta de arrecadação: '),`R$ ${h.formatNumber(project.goal, 2, 3)}`]),\n                    (project.mode !== 'flex') ? m('div', [m('span.fontweight-semibold', `Prazo: ${project.online_days} dias`)]) : '',\n                    m('div', [m('span.fontweight-semibold', 'Responsável: '), account.owner_name]),\n                    m('div', [m('span.fontweight-semibold', 'CPF/CNPJ: '), account.owner_document])\n                  ])\n                ])\n              ]),\n              m('.u-text-center', [\n                m('.w-row', [\n                  m('.w-col.w-col-1'),\n                  m('.w-col.w-col-10', [\n                    m('.divider.u-marginbottom-10'),\n                    m('.fontsize-small.fontcolor-secondary', 'Os dados acima não podem ser alterados após o projeto entrar no ar. Se você precisa fazer mudanças, navegue na barra lateral e volte aqui quando estiver tudo pronto!')\n                  ]),\n                  m('.w-col.w-col-1')\n                ])\n              ])\n            ]),\n            m('.card.medium.u-radius.u-marginbottom-60', [\n              m('.u-text-center.u-marginbottom-60', [\n                m('.fontsize-large.fontweight-semibold', 'Relembre nossas regras'),\n                m('.w-row', [\n                  m('.w-col.w-col-2'),\n                  m('.w-col.w-col-8', [\n                    m('.fontsize-small', ['Antes de publicar, clique nos círculos abaixo e confirme que você está ciente de como funciona o Catarse. Qualquer dúvida, ',m('a.alt-link[href=\\'https://equipecatarse.zendesk.com/account/dropboxes/20298537\\'][target=\\'_blank\\']', 'entre em contato'),'!'])\n                  ]),\n                  m('.w-col.w-col-2')\n                ])\n              ]),\n\n              _.map(project.mode == 'flex' ? flexTerms(project) : terms(project), (term, index) => {\n                  return m(`.u-marginbottom-30.fontsize-base${index == 0 ? '' : '.w-hidden.publish-rules'}`, [\n                    m(`.w-row[id='rule-${index}']`, [\n                      m('.w-col.w-col-1.u-text-center', [\n                        m('div', [\n                          m((project.mode == 'flex' ? ctrl.flexAcceptTerm() : ctrl.acceptTerm())[index] ? `a.w-inline-block.checkbox-big[href='#rule-${index + 1}']` : `a.w-inline-block.checkbox-big.checkbox--selected.fa.fa-check.fa-lg[href='#rule-${index + 1}']`, {onclick: () => ctrl.showNextTerm(index, (project.mode == 'flex' ? ctrl.flexAcceptTerm : ctrl.acceptTerm))})\n                        ])\n                      ]),\n                      term\n                    ])\n                ]);\n              })\n\n            ]),\n            m('.w-row.publish-btn-section.w-hidden', [\n              m('.w-col.w-col-4'),\n              m('.w-col.w-col-4', [\n                m(`a.btn.btn-large.u-marginbottom-20[href=/${project.mode == 'flex' ? 'flexible_projects' : 'projects'}/${project.mode == 'flex' ? project.flex_id : project.id}/push_to_online]`, 'Publicar agora!'),\n                m('.u-text-center.fontsize-smaller', [\n                  'Ao publicar o seu projeto, você está aceitando os ',\n                  m('a.alt-link[href=\\'/terms-of-use\\'][target=\\'_blank\\']', 'Termos de Uso'),\n                  ', ',\n                  project.mode == 'flex' ?\n                    m('a.alt-link[href=\\'http://suporte.catarse.me/hc/pt-br/articles/206574833-Regras-para-a-fase-de-testes-do-Catarse-Flex\\'][target=\\'_blank\\']', 'Regras do Flex') : '',\n                  ' e ',\n                  m('a.alt-link[href=\\'/privacy-policy\\'][target=\\'_blank\\']', 'Politica de Privacidade')\n                ])\n              ]),\n              m('.w-col.w-col-4')\n            ])\n          ])\n        ]),\n        '\\\n    '\n      ] : h.loader()];\n    }\n};\n\nexport default publish;\n","import _ from 'underscore';\n\nconst startVM = (I18n) => {\n    const i18nStart = I18n.translations[I18n.currentLocale()].pages.start,\n        testimonials = i18nStart.testimonials,\n        categoryProjects = i18nStart.categoryProjects,\n        panes = i18nStart.panes,\n        qa = i18nStart.qa;\n\n    return {\n        testimonials: _.map(testimonials, (testimonial) => {\n            return {\n                thumbUrl: testimonial.thumb,\n                content: testimonial.content,\n                name: testimonial.name,\n                totals: testimonial.totals\n            };\n        }),\n        panes: _.map(panes, (pane) => {\n            return {\n                label: pane.label,\n                src: pane.src\n            };\n        }),\n        questions: {\n            col_1: _.map(qa.col_1, (question) => {\n                return {\n                    question: question.question,\n                    answer: question.answer\n                };\n            }),\n            col_2: _.map(qa.col_2, (question) => {\n                return {\n                    question: question.question,\n                    answer: question.answer\n                };\n            })\n        },\n        categoryProjects: _.map(categoryProjects, (category) => {\n            return {\n                categoryId: category.category_id,\n                sampleProjects: [\n                    category.sample_project_ids.primary,\n                    category.sample_project_ids.secondary\n                ]\n            };\n        })\n    };\n};\n\nexport default startVM;\n","import m from 'mithril';\nimport postgrest from 'mithril-postgrest';\nimport _ from 'underscore';\nimport models from '../models';\nimport h from '../h';\nimport I18n from 'i18n-js';\nimport startVM from '../vms/start-vm';\nimport youtubeLightbox from '../c/youtube-lightbox';\nimport slider from '../c/slider';\nimport landingQA from '../c/landing-qa';\n\nconst I18nScope = _.partial(h.i18nScope, 'pages.start');\n\nconst start = {\n    controller () {\n        const stats = m.prop([]),\n            categories = m.prop([]),\n            selectedPane = m.prop(0),\n            selectedCategory = m.prop([]),\n            featuredProjects = m.prop([]),\n            selectedCategoryIdx = m.prop(-1),\n            startvm = startVM(I18n),\n            filters = postgrest.filtersVM,\n            paneImages = startvm.panes,\n            categoryvm = filters({\n                category_id: 'eq'\n            }),\n            projectvm = filters({\n                project_id: 'eq'\n            }),\n            uservm = filters({\n                id: 'eq'\n            }),\n            loader = postgrest.loader,\n            statsLoader = loader(models.statistic.getRowOptions()),\n            loadCategories = () => {\n                return models.category.getPage(filters({}).order({\n                    name: 'asc'\n                }).parameters()).then(categories);\n            },\n            selectPane = (idx) => {\n                return () => {\n                    selectedPane(idx);\n                };\n            },\n            lCategory = () => {\n                return loader(models.categoryTotals.getRowOptions(categoryvm.parameters()));\n            },\n            lProject = () => {\n                return loader(models.projectDetail.getRowOptions(projectvm.parameters()));\n            },\n            lUser = () => {\n                return loader(models.userDetail.getRowOptions(uservm.parameters()));\n            },\n            selectCategory = (category) => {\n                return () => {\n                    selectedCategoryIdx(category.id);\n                    categoryvm.category_id(category.id);\n                    selectedCategory([category]);\n                    m.redraw();\n                    lCategory().load().then(loadCategoryProjects);\n                };\n            },\n            setUser = (user, idx) => {\n                featuredProjects()[idx] = _.extend({}, featuredProjects()[idx], {\n                    userThumb:  _.first(user).profile_img_thumbnail\n                });\n            },\n            setProject = (project, idx) => {\n                featuredProjects()[idx] = _.first(project);\n                uservm.id(_.first(project).user.id);\n                lUser().load().then((user) => setUser(user, idx));\n            },\n            loadCategoryProjects = (category) => {\n                selectedCategory(category);\n                let categoryProjects = _.findWhere(startvm.categoryProjects, {\n                    categoryId: _.first(category).category_id\n                });\n                featuredProjects([]);\n                if (!_.isUndefined(categoryProjects)) {\n                    _.map(categoryProjects.sampleProjects, (project_id, idx) => {\n                        if (!_.isUndefined(project_id)) {\n                            projectvm.project_id(project_id);\n                            lProject().load().then((project) => setProject(project, idx));\n                        }\n                    });\n                }\n            };\n\n        statsLoader.load().then(stats);\n        loadCategories();\n\n        return {\n            stats: stats,\n            categories: categories,\n            paneImages: paneImages,\n            selectCategory: selectCategory,\n            selectedCategory: selectedCategory,\n            selectedCategoryIdx: selectedCategoryIdx,\n            selectPane: selectPane,\n            selectedPane: selectedPane,\n            featuredProjects: featuredProjects,\n            testimonials: startvm.testimonials,\n            questions: startvm.questions\n        };\n    },\n    view (ctrl, args) {\n        let stats = _.first(ctrl.stats());\n        const testimonials = () => {\n            return _.map(ctrl.testimonials, (testimonial) => {\n                const content = m('.card.u-radius.card-big.card-terciary', [\n                    m('.u-text-center.u-marginbottom-20', [\n                        m(`img.thumb-testimonial.u-round.u-marginbottom-20[src=\"${testimonial.thumbUrl}\"]`)\n                    ]),\n                    m('p.fontsize-large.u-marginbottom-30', `\"${testimonial.content}\"`),\n                    m('.u-text-center', [\n                        m('.fontsize-large.fontweight-semibold', testimonial.name),\n                        m('.fontsize-base', testimonial.totals)\n                    ])\n                ]);\n\n                return {\n                    content: content\n                };\n            });\n\n        };\n\n        return [\n            m('.w-section.hero-full.hero-start', [\n                m('.w-container.u-text-center', [\n                    m('.fontsize-megajumbo.fontweight-semibold.u-marginbottom-40', I18n.t('slogan', I18nScope())),\n                    m('.w-row.u-marginbottom-40', [\n                        m('.w-col.w-col-4.w-col-push-4', [\n                            m('a.btn.btn-large.u-marginbottom-10[href=\"#start-form\"]', {\n                                config: h.scrollTo()\n                            }, I18n.t('submit', I18nScope()))\n                        ])\n                    ]),\n                    m('.w-row', _.isEmpty(stats) ? '' : [\n                        m('.w-col.w-col-4', [\n                            m('.fontsize-largest.lineheight-loose', h.formatNumber(stats.total_contributors, 0, 3)),\n                            m('p.fontsize-small.start-stats', I18n.t('header.people', I18nScope()))\n                        ]),\n                        m('.w-col.w-col-4', [\n                            m('.fontsize-largest.lineheight-loose', stats.total_contributed.toString().slice(0, 2) + ' milhões'),\n                            m('p.fontsize-small.start-stats', I18n.t('header.money', I18nScope()))\n                        ]),\n                        m('.w-col.w-col-4', [\n                            m('.fontsize-largest.lineheight-loose', h.formatNumber(stats.total_projects_success, 0, 3)),\n                            m('p.fontsize-small.start-stats', I18n.t('header.success', I18nScope()))\n                        ])\n                    ])\n                ])\n            ]),\n            m('.w-section.section', [\n                m('.w-container', [\n                    m('.w-row', [\n                        m('.w-col.w-col-10.w-col-push-1.u-text-center', [\n                            m('.fontsize-larger.u-marginbottom-10.fontweight-semibold', I18n.t('page-title', I18nScope())),\n                            m('.fontsize-small', I18n.t('page-subtitle', I18nScope()))\n                        ]),\n                    ]),\n                    m('.w-clearfix.how-row', [\n                        m('.w-hidden-small.w-hidden-tiny.how-col-01', [\n                            m('.info-howworks-backers', [\n                                m('.fontweight-semibold.fontsize-large', I18n.t('banner.1', I18nScope())),\n                                m('.fontsize-base', I18n.t('banner.2', I18nScope()))\n                            ]),\n                            m('.info-howworks-backers', [\n                                m('.fontweight-semibold.fontsize-large', I18n.t('banner.3', I18nScope())),\n                                m('.fontsize-base', I18n.t('banner.4', I18nScope()))\n                            ])\n                        ]),\n                        m('.how-col-02'),\n                        m('.how-col-03', [\n                            m('.fontweight-semibold.fontsize-large', I18n.t('banner.5', I18nScope())),\n                            m('.fontsize-base', I18n.t('banner.6', I18nScope())),\n                            m('.fontweight-semibold.fontsize-large.u-margintop-30', I18n.t('banner.7', I18nScope())),\n                            m('.fontsize-base', I18n.t('banner.8', I18nScope()))\n                        ]),\n                        m('.w-hidden-main.w-hidden-medium.how-col-01', [\n                            m('.info-howworks-backers', [\n                                m('.fontweight-semibold.fontsize-large', I18n.t('banner.1', I18nScope())),\n                                m('.fontsize-base', I18n.t('banner.2', I18nScope()))\n                            ]),\n                            m('.info-howworks-backers', [\n                                m('.fontweight-semibold.fontsize-large', I18n.t('banner.3', I18nScope())),\n                                m('.fontsize-base',  I18n.t('banner.4', I18nScope()))\n                            ])\n                        ])\n                    ])\n                ])\n            ]),\n            m('.w-section.divider'),\n            m('.w-section.section-large', [\n                m('.w-container.u-text-center.u-marginbottom-60', [\n                    m('div', [\n                        m('span.fontsize-largest.fontweight-semibold', I18n.t('features.title', I18nScope()))\n                    ]),\n                    m('.w-hidden-small.w-hidden-tiny.fontsize-large.u-marginbottom-20', I18n.t('features.subtitle', I18nScope())),\n                    m('.w-hidden-main.w-hidden-medium.u-margintop-30', [\n                        m('.fontsize-large.u-marginbottom-30', I18n.t('features.feature_1', I18nScope())),\n                        m('.fontsize-large.u-marginbottom-30', I18n.t('features.feature_2', I18nScope())),\n                        m('.fontsize-large.u-marginbottom-30', I18n.t('features.feature_3', I18nScope())),\n                        m('.fontsize-large.u-marginbottom-30', I18n.t('features.feature_4', I18nScope())),\n                        m('.fontsize-large.u-marginbottom-30', I18n.t('features.feature_5', I18nScope()))\n                    ])\n                ]),\n                m('.w-container', [\n                    m('.w-tabs.w-hidden-small.w-hidden-tiny', [\n                        m('.w-tab-menu.w-col.w-col-4', _.map(ctrl.paneImages, (pane, idx) => {\n                            return m(`btn.w-tab-link.w-inline-block.tab-list-item${(idx === ctrl.selectedPane()) ? '.selected' : ''}`, {\n                                onclick: ctrl.selectPane(idx)\n                            }, pane.label);\n                        })),\n                        m('.w-tab-content.w-col.w-col-8', _.map(ctrl.paneImages, (pane, idx) => {\n                            return m('.w-tab-pane', [\n                                m(`img[src=\"${pane.src}\"].pane-image${(idx === ctrl.selectedPane()) ? '.selected' : ''}`)\n                            ]);\n                        }))\n                    ])\n                ])\n            ]),\n            m('.w-section.section-large.bg-blue-one', [\n                m('.w-container.u-text-center', [\n                    m('.fontsize-larger.lineheight-tight.fontcolor-negative.u-marginbottom-20', [\n                        I18n.t('video.title', I18nScope()),\n                        m('br'),\n                        I18n.t('video.subtitle', I18nScope())\n                    ]),\n                    m.component(youtubeLightbox, {\n                        src: I18n.t('video.src', I18nScope())\n                    })\n                ])\n            ]),\n            m('.w-hidden-small.w-hidden-tiny.section-categories', [\n                m('.w-container', [\n                    m('.u-text-center', [\n                        m('.w-row', [\n                            m('.w-col.w-col-10.w-col-push-1', [\n                                m('.fontsize-large.u-marginbottom-40.fontcolor-negative', I18n.t('categories.title', I18nScope()))\n                            ])\n                        ])\n                    ]),\n                    m('.w-tabs', [\n                        m('.w-tab-menu.u-text-center', _.map(ctrl.categories(), (category) => {\n                            return m(`a.w-tab-link.w-inline-block.btn-category.small.btn-inline${(ctrl.selectedCategoryIdx() === category.id) ? '.w--current' : ''}`, {\n                                onclick: ctrl.selectCategory(category)\n                            }, [\n                                m('div', category.name)\n                            ]);\n                        })),\n                        m('.w-tab-content.u-margintop-40', [\n                            m('.w-tab-pane.w--tab-active', [\n                                m('.w-row', (ctrl.selectedCategoryIdx() !== -1) ? _.map(ctrl.selectedCategory(), (category) => {\n                                    return [\n                                        m('.w-col.w-col-5', [\n                                            m('.fontsize-jumbo.u-marginbottom-20', category.name),\n                                            m('a.w-button.btn.btn-medium.btn-inline.btn-dark[href=\"#start-form\"]', {\n                                                config: h.scrollTo()\n                                            }, I18n.t('submit', I18nScope()))\n                                        ]),\n                                        m('.w-col.w-col-7', [\n                                            m('.fontsize-megajumbo.fontcolor-negative', `R$ ${category.total_successful_value ? h.formatNumber(category.total_successful_value, 2, 3) : '...'}`),\n                                            m('.fontsize-large.u-marginbottom-20', 'Doados para projetos'),\n                                            m('.fontsize-megajumbo.fontcolor-negative', (category.successful_projects) ? category.successful_projects : '...'),\n                                            m('.fontsize-large.u-marginbottom-30', 'Projetos financiados'),\n                                            !_.isEmpty(ctrl.featuredProjects()) ? _.map(ctrl.featuredProjects(), (project) => {\n                                                return !_.isUndefined(project) ? m('.w-row.u-marginbottom-10', [\n                                                    m('.w-col.w-col-1', [\n                                                        m(`img.user-avatar[src=\"${h.useAvatarOrDefault(project.userThumb)}\"]`)\n                                                    ]),\n                                                    m('.w-col.w-col-11', [\n                                                        m('.fontsize-base.fontweight-semibold', project.user.name),\n                                                        m('.fontsize-smallest', [\n                                                            I18n.t('categories.pledged', I18nScope({pledged: h.formatNumber(project.pledged), contributors: project.total_contributors})),\n                                                            m(`a.link-hidden[href=\"/${project.permalink}\"]`, project.name)\n                                                        ])\n                                                    ])\n                                                ]) : m('.fontsize-base', I18n.t('categories.loading_featured', I18nScope()));\n                                            }) : '',\n                                        ])\n                                    ];\n                                }) : '')\n                            ])\n                        ])\n                    ])\n                ])\n            ]),\n            m.component(slider, {\n                slides: testimonials(),\n                title: I18n.t('testimonials_title', I18nScope()),\n                slideClass: 'slide-testimonials-content',\n                wrapperClass: 'slide-testimonials'\n            }),\n            m('.w-section.divider.u-margintop-30'),\n            m('.w-container', [\n                m('.fontsize-larger.u-text-center.u-marginbottom-60.u-margintop-40', I18n.t('qa_title', I18nScope())),\n                m('.w-row.u-marginbottom-60', [\n                    m('.w-col.w-col-6', _.map(ctrl.questions.col_1, (question) => {\n                        return m.component(landingQA, {\n                            question: question.question,\n                            answer: question.answer\n                        });\n                    })),\n                    m('.w-col.w-col-6', _.map(ctrl.questions.col_2, (question) => {\n                        return m.component(landingQA, {\n                            question: question.question,\n                            answer: question.answer\n                        });\n                    }))\n                ])\n            ]),\n            m('#start-form.w-section.section-large.u-text-center.bg-purple.before-footer', [\n                m('.w-container', [\n                    m('.fontsize-jumbo.fontcolor-negative.u-marginbottom-60', 'Crie o seu rascunho gratuitamente!'),\n                    m('form[action=\"/projects/fallback_create\"][method=\"GET\"].w-row.w-form', [\n                        m('.w-col.w-col-2'),\n                        m('.w-col.w-col-8', [\n                            m('.fontsize-larger.fontcolor-negative.u-marginbottom-10', I18n.t('form.title', I18nScope())),\n                            m('input[name=\"utf8\"][type=\"hidden\"][value=\"✓\"]'),\n                            m(`input[name=\"authenticity_token\"][type=\"hidden\"][value=\"${h.authenticityToken()}\"]`),\n                            m('input.w-input.text-field.medium.u-marginbottom-30[type=\"text\"]', {name: 'project[name]'}),\n                            m('.fontsize-larger.fontcolor-negative.u-marginbottom-10', 'na categoria'),\n                            m('select.w-select.text-field.medium.u-marginbottom-40', {name: 'project[category_id]'},[\n                                m('option[value=\"\"]', I18n.t('form.select_default', I18nScope())),\n                                _.map(ctrl.categories(), (category) => {\n                                    return m(`option[value=\"${category.id}\"]`, category.name);\n                                })\n                            ])\n                        ]),\n                        m('.w-col.w-col-2'),\n                        m('.w-row.u-marginbottom-80', [\n                            m('.w-col.w-col-4.w-col-push-4.u-margintop-40', [\n                                m(`input[type=\"submit\"][value=\"${I18n.t('form.submit', I18nScope())}\"].w-button.btn.btn-large`)\n                            ])\n                        ])\n                    ])\n                ])\n            ])\n        ];\n    }\n};\n\nexport default start;\n","import m from 'mithril';\nimport teamTotal from '../c/team-total';\nimport teamMembers from '../c/team-members';\n\nconst team = {\n    view () {\n        return m('#static-team-app', [\n            m.component(teamTotal),\n            m.component(teamMembers)\n        ]);\n    }\n}\n\nexport default team;\n","import adminUsers from './root/admin-users';\nimport adminContributions from './root/admin-contributions';\nimport flex from './root/flex';\nimport insights from './root/insights';\nimport jobs from './root/jobs';\nimport liveStatistics from './root/live-statistics';\nimport projectsContributionReport from './root/projects-contribution-report';\nimport projectsDashboard from './root/projects-dashboard';\nimport projectsExplore from './root/projects-explore';\nimport projectsHome from './root/projects-home';\nimport projectsShow from './root/projects-show';\nimport publish from './root/publish';\nimport start from './root/start';\nimport team from './root/team';\nimport usersBalanceMain from './root/users-balance-main';\n\nconst c = {\n    root: {\n        AdminUsers: adminUsers,\n        AdminContributions: adminContributions,\n        Flex: flex,\n        Insights: insights,\n        Jobs: jobs,\n        LiveStatistics: liveStatistics,\n        ProjectsContributionReport: projectsContributionReport,\n        ProjectsDashboard: projectsDashboard,\n        ProjectsExplore: projectsExplore,\n        ProjectsHome: projectsHome,\n        ProjectsShow: projectsShow,\n        Publish: publish,\n        Start: start,\n        Team: team,\n        UsersBalance: usersBalanceMain\n    }\n};\n\nexport default c;\n","import m from 'mithril';\nimport _ from 'underscore';\nimport h from '../h';\nimport models from '../models';\n\nconst userCard = {\n    controller (args) {\n        const vm = h.idVM,\n            userDetails = m.prop([]);\n\n        vm.id(args.userId);\n\n        //FIXME: can call anon requests when token fails (requestMaybeWithToken)\n        models.userDetail.getRowWithToken(vm.parameters()).then(userDetails);\n\n        return {\n            userDetails: userDetails\n        };\n    },\n    view (ctrl) {\n        return m('#user-card', _.map(ctrl.userDetails(), (userDetail) => {\n            return m('.card.card-user.u-radius.u-marginbottom-30[itemprop=\"author\"]', [\n                m('.w-row', [\n                    m('.w-col.w-col-4.w.col-small-4.w-col-tiny-4.w-clearfix', [\n                        m('img.thumb.u-round[width=\"100\"][itemprop=\"image\"][src=\"' + userDetail.profile_img_thumbnail + '\"]')\n                    ]),\n                    m('.w-col.w-col-8.w-col-small-8.w-col-tiny-8', [\n                        m('.fontsize-small.fontweight-semibold.lineheight-tighter[itemprop=\"name\"]', [\n                            m('a.link-hidden[href=\"/users/' + userDetail.id + '\"]', userDetail.name)\n                        ]),\n                        m('.fontsize-smallest.lineheight-looser[itemprop=\"address\"]', userDetail.address_city),\n                        m('.fontsize-smallest', userDetail.total_published_projects + ' projetos criados'),\n                        m('.fontsize-smallest', 'apoiou ' + userDetail.total_contributed_projects + ' projetos')\n                    ]),\n                ]),\n                m('.project-author-contacts', [\n                    m('ul.w-list-unstyled.fontsize-smaller.fontweight-semibold', [\n                        (!_.isEmpty(userDetail.facebook_link) ? m('li', [\n                            m('a.link-hidden[itemprop=\"url\"][href=\"' + userDetail.facebook_link + '\"][target=\"_blank\"]', 'Perfil no Facebook')\n                        ]) : ''), (!_.isEmpty(userDetail.twitter_username) ? m('li', [\n                            m('a.link-hidden[itemprop=\"url\"][href=\"https://twitter.com/' + userDetail.twitter_username + '\"][target=\"_blank\"]', 'Perfil no Twitter')\n                        ]) : ''),\n                        _.map(userDetail.links, (link) => {\n                            return m('li', [\n                                m('a.link-hidden[itemprop=\"url\"][href=\"' + link + '\"][target=\"_blank\"]', link)\n                            ]);\n                        })\n                    ]),\n                ]), (!_.isEmpty(userDetail.email) ? m('a.btn.btn-medium.btn-message[href=\"mailto:' + userDetail.email + '\"][itemprop=\"email\"][target=\"_blank\"]', 'Enviar mensagem') : '')\n            ]);\n        }));\n    }\n};\n\nexport default userCard;\n"],"names":["moment","m","I18n","_","postgrest","I18nScope","contributionFilterVM","vm","paramToString","userFilterVM","projectFiltersVM","projectFilters","userBalanceRequestModalContent","userBalanceTransactionRow","usersBalanceMain","projectsContributionReportVM","c","flex","projectsContributionReport"],"mappings":"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"}